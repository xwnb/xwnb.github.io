<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="个人站，学习记录、实践教程、资料收集等，哈哈哈。"><title>MEM52-CPP. 检测并处理内存分配错误 | Sun of Beach</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/latest/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/latest/pure-min.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/latest/grids-responsive-min.min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/latest/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"><script type="text/javascript" src="//lib.baomitu.com/clipboard.js/latest/clipboard.min.js"></script><script type="text/javascript" src="//lib.baomitu.com/toastr.js/latest/toastr.min.js"></script><link rel="stylesheet" href="//lib.baomitu.com/toastr.js/latest/toastr.min.css"><div class="darkmode-toggle">🌓</div><script>var prefersDarkMode = window.matchMedia('(prefers-color-scheme: dark)');
var toggle = document.querySelector('.darkmode-toggle');
var html = document.querySelector('html');

html.dataset.dark = localStorage.dark || prefersDarkMode.matches;

toggle.addEventListener('click', () => {
localStorage.dark = !(html.dataset.dark == 'true');
html.dataset.dark = localStorage.dark;
});</script><meta name="generator" content="Hexo 6.3.0"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">MEM52-CPP. 检测并处理内存分配错误</h1><a id="logo" href="/.">Sun of Beach</a><p class="description">Stay Angry, Stay Foolish</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">MEM52-CPP. 检测并处理内存分配错误</h1><div class="post-meta">2021-11-13<span> | </span><span class="category"><a href="/categories/SEI-CERT-C/">SEI CERT C++</a></span><script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> 阅读</span></span><span class="post-time"><span class="post-meta-item-text"> | </span><span class="post-meta-item-icon"><i class="fa fa-keyboard-o"></i><span class="post-count"> 1.7k</span><span class="post-meta-item-text"> 字</span></span></span><span class="post-time"> | <span class="post-meta-item-icon"><i class="fa fa-clock-o"></i><span class="post-count"> 8</span><span class="post-meta-item-text"> 分钟</span></span></span></div><div class="clear"><div class="toc-article" id="toc"><div class="toc-title">文章目录</div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8D%E5%90%88%E8%A7%84%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B"><span class="toc-number">1.</span> <span class="toc-text">不合规代码示例</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%88%E8%A7%84%E6%96%B9%E6%A1%88-std-nothrow"><span class="toc-number">2.</span> <span class="toc-text">合规方案 (std::nothrow)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%88%E8%A7%84%E6%96%B9%E6%A1%88-std-bad-alloc"><span class="toc-number">3.</span> <span class="toc-text">合规方案 (std::bad_alloc)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%88%E8%A7%84%E6%96%B9%E6%A1%88-noexcept-false"><span class="toc-number">4.</span> <span class="toc-text">合规方案 (noexcept(false))</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8D%E5%90%88%E8%A7%84%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B-1"><span class="toc-number">5.</span> <span class="toc-text">不合规代码示例</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%88%E8%A7%84%E6%96%B9%E6%A1%88-std-unique-ptr"><span class="toc-number">6.</span> <span class="toc-text">合规方案 (std::unique_ptr)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%88%E8%A7%84%E6%96%B9%E6%A1%88-References"><span class="toc-number">7.</span> <span class="toc-text">合规方案 (References)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A3%8E%E9%99%A9%E8%AF%84%E4%BC%B0"><span class="toc-number">8.</span> <span class="toc-text">风险评估</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Automated-Detection"><span class="toc-number">9.</span> <span class="toc-text">Automated Detection</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Related-Vulnerabilities"><span class="toc-number">10.</span> <span class="toc-text">Related Vulnerabilities</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Related-Guidelines"><span class="toc-number">11.</span> <span class="toc-text">Related Guidelines</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Bibliography"><span class="toc-number">12.</span> <span class="toc-text">Bibliography</span></a></li></ol></div></div><div class="post-content"><p>原文链接：</p>
<p><a target="_blank" rel="noopener" href="https://wiki.sei.cmu.edu/confluence/display/cplusplus/MEM52-CPP.+Detect+and+handle+memory+allocation+errors">MEM52-CPP. Detect and handle memory allocation errors</a></p>
<span id="more"></span>

<hr>
<p>默认的内存分配操作符, <code>::operator new(std::size_t)</code>, 如果分配失败, 会抛出 <code>std::bad_alloc</code> 异常. 所以, 没必要去检查 <code>::operator new(std::size_t)</code> 的调用结果是否是 <code>nullptr</code>. 不抛出形式,  <code>::operator new(std::size_t, const std::nothrow_t &amp;)</code>, 如果分配失败, 不抛出异常, 而是返回 <code>nullptr</code>. 同样的行为也体现在 <code>operator new[]</code> 的两个版本的分配函数上. 此外, 默认分配器 (<code>std::allocator</code>) 使用 <code>::operator new(std::size_t)</code> 来执行分配操作, 应该要被同等看待.</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">T *p1 = <span class="keyword">new</span> T; <span class="comment">// Throws std::bad_alloc if allocation fails</span></span><br><span class="line">T *p2 = <span class="built_in">new</span> (std::nothrow) T; <span class="comment">// Returns nullptr if allocation fails</span></span><br><span class="line"></span><br><span class="line">T *p3 = <span class="keyword">new</span> T[<span class="number">1</span>]; <span class="comment">// Throws std::bad_alloc if the allocation fails</span></span><br><span class="line">T *p4 = <span class="built_in">new</span> (std::nothrow) T[<span class="number">1</span>]; <span class="comment">// Returns nullptr if the allocation fails</span></span><br></pre></td></tr></table></figure>

<p>进一步, <code>operator new[]</code> 能抛出类型错误 <code>std::bad_array_new_length</code>, 一个 <code>std::bad_alloc</code> 的子类, 如果传入 <code>new</code> 的 <code>size</code> 参数是个负数或者超大值.</p>
<p>当使用不抛出形式, 在访问该返回的指针前,检查其不是 <code>nullptr</code> 是非常必要的. 使用任一种形式, 确保遵循 <a target="_blank" rel="noopener" href="https://wiki.sei.cmu.edu/confluence/display/cplusplus/ERR50-CPP.+Do+not+abruptly+terminate+the+program">ERR50-CPP. Do not abruptly terminate the program</a>.</p>
<h2 id="不合规代码示例"><a href="#不合规代码示例" class="headerlink" title="不合规代码示例"></a>不合规代码示例</h2><p>在这个不合规的代码示例中, 通过 <code>::operator new[](std::size_t)</code> 构造了一个 <code>int</code> 数组, 但未检查分配的结果. 该函数被标记为 <code>noexcept</code>, 所以调用者假定这个函数不会抛出任何异常. 因为 <code>::operator new[](std::size_t)</code> 在分配失败时能抛出异常, 这可能导致程序 <a target="_blank" rel="noopener" href="https://wiki.sei.cmu.edu/confluence/display/cplusplus/BB.+Definitions#BB.Definitions-abnormaltermination">异常终止</a> .</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">f</span><span class="params">(<span class="type">const</span> <span class="type">int</span> *array, std::<span class="type">size_t</span> size)</span> <span class="keyword">noexcept</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> *copy = <span class="keyword">new</span> <span class="type">int</span>[size];</span><br><span class="line">  std::<span class="built_in">memcpy</span>(copy, array, size * <span class="built_in">sizeof</span>(*copy));</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="keyword">delete</span> [] copy;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="合规方案-std-nothrow"><a href="#合规方案-std-nothrow" class="headerlink" title="合规方案 (std::nothrow)"></a>合规方案 (<code>std::nothrow</code>)</h2><p>当使用 <code>std::nothrow</code>,  <code>new</code> 操作符既不会返回空指针,也不会返回指向已分配空间的指针.  在引用这个返回的指针前, 始终得检查它是否是 <code>nullptr</code>. 这个合规方案恰当地处理了返回 <code>nullptr</code> 的这种错误情况. </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;new&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">f</span><span class="params">(<span class="type">const</span> <span class="type">int</span> *array, std::<span class="type">size_t</span> size)</span> <span class="keyword">noexcept</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> *copy = <span class="built_in">new</span> (std::nothrow) <span class="type">int</span>[size];</span><br><span class="line">  <span class="keyword">if</span> (!copy) &#123;</span><br><span class="line">    <span class="comment">// Handle error</span></span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  std::<span class="built_in">memcpy</span>(copy, array, size * <span class="built_in">sizeof</span>(*copy));</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="keyword">delete</span> [] copy;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="合规方案-std-bad-alloc"><a href="#合规方案-std-bad-alloc" class="headerlink" title="合规方案 (std::bad_alloc)"></a>合规方案 (<code>std::bad_alloc</code>)</h2><p>另外可选的是, 你可以使用不带 <code>std::nothrow</code> 的 <code>::operator new[]</code> 来替换, 且如果没有分配到足够的内存, 捕捉 <code>std::bad_alloc</code> 异常.</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;new&gt;</span></span></span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">f</span><span class="params">(<span class="type">const</span> <span class="type">int</span> *array, std::<span class="type">size_t</span> size)</span> <span class="keyword">noexcept</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> *copy;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    copy = <span class="keyword">new</span> <span class="type">int</span>[size];</span><br><span class="line">  &#125; <span class="built_in">catch</span>(std::bad_alloc) &#123;</span><br><span class="line">    <span class="comment">// Handle error</span></span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// At this point, copy has been initialized to allocated memory</span></span><br><span class="line">  std::<span class="built_in">memcpy</span>(copy, array, size * <span class="built_in">sizeof</span>(*copy));</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="keyword">delete</span> [] copy;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="合规方案-noexcept-false"><a href="#合规方案-noexcept-false" class="headerlink" title="合规方案 (noexcept(false))"></a>合规方案 (noexcept(false))</h2><p>如果函数设计为期望调用者处理异常情况, 则允许显式地标记该函数为可能会抛出异常, 如该合规方案中所示. 标记这类函数并非严格必须的, 和其他没有 <code>noexcept</code> 修饰符的函数一样, 默认是允许抛出异常.</p>
<p>If the design of the function is such that the caller is expected to handle exceptional situations, it is permissible to mark the function explicitly as one that may throw, as in this compliant solution. Marking the function is not strictly required, as any function without a <code>noexcept</code> specifier is presumed to allow throwing.</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">f</span><span class="params">(<span class="type">const</span> <span class="type">int</span> *array, std::<span class="type">size_t</span> size)</span> <span class="title">noexcept</span><span class="params">(<span class="literal">false</span>)</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> *copy = <span class="keyword">new</span> <span class="type">int</span>[size];</span><br><span class="line">  <span class="comment">// If the allocation fails, it will throw an exception which the caller</span></span><br><span class="line">  <span class="comment">// will have to handle.</span></span><br><span class="line">  std::<span class="built_in">memcpy</span>(copy, array, size * <span class="built_in">sizeof</span>(*copy));</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="keyword">delete</span> [] copy;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="不合规代码示例-1"><a href="#不合规代码示例-1" class="headerlink" title="不合规代码示例"></a>不合规代码示例</h2><p>在这个不合规的代码示例中, 同一个表达式中执行了两个内存分配操作. 因为内存分配是被当作参数传入到函数调用里的, 其中一个 <code>new</code> 的调用结果抛出的异常可能导致内存泄漏.</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">A</span> &#123; <span class="comment">/* ... */</span> &#125;;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">B</span> &#123; <span class="comment">/* ... */</span> &#125;; </span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">g</span><span class="params">(A *, B *)</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">f</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">g</span>(<span class="keyword">new</span> A, <span class="keyword">new</span> B);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>考虑这种情况,  <code>A</code> 被分配和构造在先, 然后 <code>B</code> 被分配并抛出异常. 将 <code>g()</code> 的调用包装在 <code>try/catch</code> 块中并不充分, 因为这不能释放已经分配好的 <code>A</code> 的内存.</p>
<p>这个不合规的代码示例也违背了 <a target="_blank" rel="noopener" href="https://wiki.sei.cmu.edu/confluence/display/cplusplus/EXP50-CPP.+Do+not+depend+on+the+order+of+evaluation+for+side+effects">EXP50-CPP. Do not depend on the order of evaluation for side effects</a>, 因为传入 <code>g()</code> 的实参在计算时顺序时未确定的.</p>
<h2 id="合规方案-std-unique-ptr"><a href="#合规方案-std-unique-ptr" class="headerlink" title="合规方案 (std::unique_ptr)"></a>合规方案 (<code>std::unique_ptr</code>)</h2><p>在这个合规方案中, 利用 <code>std::unique_ptr</code> 及 <a target="_blank" rel="noopener" href="https://wiki.sei.cmu.edu/confluence/display/cplusplus/BB.+Definitions#BB.Definitions-RAII">RAII</a> 来管理对象 <code>A</code> 和 <code>B</code> 的资源. 在不合规代码示例所描述的情景中, <code>B</code> 抛出异常仍然将引起对象 <code>A</code> 的析构和释放, 接着 <code>std::unique_ptr&lt;A&gt;</code>  被销毁.</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;memory&gt;</span></span></span><br><span class="line">  </span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">A</span> &#123; <span class="comment">/* ... */</span> &#125;;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">B</span> &#123; <span class="comment">/* ... */</span> &#125;;</span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">g</span><span class="params">(std::unique_ptr&lt;A&gt; a, std::unique_ptr&lt;B&gt; b)</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">f</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">g</span>(std::<span class="built_in">make_unique</span>&lt;A&gt;(), std::<span class="built_in">make_unique</span>&lt;B&gt;());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="合规方案-References"><a href="#合规方案-References" class="headerlink" title="合规方案 (References)"></a>合规方案 (References)</h2><p>如果可能, 更适应的合规方案是, 完全移除内存分配, 取而代之通过传入对象的引用.</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">A</span> &#123; <span class="comment">/* ... */</span> &#125;;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">B</span> &#123; <span class="comment">/* ... */</span> &#125;;</span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">g</span><span class="params">(A &amp;a, B &amp;b)</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">f</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  A a;</span><br><span class="line">  B b;</span><br><span class="line">  <span class="built_in">g</span>(a, b);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="风险评估"><a href="#风险评估" class="headerlink" title="风险评估"></a>风险评估</h2><p>未成功检测分配错误会导致 <a target="_blank" rel="noopener" href="https://wiki.sei.cmu.edu/confluence/display/cplusplus/BB.+Definitions#BB.Definitions-abnormaltermination">程序异常终止, abnormal program termination</a> 和 <a target="_blank" rel="noopener" href="https://wiki.sei.cmu.edu/confluence/display/cplusplus/BB.+Definitions#BB.Definitions-denial-of-service">拒绝服务攻击, denial-of-service attacks</a>.</p>
<p>如果被攻击的程序从返回值中引用了内存偏移地址, 攻击者可以利用这个程序来任意读写内存. 这种 <a target="_blank" rel="noopener" href="https://wiki.sei.cmu.edu/confluence/display/cplusplus/BB.+Definitions#BB.Definitions-vulnerability">漏洞, vulnerability</a> 已经被用于执行任意代码 [<a target="_blank" rel="noopener" href="http://www.kb.cert.org/vuls/id/159523">VU#159523</a>].</p>
<table>
<thead>
<tr>
<th align="left">Rule</th>
<th align="left">Severity</th>
<th align="left">Likelihood</th>
<th align="left">Remediation Cost</th>
<th align="left">Priority</th>
<th align="left">Level</th>
</tr>
</thead>
<tbody><tr>
<td align="left">MEM52-CPP</td>
<td align="left">High</td>
<td align="left">Likely</td>
<td align="left">Medium</td>
<td align="left"><strong>P18</strong></td>
<td align="left"><strong>L1</strong></td>
</tr>
</tbody></table>
<h2 id="Automated-Detection"><a href="#Automated-Detection" class="headerlink" title="Automated Detection"></a>Automated Detection</h2><table>
<thead>
<tr>
<th align="left">Tool</th>
<th align="left">Version</th>
<th align="left">Checker</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><a target="_blank" rel="noopener" href="https://wiki.sei.cmu.edu/confluence/display/cplusplus/Rose">Compass&#x2F;ROSE</a></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://wiki.sei.cmu.edu/confluence/display/cplusplus/Coverity">Coverity</a></td>
<td align="left">7.5</td>
<td align="left"><strong>CHECKED_RETURN</strong></td>
<td align="left">Finds inconsistencies in how function call return values are handled</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://wiki.sei.cmu.edu/confluence/display/cplusplus/Helix+QAC">Helix QAC</a></td>
<td align="left"><img src="https://wiki.sei.cmu.edu/confluence/plugins/servlet/confluence/placeholder/macro?definition=e2luY2x1ZGU6SGVsaXggUUFDX1Z9&locale=zh_CN&version=2" alt="img"></td>
<td align="left"><strong>C++3225, C++3226, C++3227, C++3228, C++3229, C++4632</strong></td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://wiki.sei.cmu.edu/confluence/display/cplusplus/Klocwork">Klocwork</a></td>
<td align="left"><img src="https://wiki.sei.cmu.edu/confluence/plugins/servlet/confluence/placeholder/macro?definition=e2luY2x1ZGU6S2xvY3dvcmtfVn0&locale=zh_CN&version=2" alt="img"></td>
<td align="left"><strong><a target="_blank" rel="noopener" href="https://support.roguewave.com/documentation/klocwork/en/current/certcandcsecurecodingstandardidsmappedtoklocworkcandccheckers/">NPD.CHECK.CALL.MIGHT</a></strong> <strong><a target="_blank" rel="noopener" href="https://support.roguewave.com/documentation/klocwork/en/current/certcandcsecurecodingstandardidsmappedtoklocworkcandccheckers/">NPD.CHECK.CALL.MUST</a></strong> <strong><a target="_blank" rel="noopener" href="https://support.roguewave.com/documentation/klocwork/en/current/certcandcsecurecodingstandardidsmappedtoklocworkcandccheckers/">NPD.CHECK.MIGHT</a><strong><strong><a target="_blank" rel="noopener" href="https://support.roguewave.com/documentation/klocwork/en/current/certcandcsecurecodingstandardidsmappedtoklocworkcandccheckers/">NPD.CHECK.MUST</a></strong></strong><a target="_blank" rel="noopener" href="https://support.roguewave.com/documentation/klocwork/en/current/certcandcsecurecodingstandardidsmappedtoklocworkcandccheckers/">NPD.CONST.CALL</a></strong> <strong><a target="_blank" rel="noopener" href="https://support.roguewave.com/documentation/klocwork/en/current/certcandcsecurecodingstandardidsmappedtoklocworkcandccheckers/">NPD.CONST.DEREF</a></strong> <strong><a target="_blank" rel="noopener" href="https://support.roguewave.com/documentation/klocwork/en/current/certcandcsecurecodingstandardidsmappedtoklocworkcandccheckers/">NPD.FUNC.CALL.MIGHT</a></strong> <strong><a target="_blank" rel="noopener" href="https://support.roguewave.com/documentation/klocwork/en/current/certcandcsecurecodingstandardidsmappedtoklocworkcandccheckers/">NPD.FUNC.CALL.MUST</a></strong> <strong><a target="_blank" rel="noopener" href="https://support.roguewave.com/documentation/klocwork/en/current/certcandcsecurecodingstandardidsmappedtoklocworkcandccheckers/">NPD.FUNC.MIGHT</a></strong> **<a target="_blank" rel="noopener" href="https://support.roguewave.com/documentation/klocwork/en/current/certcandcsecurecodingstandardidsmappedtoklocworkcandccheckers/">NPD.FUNC.MUST</a><strong><strong><a target="_blank" rel="noopener" href="https://support.roguewave.com/documentation/klocwork/en/current/certcandcsecurecodingstandardidsmappedtoklocworkcandccheckers/">NPD.GEN.CALL.MIGHT</a> <a target="_blank" rel="noopener" href="https://support.roguewave.com/documentation/klocwork/en/current/certcandcsecurecodingstandardidsmappedtoklocworkcandccheckers/">NPD.GEN.CALL.MUST</a> <a target="_blank" rel="noopener" href="https://support.roguewave.com/documentation/klocwork/en/current/certcandcsecurecodingstandardidsmappedtoklocworkcandccheckers/">NPD.GEN.MIGHT</a> <a target="_blank" rel="noopener" href="https://support.roguewave.com/documentation/klocwork/en/current/certcandcsecurecodingstandardidsmappedtoklocworkcandccheckers/">NPD.GEN.</a><a target="_blank" rel="noopener" href="https://support.roguewave.com/documentation/klocwork/en/current/certcandcsecurecodingstandardidsmappedtoklocworkcandccheckers/">MUST</a></strong></strong><a target="_blank" rel="noopener" href="https://support.roguewave.com/documentation/klocwork/en/current/certcandcsecurecodingstandardidsmappedtoklocworkcandccheckers/">RNPD.CALL</a> <a target="_blank" rel="noopener" href="https://support.roguewave.com/documentation/klocwork/en/current/certcandcsecurecodingstandardidsmappedtoklocworkcandccheckers/">RNPD.DEREF</a> **</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://wiki.sei.cmu.edu/confluence/display/cplusplus/LDRA">LDRA tool suite</a></td>
<td align="left"><img src="https://wiki.sei.cmu.edu/confluence/plugins/servlet/confluence/placeholder/macro?definition=e2luY2x1ZGU6TERSQV9WfQ&locale=zh_CN&version=2" alt="img"></td>
<td align="left"><strong>45 D</strong>** **</td>
<td align="left">Partially implemented</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://wiki.sei.cmu.edu/confluence/display/cplusplus/Parasoft">Parasoft C&#x2F;C++test</a></td>
<td align="left"><img src="https://wiki.sei.cmu.edu/confluence/plugins/servlet/confluence/placeholder/macro?definition=e2luY2x1ZGU6UGFyYXNvZnRfVn0&locale=zh_CN&version=2" alt="img"></td>
<td align="left"><strong>CERT_CPP-MEM52-a</strong> <strong>CERT_CPP-MEM52-b</strong></td>
<td align="left">Check the return value of new Do not allocate resources in function argument list because the order of evaluation of a function’s parameters is undefined</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://wiki.sei.cmu.edu/confluence/display/cplusplus/Parasoft">Parasoft Insure++</a></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">Runtime detection</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://wiki.sei.cmu.edu/confluence/display/cplusplus/Polyspace+Bug+Finder">Polyspace Bug Finder</a></td>
<td align="left"><img src="https://wiki.sei.cmu.edu/confluence/plugins/servlet/confluence/placeholder/macro?definition=e2luY2x1ZGU6UG9seXNwYWNlIEJ1ZyBGaW5kZXJfVn0&locale=zh_CN&version=2" alt="img"></td>
<td align="left"><a target="_blank" rel="noopener" href="https://www.mathworks.com/help/bugfinder/ref/certcmem52cpp.html">CERT C++: MEM52-CPP</a></td>
<td align="left">Checks for unprotected dynamic memory allocation (rule partially covered)</td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://wiki.sei.cmu.edu/confluence/pages/viewpage.action?pageId=88046345">PRQA QA-C++</a></td>
<td align="left"><img src="https://wiki.sei.cmu.edu/confluence/plugins/servlet/confluence/placeholder/macro?definition=e2luY2x1ZGU6UFJRQSBRQS1DKytfVn0&locale=zh_CN&version=2" alt="img"></td>
<td align="left"><strong>3225, 3226, 3227, 3228, 3229, *<em>4632*</em></strong></td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><a target="_blank" rel="noopener" href="https://wiki.sei.cmu.edu/confluence/display/cplusplus/PVS-Studio">PVS-Studio</a></td>
<td align="left"><img src="https://wiki.sei.cmu.edu/confluence/plugins/servlet/confluence/placeholder/macro?definition=e2luY2x1ZGU6UFZTLVN0dWRpb19WfQ&locale=zh_CN&version=2" alt="img"></td>
<td align="left"><strong><a target="_blank" rel="noopener" href="https://pvs-studio.com/en/docs/warnings/v522/">V522</a>, <a target="_blank" rel="noopener" href="https://pvs-studio.com/en/docs/warnings/v668/">V668</a></strong></td>
<td align="left"></td>
</tr>
</tbody></table>
<h2 id="Related-Vulnerabilities"><a href="#Related-Vulnerabilities" class="headerlink" title="Related Vulnerabilities"></a>Related Vulnerabilities</h2><p>The <a target="_blank" rel="noopener" href="https://wiki.sei.cmu.edu/confluence/display/cplusplus/BB.+Definitions#BB.Definitions-vulnerability">vulnerability</a> in Adobe Flash [<a target="_blank" rel="noopener" href="https://wiki.sei.cmu.edu/confluence/display/cplusplus/AA.+Bibliography#AA.Bibliography-VU#159523">VU#159523</a>] arises because Flash neglects to check the return value from <code>calloc()</code>. Even though <code>calloc()</code> returns <code>NULL</code>, Flash does not attempt to read or write to the return value. Instead, it attempts to write to an offset from the return value. Dereferencing <code>NULL</code> usually results in a program crash, but dereferencing an offset from <code>NULL</code> allows an <a target="_blank" rel="noopener" href="https://wiki.sei.cmu.edu/confluence/display/cplusplus/BB.+Definitions#BB.Definitions-exploit">exploit</a> to succeed without crashing the program.</p>
<p>Search for vulnerabilities resulting from the violation of this rule on the <a target="_blank" rel="noopener" href="https://www.kb.cert.org/vulnotes/bymetric?searchview&query=FIELD+KEYWORDS+contains+MEM32-CPP">CERT website</a>.</p>
<h2 id="Related-Guidelines"><a href="#Related-Guidelines" class="headerlink" title="Related Guidelines"></a>Related Guidelines</h2><table>
<thead>
<tr>
<th><a target="_blank" rel="noopener" href="https://wiki.sei.cmu.edu/confluence/display/c/SEI+CERT+C+Coding+Standard">SEI CERT C Coding Standard</a></th>
<th><a target="_blank" rel="noopener" href="https://wiki.sei.cmu.edu/confluence/display/c/ERR33-C.+Detect+and+handle+standard+library+errors">ERR33-C. Detect and handle standard library errors</a></th>
</tr>
</thead>
<tbody><tr>
<td><a target="_blank" rel="noopener" href="http://cwe.mitre.org/">MITRE CWE</a></td>
<td><a target="_blank" rel="noopener" href="http://cwe.mitre.org/data/definitions/252.html">CWE 252</a>, Unchecked Return Value <a target="_blank" rel="noopener" href="http://cwe.mitre.org/data/definitions/391.html">CWE 391,</a> Unchecked Error Condition <a target="_blank" rel="noopener" href="http://cwe.mitre.org/data/definitions/476.html">CWE 476,</a> NULL Pointer Dereference <a target="_blank" rel="noopener" href="http://cwe.mitre.org/data/definitions/703.html">CWE 690</a>, Unchecked Return Value to NULL Pointer Dereference <a target="_blank" rel="noopener" href="http://cwe.mitre.org/data/definitions/703.html">CWE 703</a>, Improper Check or Handling of Exceptional Conditions <a target="_blank" rel="noopener" href="http://cwe.mitre.org/data/definitions/754.html">CWE 754</a>, Improper Check for Unusual or Exceptional Conditions</td>
</tr>
</tbody></table>
<h2 id="Bibliography"><a href="#Bibliography" class="headerlink" title="Bibliography"></a>Bibliography</h2><table>
<thead>
<tr>
<th>[<a target="_blank" rel="noopener" href="https://wiki.sei.cmu.edu/confluence/display/cplusplus/AA.+Bibliography#AA.Bibliography-ISO/IEC9899-2011">ISO&#x2F;IEC 9899:2011</a>]</th>
<th>Subclause 7.20.3, “Memory Management Functions”</th>
</tr>
</thead>
<tbody><tr>
<td>[<a target="_blank" rel="noopener" href="https://wiki.sei.cmu.edu/confluence/display/cplusplus/AA.+Bibliography#AA.Bibliography-ISO/IEC14882-2014">ISO&#x2F;IEC 14882-2014</a>]</td>
<td>Subclause 18.6.1.1, “Single-Object Forms” Subclause 18.6.1.2, “Array Forms” Subclause 20.7.9.1, “Allocator Members”</td>
</tr>
<tr>
<td>[<a target="_blank" rel="noopener" href="https://wiki.sei.cmu.edu/confluence/display/cplusplus/AA.+Bibliography#AA.Bibliography-Meyers96">Meyers 1996</a>]</td>
<td>Item 7, “Be Prepared for Out-of-Memory Conditions”</td>
</tr>
<tr>
<td>[<a target="_blank" rel="noopener" href="https://wiki.sei.cmu.edu/confluence/display/cplusplus/AA.+Bibliography#AA.Bibliography-Seacord2013">Seacord 2013</a>]</td>
<td>Chapter 4, “Dynamic Memory Management”</td>
</tr>
</tbody></table>
<hr>
<p><a target="_blank" rel="noopener" href="https://wiki.sei.cmu.edu/confluence/pages/viewpage.action?pageId=88046362"><img src="https://wiki.sei.cmu.edu/confluence/download/attachments/88046682/button_arrow_left.png?version=1&modificationDate=1216910800000&api=v2" alt="SEI CERT C++ Coding Standard &gt; SEI CERT C++ Coding Standard &gt; button_arrow_left.png"></a> <a target="_blank" rel="noopener" href="https://wiki.sei.cmu.edu/confluence/pages/viewpage.action?pageId=88046329"><img src="https://wiki.sei.cmu.edu/confluence/download/attachments/88046682/button_arrow_up.png?version=1&modificationDate=1216910618000&api=v2" alt="SEI CERT C++ Coding Standard &gt; SEI CERT C++ Coding Standard &gt; button_arrow_up.png"></a> <a target="_blank" rel="noopener" href="https://wiki.sei.cmu.edu/confluence/pages/viewpage.action?pageId=88046356"><img src="https://wiki.sei.cmu.edu/confluence/download/attachments/88046682/button_arrow_right.png?version=1&modificationDate=1216910815000&api=v2" alt="SEI CERT C++ Coding Standard &gt; SEI CERT C++ Coding Standard &gt; button_arrow_right.png"></a></p>
</div><div id="donate"><link rel="stylesheet" type="text/css" href="/css/donate.css?v=1.0.0"><script type="text/javascript" src="/js/donate.js?v=1.0.0" successtext="复制成功!"></script><a class="pos-f tr3" id="github" href="https://github.com/Kaiyuan/donate-page" target="_blank" title="Github"></a><div id="DonateText">Donate</div><ul class="list pos-f" id="donateBox"><li id="WeChat" qr="/img/wechatpay.jpg"></li></ul><div class="pos-f left-100" id="QRBox"><div id="MainBox"></div></div></div><div class="post-copyright"><script type="text/javascript" src="/js/copyright.js?v=1.0.0" successtext="复制成功!"></script><link rel="stylesheet" type="text/css" href="/css/copyright.css?v=1.0.0"><p><span>本文标题：</span>MEM52-CPP. 检测并处理内存分配错误</p><p><span>文章作者：</span>xwnb</p><p><span>发布时间：</span>2021-11-13</p><p><span>最后更新：</span>2022-10-16</p><p><span>原始链接：</span><a href="/posts/1181891836/">https://xwnb.github.io/posts/1181891836/</a><span class="copy-path"><i class="fa fa-clipboard" data-clipboard-text="https://xwnb.github.io/posts/1181891836/"></i></span></p><p><span>版权声明：</span>本博客所有文章除特别声明外，均采用 BY-NC-SA 许可协议。转载请注明出处！并保留本声明。感谢您的阅读和支持！</p></div><br><script type="text/javascript" src="/js/share.js?v=1.0.0" async></script><a class="article-share-link" data-url="https://xwnb.github.io/posts/1181891836/" data-id="cl9bap3qy00dh2ro7dh5kdxlh" data-qrcode="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAK4AAACuCAAAAACKZ2kyAAABw0lEQVR42u3aQW7DMAwEQP//0+4DEitLylKcYnQqUkOe5ECISx1HvM6X9fr51fPj3Y4VCxcXd5p7Dlf19Tnxav8Pu+Hi4m7kXr1g/EwCGhe73ICLi/tkblLykt1wcXH/Ezf5JDms4OLiPp+bl6cckRTEhb0aLi7uBDdPKdf9vSTfxcXFbXHP4hqXquTzc2Lh4uLu4fbC0PHzeavTC2FxcXF3cqtXK6qRaPUIVejVcHFxF3B7ccbM+KR39MHFxd3DrQ487r1+Uf6xcHFxN3J7WWUvIqkOTt4UMlxc3O3cfLzai0ST4liISnFxcRdwq4eV/IAyMydNyiIuLu5O7r3xaC+KLfxYuLi4C7j5Rvf+d6r5wcXFXcxNSli1mSlMb+KBa6Hi4uLi3sTtHWKq16rygcqHwoqLi7uRWw1Pq1esei3Tm/fi4uI+gFu+JFEcvpbjV1xc3MXcs7iSI1Ev8igPU3FxcZdx85W/8t60pvllcHFxp7kzkWhvaFodweLi4n6LmxeaZHDS7MPyXg0XF/dh3HVHokLHhouL+yPc6rWtXpuEi4u7k5uUmJlx6XjPfEiDi4u7h1suJTE3j0rzqxi4uLiLuX/3ksNCAeTmpQAAAABJRU5ErkJggg==">分享</a><div class="tags"><a href="/tags/SEI CERT C++"><i class="fa fa-tag">SEI CERT C++</i></a><a href="/tags/编码规范"><i class="fa fa-tag">编码规范</i></a><a href="/tags/翻译"><i class="fa fa-tag">翻译</i></a><a href="/tags/Memory Management"><i class="fa fa-tag">Memory Management</i></a></div><div class="post-nav"><a class="pre" href="/posts/4036605331/">MEM53-CPP. 当手动管理对象生命周期时, 显式构造和析构对象</a><a class="next" href="/posts/2185119777/">MEM51-CPP. 正确地释放动态分配的资源</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="https://xwnb.github.io"/></form></div><div class="widget"><div class="author-info"><a class="info-avatar" href="/about/" title="关于"><img src="/img/avatar.jpg"/></a><p>Stay Angry, Stay Foolish.</p><a class="info-icon" href="https://juejin.cn/user/435824491237181" title="掘金" target="_blank" style="margin-inline:5px"> <i class="fa fa-external-link-square" style="margin-inline:5px"></i></a><a class="info-icon" href="https://github.com/xwnb" title="GitHub" target="_blank" style="margin-inline:5px"> <i class="fa fa-github-square" style="margin-inline:5px"></i></a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/ROS%E5%AD%A6%E4%B9%A0/">ROS学习</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/SEI-CERT-C/">SEI CERT C++</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Tutorial/">Tutorial</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91/">微信小程序开发</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%87%AA%E5%8A%A8%E9%A9%BE%E9%A9%B6/">自动驾驶</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%B7%AF%E5%BE%84%E8%A7%84%E5%88%92/">路径规划</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/Tutorial/" style="font-size: 15px;">Tutorial</a> <a href="/tags/Markdown/" style="font-size: 15px;">Markdown</a> <a href="/tags/wechat-dev/" style="font-size: 15px;">wechat-dev</a> <a href="/tags/%E8%B7%AF%E5%BE%84%E8%A7%84%E5%88%92/" style="font-size: 15px;">路径规划</a> <a href="/tags/motion-planning/" style="font-size: 15px;">motion planning</a> <a href="/tags/RRT/" style="font-size: 15px;">RRT</a> <a href="/tags/A/" style="font-size: 15px;">A*</a> <a href="/tags/LPA/" style="font-size: 15px;">LPA*</a> <a href="/tags/RRT-Connect/" style="font-size: 15px;">RRT_Connect</a> <a href="/tags/RRT/" style="font-size: 15px;">RRT*</a> <a href="/tags/%E8%87%AA%E5%8A%A8%E9%A9%BE%E9%A9%B6/" style="font-size: 15px;">自动驾驶</a> <a href="/tags/AirSim/" style="font-size: 15px;">AirSim</a> <a href="/tags/SEI-CERT-C/" style="font-size: 15px;">SEI CERT C++</a> <a href="/tags/%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/" style="font-size: 15px;">编码规范</a> <a href="/tags/%E7%BF%BB%E8%AF%91/" style="font-size: 15px;">翻译</a> <a href="/tags/CERT-Containers/" style="font-size: 15px;">CERT Containers</a> <a href="/tags/Input-Output/" style="font-size: 15px;">Input Output</a> <a href="/tags/Memory-Management/" style="font-size: 15px;">Memory Management</a> <a href="/tags/Characters-and-Strings/" style="font-size: 15px;">Characters and Strings</a> <a href="/tags/STR/" style="font-size: 15px;">STR</a> <a href="/tags/Integers/" style="font-size: 15px;">Integers</a> <a href="/tags/INT/" style="font-size: 15px;">INT</a> <a href="/tags/Object-Oriented-Programming/" style="font-size: 15px;">Object Oriented Programming</a> <a href="/tags/OOP/" style="font-size: 15px;">OOP</a> <a href="/tags/ROS/" style="font-size: 15px;">ROS</a> <a href="/tags/xacro/" style="font-size: 15px;">xacro</a> <a href="/tags/controller-manager/" style="font-size: 15px;">controller_manager</a> <a href="/tags/gazebo/" style="font-size: 15px;">gazebo</a> <a href="/tags/controller-manager/" style="font-size: 15px;">controller-manager</a> <a href="/tags/ur5/" style="font-size: 15px;">ur5</a> <a href="/tags/roslaunch/" style="font-size: 15px;">roslaunch</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/posts/2113816124/">FIO51-CPP. 关闭不再需要的文件</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/2518610003/">OPP-CPP58. 拷贝操作绝不能改变源对象</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/294055068/">OPP-CPP57. 优先使用特定的成员函数和重载的运算符而不是C标准库函数</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/3554254475/">OOP56-CPP. 尊重替换handler的要求</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/3554254475/">OOP55-CPP. 不要使用成员指针运算符来访问不存在的成员</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/144696281/">OOP54-CPP. 优雅地处理自我拷贝赋值</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/3904355907/">OOP53-CPP. 按照规范顺序编写构造函数的成员初始化</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/4027020077/">OOP52-CPP. 不要删除一个无虚析构的多态对象</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/1084595410/">OOP51-CPP-不要切分派生对象</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/2354633166/">OOP50-CPP 不要在构造函数和析构函数中调用虚函函函数</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2022 <a href="/." rel="nofollow">Sun of Beach.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=1.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/latest/jquery.fancybox.min.js"></script><script type="text/javascript" src="/js/fancybox.js?v=1.0.0"></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/latest/jquery.fancybox.min.css"><script type="text/javascript" color="0,0,0" opacity="0.5" zIndex="-2" count="200" src="//lib.baomitu.com/canvas-nest.js/latest/canvas-nest.js"></script><script type="text/javascript" src="/js/copycode.js?v=1.0.0" successtext="复制成功!"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css?v=1.0.0"><script type="text/javascript" src="/js/codeblock-resizer.js?v=1.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=1.0.0"></script></div></body></html>