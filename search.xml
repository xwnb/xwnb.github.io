<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>è·¯å¾„è§„åˆ’-RRT_Star</title>
      <link href="/posts/3092301982/"/>
      <url>/posts/3092301982/</url>
      
        <content type="html"><![CDATA[<h1 id="è·¯å¾„è§„åˆ’ä¹‹-RRT-Star"><a href="#è·¯å¾„è§„åˆ’ä¹‹-RRT-Star" class="headerlink" title="è·¯å¾„è§„åˆ’ä¹‹ RRT_Star"></a>è·¯å¾„è§„åˆ’ä¹‹ RRT_Star</h1><p>RRT_Connect ç›¸å¯¹äº RRT è™½ç„¶å¢åŠ äº†å¯å‘å¼ç­–ç•¥å’Œè´ªå©ªæ€æƒ³ï¼Œä½†ä»–ä»¬çš„è·¯å¾„éƒ½ä¸æ˜¯æœ€ä¼˜çš„ã€‚æœç´¢è·¯å¾„éƒ½æ˜¯åŸºäºéšæœºé‡‡æ ·ï¼Œç¼ºå°‘è¯„ä»·å‡½æ•°ã€‚RRT_Star ç®—æ³•åœ¨ RRT çš„åŸºç¡€ä¸Šï¼ŒåŸºäºä»£ä»·å‡½æ•°æ¥é‡æ–°é€‰æ‹©æ–°çˆ¶èŠ‚ç‚¹ï¼Œé‡æ–°å¸ƒçº¿æ–°å­èŠ‚ç‚¹ï¼Œä¿è¯ç®—æ³•æ¸è¿›æœ€ä¼˜è§£ã€‚</p><a id="more"></a><p><img src="rrt_star.gif" alt="rrt_star.gif"></p><h2 id="ç®—æ³•æè¿°"><a href="#ç®—æ³•æè¿°" class="headerlink" title="ç®—æ³•æè¿°"></a>ç®—æ³•æè¿°</h2><p>RRT<em>Star æ„é€ æ–¹å¼å’Œ RRT ç±»ä¼¼ï¼ŒåŒºåˆ«åœ¨äºé‡æ–°é€‰æ‹©çˆ¶èŠ‚ç‚¹å’Œé‡æ–°å¸ƒçº¿è¿™ä¸ªè¿‡ç¨‹ã€‚åœ¨å¯»æ‰¾åˆ°æ–°èŠ‚ç‚¹$q</em>{new}$æ—¶ï¼Œå…ˆè¿›è¡Œç¢°æ’æ£€æµ‹ï¼Œè‹¥($q<em>{near}$ï¼Œ $q</em>{new}$)æ²¡æœ‰ç¢°æ’ï¼Œå¹¶ä¸ç«‹å³å°†æ–°èŠ‚ç‚¹å’Œæ–°è¾¹åŠ å…¥åˆ°æ ‘ä¸­ã€‚è€Œæ˜¯é¦–å…ˆ<strong>é‡æ–°é€‰æ‹©çˆ¶èŠ‚ç‚¹</strong>ï¼š<em>å¯»æ‰¾ä»¥$q</em>{new}$ä¸ºåœ†å¿ƒï¼Œä»¥åŠå¾„$r$å†…çš„æ‰€æœ‰é‚»æ¥èŠ‚ç‚¹ï¼Œä½œä¸º$q<em>{new}$çš„æ½œåœ¨çˆ¶èŠ‚ç‚¹$q</em>{proential_parents}$ã€‚ç„¶åéå†æ‰€æœ‰æ½œåœ¨çˆ¶èŠ‚ç‚¹ï¼Œè‹¥$q<em>{protential_parents}$åˆ°$q</em>{new}$æ— ç¢°æ’ï¼Œåˆ™è®¡ç®—ä»èµ·ç‚¹$q<em>{start}$åˆ°æ½œåœ¨çˆ¶èŠ‚ç‚¹$q</em>{protential_parents}$ï¼Œå†åˆ°æ–°èŠ‚ç‚¹$q<em>{new}$çš„æ€»è·¯å¾„é•¿ã€‚é€‰æ‹©æœ€çŸ­è·¯å¾„çš„æ½œåœ¨çˆ¶èŠ‚ç‚¹(å‡è®¾è®°ä¸º$q</em>{min_parent}$)ä½œä¸º$q<em>{new}$çš„çˆ¶èŠ‚ç‚¹ï¼Œæ·»åŠ è¾¹($q</em>{min_parent}, q<em>{new}$)åˆ°æ ‘ä¸­</em>ã€‚ åœ¨å®Œæˆçˆ¶èŠ‚ç‚¹çš„é‡æ–°é€‰æ‹©åï¼Œå†å¯¹è¯¥é‚»åŸŸ<strong>é‡æ–°å¸ƒçº¿</strong>ï¼š<em>å†æ¬¡éå†è¯¥é‚»æ¥èŠ‚ç‚¹é›†åˆä¸­é™¤$q</em>{min_parent}$ä¹‹å¤–çš„å‰©ä½™èŠ‚ç‚¹ï¼Œä½œä¸º$q<em>{new}$çš„æ½œåœ¨å­èŠ‚ç‚¹$q</em>{proential_children}$ï¼Œè‹¥$q<em>{new}$åˆ°$q</em>{protential_children}$æ— ç¢°æ’ï¼Œåˆ™è®¡ç®—ä»èµ·ç‚¹$q<em>{start}$åˆ°æ–°èŠ‚ç‚¹$q</em>{new}$ï¼Œå†åˆ°æ½œåœ¨å­èŠ‚ç‚¹$q<em>{protential_children}$çš„æ€»è·¯å¾„é•¿ã€‚é€‰æ‹©æœ€çŸ­è·¯å¾„çš„æ½œåœ¨å­èŠ‚ç‚¹(å‡è®¾è®°ä¸º$q</em>{min_child}$)ï¼Œå°†è¯¥èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹è®¾ç½®ä¸º$q<em>{new}$çš„æ–°èŠ‚ç‚¹ï¼Œåˆ é™¤è¾¹($q</em>{parent_of_min_child}$, $q<em>{min_child}$)æ·»åŠ è¾¹($q</em>{new}$, $q<em>{min_parent}$)åˆ°æ ‘ä¸­\</em>ã€‚å› ä¸ºæˆ‘ä»¬é€šè¿‡é“¾è¡¨æ¥æ„å»ºæ ‘ï¼Œæ‰€ä»¥è®¾ç½®çˆ¶èŠ‚ç‚¹ä¹Ÿç›¸å½“äºæ·»åŠ è¾¹ï¼›æ›´æ”¹çˆ¶èŠ‚ç‚¹ï¼Œç›¸å½“äºåˆ é™¤äº†åŸæ¥çš„è¾¹å¹¶æ·»åŠ æ–°è¾¹ã€‚é€šè¿‡ä¸Šè¿°ä¸¤æ¬¡é€‰æ‹©ï¼Œä½¿å¾— RRT_Star è¾¾åˆ°æ¸è¿›æœ€ä¼˜ï¼Œå¹¶ä¸”æ„é€ æ ‘çš„èŠ‚ç‚¹å’Œè¾¹å¤§å¤§å‡å°‘ï¼Œæé«˜çš„æœç´¢æ•ˆç‡ã€‚</p><h3 id="ä¼ªç "><a href="#ä¼ªç " class="headerlink" title="ä¼ªç "></a>ä¼ªç </h3><p><img src="algorithm_rrt_star.png" alt="Algorithms RRT_Connect"></p><h2 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h2><h3 id="æ•°æ®ç»“æ„"><a href="#æ•°æ®ç»“æ„" class="headerlink" title="æ•°æ®ç»“æ„"></a>æ•°æ®ç»“æ„</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Node</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, pos=[<span class="number">0</span>, <span class="number">0</span>])</span>:</span></span><br><span class="line">        self.pos = pos</span><br><span class="line">        self.parent = <span class="literal">None</span></span><br></pre></td></tr></table></figure><h3 id="æ¥å£"><a href="#æ¥å£" class="headerlink" title="æ¥å£"></a>æ¥å£</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">map_path: åœ°å›¾å›¾ç‰‡è·¯å¾„</span></span><br><span class="line"><span class="string">qstart: èµ·ç‚¹åæ ‡ [row, col]</span></span><br><span class="line"><span class="string">qgoal: ç›®æ ‡ç‚¹åæ ‡ [row, col]</span></span><br><span class="line"><span class="string">grid_size: ç½‘æ ¼å¤§å°ï¼ˆç”¨æ¥ç¢°æ’æ£€æµ‹ï¼‰</span></span><br><span class="line"><span class="string">step_size: æ‰©å±•æ­¥é•¿</span></span><br><span class="line"><span class="string">neighbor_radius: é‚»åŸŸåŠå¾„ï¼Œæœ‰å…¬å¼è®¡ç®—çš„ï¼Œè¿™é‡Œä¸ºç®€å•èµ·è§ï¼Œé€‰æ‹©å®šåˆ¶</span></span><br><span class="line"><span class="string">max_steps: æœ€å¤§æ‰©å±•èŠ‚ç‚¹æ•°</span></span><br><span class="line"><span class="string">goal_prob: å¢åŠ è¶‹å‘ç›®æ ‡ç‚¹æ¦‚ç‡ï¼ˆè´ªå©ªï¼‰</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"></span><br><span class="line">rrt_star = RRT_STAR(map_path, qstart, qgoal, grid_size,</span><br><span class="line">                    step_size, parent_radius, max_steps, goal_prob)</span><br></pre></td></tr></table></figure><h3 id="Planning"><a href="#Planning" class="headerlink" title="Planning"></a>Planning</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">Planning</span><span class="params">(self)</span>:</span></span><br><span class="line">    <span class="string">'''</span></span><br><span class="line"><span class="string">    RRT_STAR planning</span></span><br><span class="line"><span class="string">    '''</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># åˆå§‹åŒ–æ ‘ï¼Œæ·»åŠ èµ·ç‚¹</span></span><br><span class="line">    vertices = []</span><br><span class="line">    self.AddVertices(self.qstart, vertices)</span><br><span class="line">    self.AddEdges(<span class="literal">None</span>, self.qstart)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å¼€å§‹æ‰©å±•</span></span><br><span class="line">    k = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> k &lt;= self.max_steps:</span><br><span class="line">        k += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># éšæœºé‡‡æ ·èŠ‚ç‚¹qrandï¼Œ</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># æ‰©å±•æ–°èŠ‚ç‚¹qnew</span></span><br><span class="line">        qrand = self.GenerateRandomNode(</span><br><span class="line">            [<span class="number">0</span>, self.map_shape[<span class="number">0</span>]], [<span class="number">0</span>, self.map_shape[<span class="number">1</span>]],</span><br><span class="line">            self.qgoal, self.goal_prob)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># éå†æ ‘èŠ‚ç‚¹ verticesï¼Œé€‰æ‹©è·ç¦»æœ€è¿‘çš„èŠ‚ç‚¹ qnear</span></span><br><span class="line">        _, qnear = self.FindNearestNode(qrand, vertices)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># æ‰©å±•æ–°èŠ‚ç‚¹ qnew</span></span><br><span class="line">        qnew = self.ExtendTree(qnear, qrand, self.step_size)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># åˆ¤æ–­ qnew æ‰©å±•æˆåŠŸï¼Œä¸”(qnear, qnew)æ— ç¢°æ’</span></span><br><span class="line">        <span class="keyword">if</span> qnew <span class="keyword">and</span> self.CollsionFree(qnear, qnew, self.grid_size):</span><br><span class="line"></span><br><span class="line">            <span class="comment"># å¯»æ‰¾ä»¥qnewä¸ºåœ†å¿ƒï¼Œparent_radiusä¸ºåŠå¾„çš„åœ†å†…é‚»æ¥èŠ‚ç‚¹neighbors_free</span></span><br><span class="line">            neighbors_free = self.FindNeighbors(</span><br><span class="line">                qnew, vertices, self.parent_radius)</span><br><span class="line"></span><br><span class="line">            <span class="string">'''</span></span><br><span class="line"><span class="string">            neighbors = list(filter(lambda qnode: self.Distance(</span></span><br><span class="line"><span class="string">                qnode.pos, qnew.pos) &lt; self.parent_radius, vertices))</span></span><br><span class="line"><span class="string">            neighbors_free = []</span></span><br><span class="line"><span class="string">            for parent in neighbors:</span></span><br><span class="line"><span class="string">                if self.CollsionFree(parent, qnew, self.grid_size):</span></span><br><span class="line"><span class="string">                    neighbors_free.append(parent)</span></span><br><span class="line"><span class="string">            '''</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"># é‡æ–°é€‰æ‹©çˆ¶èŠ‚ç‚¹ï¼š</span></span><br><span class="line">            <span class="comment"># è®¡ç®—è·¯å¾„ä»£ä»·Cost(qstart, neighbors_free, qnew),</span></span><br><span class="line">            <span class="comment"># é€‰æ‹©æœ€çŸ­è·¯å¾„çš„æ½œåœ¨çˆ¶èŠ‚ç‚¹ä½œä¸ºqnewçš„æ–°çˆ¶èŠ‚ç‚¹qnew_parentï¼Œå¹¶å°†æ–°è¾¹åŠ å…¥åˆ°æ ‘ä¸­</span></span><br><span class="line">            len_qnew_path, qnew_parent = self.RewireNewParent(</span><br><span class="line">                qnew, vertices, neighbors_free)</span><br><span class="line"></span><br><span class="line">            <span class="string">'''</span></span><br><span class="line"><span class="string">            len_qnew_path = float('inf')</span></span><br><span class="line"><span class="string">            qnew_parent = None</span></span><br><span class="line"><span class="string">            for parent in neighbors_free:</span></span><br><span class="line"><span class="string">                parent_path = self.FindPathByParentPointer(parent)</span></span><br><span class="line"><span class="string">                len_parent_path = self.CalculatePathLength(parent_path)</span></span><br><span class="line"><span class="string">                tmp_len_path = len_parent_path + \</span></span><br><span class="line"><span class="string">                    self.Distance(qnew.pos, parent.pos)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">                if tmp_len_path &lt; len_qnew_path:</span></span><br><span class="line"><span class="string">                    len_qnew_path = tmp_len_path</span></span><br><span class="line"><span class="string">                    qnew_parent = parent</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">            self.AddVertices(qnew, vertices)</span></span><br><span class="line"><span class="string">            self.AddEdges(qnew_parent, qnew)</span></span><br><span class="line"><span class="string">            self.DrawEdges(self.src_map, qnew_parent, qnew)</span></span><br><span class="line"><span class="string">            '''</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"># é‡æ–°å¸ƒçº¿ï¼š</span></span><br><span class="line">            <span class="comment"># è®¡ç®—neighbors_freeä¸­é™¤qnew_parentå¤–çš„è·¯å¾„ä»£ä»·Cost(qstart, qnew, neighbors_free),</span></span><br><span class="line">            <span class="comment"># é€‰æ‹©æœ€çŸ­è·¯å¾„çš„èŠ‚ç‚¹qnew_childrenï¼Œè®¾ç½®å…¶çˆ¶èŠ‚ç‚¹ä¸ºqnewï¼Œå¹¶å°†æ–°è¾¹åŠ å…¥åˆ°æ ‘ä¸­</span></span><br><span class="line">            <span class="keyword">if</span> qnew_parent:</span><br><span class="line">                neighbors_free.remove(qnew_parent)</span><br><span class="line">            self.RewireNewChild(qnew, len_qnew_path, neighbors_free)</span><br><span class="line">            <span class="string">'''</span></span><br><span class="line"><span class="string">            qnew_children = None</span></span><br><span class="line"><span class="string">            for child in neighbors_free:</span></span><br><span class="line"><span class="string">                tmp_len_path = len_qnew_path + \</span></span><br><span class="line"><span class="string">                    self.Distance(qnew.pos, child.pos)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">                if self.CollsionFree(child, qnew, self.grid_size):</span></span><br><span class="line"><span class="string">                    child_path = self.FindPathByParentPointer(child)</span></span><br><span class="line"><span class="string">                    if tmp_len_path &lt; self.CalculatePathLength(child_path):</span></span><br><span class="line"><span class="string">                        qnew_children = child</span></span><br><span class="line"><span class="string">                        self.AddEdges(qnew, qnew_children)</span></span><br><span class="line"><span class="string">                        self.DrawEdges(self.src_map, qnew,</span></span><br><span class="line"><span class="string">                                       qnew_children)</span></span><br><span class="line"><span class="string">            '''</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"># æ£€æŸ¥ä¸¤æ£µæ ‘æ˜¯å¦ç›¸è¿,è‹¥ç›¸è¿ï¼Œåˆ™å®Œæˆè·¯å¾„è§„åˆ’</span></span><br><span class="line">            <span class="keyword">if</span> self.IsArrival(qnew, self.qgoal, self.step_size):</span><br><span class="line">                print(<span class="string">"Found"</span>)</span><br><span class="line"></span><br><span class="line">                <span class="comment"># å¦‚æœä¸¤æ£µæ ‘è¿ä¸Šäº†ï¼Œè¯´æ˜æ‰¾åˆ°è·¯å¾„äº†ï¼ŒæŠŠæœ€åä¸€ä¸ªèŠ‚ç‚¹æ·»åŠ åˆ°æ ‘ä¸­ã€‚</span></span><br><span class="line">                self.AddVertices(self.qgoal, vertices)</span><br><span class="line">                self.AddEdges(qnew, self.qgoal)</span><br><span class="line">                self.DrawEdges(self.src_map, qnew, self.qgoal)</span><br><span class="line"></span><br><span class="line">                <span class="comment"># æ„å»ºè·¯å¾„</span></span><br><span class="line">                path = self.FindPath(vertices)</span><br><span class="line">                self.DrawPath(self.src_map, path)</span><br><span class="line"></span><br><span class="line">                <span class="comment"># åœ†æ»‘è·¯å¾„</span></span><br><span class="line">                smooth_path = self.SmoothPath(path, self.grid_size)</span><br><span class="line">                self.DrawPath(self.src_map, smooth_path)</span><br><span class="line"></span><br><span class="line">                <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">    print(<span class="string">"NotFound"</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">False</span></span><br></pre></td></tr></table></figure><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><p>[1]: Karaman S, Frazzoli E. Sampling-based algorithms for optimal motion planning[J]. The international journal of robotics research, 2011, 30(7): 846-894.<br>[2]: Choset. Principles of Robot Motion: Theory, Algorithms, and Implementations[J]. Proceedings of the Society for Experimental Biology &amp; Medicine Society for Experimental Biology &amp; Medicine, 2005, 147(1):512-512.</p>]]></content>
      
      
      <categories>
          
          <category> è·¯å¾„è§„åˆ’ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è·¯å¾„è§„åˆ’ </tag>
            
            <tag> motion planning </tag>
            
            <tag> RRT* </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è·¯å¾„è§„åˆ’-RRT_Connect</title>
      <link href="/posts/2708526344/"/>
      <url>/posts/2708526344/</url>
      
        <content type="html"><![CDATA[<h1 id="è·¯å¾„è§„åˆ’ä¹‹-RRT-Connect-å¹³è¡¡åŒå‘å¿«é€Ÿæ‰©å±•éšæœºæ ‘"><a href="#è·¯å¾„è§„åˆ’ä¹‹-RRT-Connect-å¹³è¡¡åŒå‘å¿«é€Ÿæ‰©å±•éšæœºæ ‘" class="headerlink" title="è·¯å¾„è§„åˆ’ä¹‹ RRT_Connect (å¹³è¡¡åŒå‘å¿«é€Ÿæ‰©å±•éšæœºæ ‘)"></a>è·¯å¾„è§„åˆ’ä¹‹ RRT_Connect (å¹³è¡¡åŒå‘å¿«é€Ÿæ‰©å±•éšæœºæ ‘)</h1><p>å•é¢— RRT æ ‘æ¯æ¬¡æœç´¢åªä»åˆå§‹èŠ‚ç‚¹å¼€å§‹åœ¨çŠ¶æ€ç©ºé—´ä¸­å¿«é€Ÿéšæœºæ‰©å±•èŠ‚ç‚¹ï¼Œå¸¦æœ‰ä¸€å®šçš„ç›²ç›®æ€§ã€‚RRT<em>Connect ç®—æ³•æ˜¯ä¸€ç§åŸºäºåŒå‘æ‰©å±•å¹³è¡¡çš„è¿ç»“å‹åŒæ ‘(Balanced Bidirectional RRT)ï¼šä¸¤é¢— RRTs åˆ†åˆ«åŸºäº$q</em>{init}$å’Œ$q_{goal}$æ‰©å±•ï¼›è´ªå¿ƒå¯å‘å¼çš„è¿æ¥æ–¹æ³•ä½¿æ¯æ£µæ ‘æ‰©å±•æ—¶ä¸€æ¬¡ç§»åŠ¨æ›´é•¿çš„è·ç¦»ã€‚<a href="https://ieeexplore.ieee.org/document/844730" target="_blank" rel="noopener">ä½œè€…</a>åŸæ–‡ä¸­ä¸¾ä¾‹äº†å¹³é¢åœ°å›¾ä»¥åŠ 6-DOF çš„æœºæ¢°è‡‚æ¥éªŒè¯ RRT_Connect.</p><a id="more"></a><p><img src="rrt_connect.gif" alt="rrt_connect.gif"></p><h2 id="ç®—æ³•æè¿°"><a href="#ç®—æ³•æè¿°" class="headerlink" title="ç®—æ³•æè¿°"></a>ç®—æ³•æè¿°</h2><p>åˆ†åˆ«åœ¨èµ·ç‚¹$q_{init}$å’Œç»ˆç‚¹$q_{goal}$æ„é€ ä¸¤æ£µæ ‘$T_1$å’Œ$T_2$ï¼Œæ‰©å±•èŠ‚ç‚¹æ–¹å¼åŒ RRTã€‚é¦–å…ˆ$T_1$ä»$q_{init}$éšæœºé‡‡æ ·$q_{rand}$ä½œä¸ºç›®æ ‡ç‚¹æ‰©å±•ä¸€ä¸ªæ–°èŠ‚ç‚¹$ğ‘_{ğ‘›ğ‘’ğ‘¤}$ï¼Œä»¥è¿™ä¸ªæ–°èŠ‚ç‚¹$ğ‘_{ğ‘›ğ‘’ğ‘¤}$ä½œä¸ºç¬¬äºŒæ£µæ ‘$T_2$çš„ç›®æ ‡ç‚¹æ¥æ‰©å±•æ–°èŠ‚ç‚¹$ğ‘^â€²_{ğ‘›ğ‘’ğ‘¤}$ã€‚å¦‚æœ$ğ‘^â€²_{ğ‘›ğ‘’ğ‘¤}$æ²¡æœ‰ç¢°æ’ï¼Œç»§ç»­ä»¥$ğ‘_{ğ‘›ğ‘’ğ‘¤}$ä½œä¸ºç›®æ ‡ç‚¹æ‰©å±•$T_2$ï¼Œç›´åˆ°æ‰©å±•å¤±è´¥(é‡åˆ°éšœç¢ï¼Œè¿›è¡Œä¸‹ä¸€æ¬¡å¾ªç¯æ‰©å±•)æˆ–è€…$ğ‘^â€²_{ğ‘›ğ‘’ğ‘¤}=ğ‘_{ğ‘›ğ‘’ğ‘¤}$(ä¸¤æ£µæ ‘ç›¸è¿ï¼Œå³ connectï¼Œæ•´ä¸ªç®—æ³•ç»“æŸ)ã€‚æ¯æ¬¡æ‰©å±•éœ€è¦è€ƒè™‘ä¸¤æ£µæ ‘çš„å¹³è¡¡æ€§ï¼ŒèŠ‚ç‚¹å¤šå°‘æˆ–æ€»è·¯å¾„çš„é•¿åº¦ã€‚äº¤æ¢æ¬¡åºï¼Œé€‰æ‹©è¾ƒçŸ­çš„æ ‘è¿›è¡Œæ‰©å±•ã€‚<br>é¦–å…ˆï¼ŒRRT_Connect ç®—æ³•ä»¥å¦ä¸€æ£µæ ‘çš„æ–°èŠ‚ç‚¹ä½œä¸ºç›®æ ‡ç‚¹æ‰©å±•ï¼Œç›´åˆ°æ‰©å±•å¤±è´¥ã€‚æ¯æ¬¡æ‰©å±•æ›´åŠ è´ªå©ªï¼Œæ­¥é•¿æ›´é•¿ï¼Œä½¿å¾—æ ‘çš„ç”Ÿé•¿æ›´å¿«ï¼›å…¶æ¬¡ï¼Œä¸¤æ£µæ ‘ä¸æ–­æœå‘å¯¹æ–¹äº¤æ›¿æ‰©å±•ï¼Œç›¸æ¯”äºéšæœºæ‰©å±•çš„æ–¹å¼å…·æœ‰ä¸€å®šçš„å¯å‘æ€§è´¨ï¼Œç‰¹åˆ«å½“èµ·å§‹ä½å§¿å’Œç›®æ ‡ä½å§¿å¤„äºçº¦æŸåŒºåŸŸæ—¶ï¼Œä¸¤æ£µæ ‘å¯ä»¥é€šè¿‡æœå‘å¯¹æ–¹å¿«é€Ÿæ‰©å±•è€Œé€ƒç¦»å„è‡ªçš„çº¦æŸåŒºåŸŸã€‚</p><h3 id="ä¼ªç "><a href="#ä¼ªç " class="headerlink" title="ä¼ªç "></a>ä¼ªç </h3><p><img src="algorithm_rrt_connect.png" alt="Algorithms RRT_Connect"></p><h2 id="ç®—æ³•å®ç°"><a href="#ç®—æ³•å®ç°" class="headerlink" title="ç®—æ³•å®ç°"></a>ç®—æ³•å®ç°</h2><h3 id="æ•°æ®ç»“æ„"><a href="#æ•°æ®ç»“æ„" class="headerlink" title="æ•°æ®ç»“æ„"></a>æ•°æ®ç»“æ„</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Node</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, pos=[<span class="number">0</span>, <span class="number">0</span>])</span>:</span></span><br><span class="line">        self.pos = pos</span><br><span class="line">        self.parent = <span class="literal">None</span></span><br></pre></td></tr></table></figure><h3 id="æ¥å£"><a href="#æ¥å£" class="headerlink" title="æ¥å£"></a>æ¥å£</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">map_path: åœ°å›¾å›¾ç‰‡è·¯å¾„</span></span><br><span class="line"><span class="string">qstart: èµ·ç‚¹åæ ‡ [row, col]</span></span><br><span class="line"><span class="string">qgoal: ç›®æ ‡ç‚¹åæ ‡ [row, col]</span></span><br><span class="line"><span class="string">grid_size: ç½‘æ ¼å¤§å°ï¼ˆç”¨æ¥ç¢°æ’æ£€æµ‹ï¼‰</span></span><br><span class="line"><span class="string">step_size: æ‰©å±•æ­¥é•¿</span></span><br><span class="line"><span class="string">max_steps: æœ€å¤§æ‰©å±•èŠ‚ç‚¹æ•°</span></span><br><span class="line"><span class="string">goal_prob: å¢åŠ è¶‹å‘ç›®æ ‡ç‚¹æ¦‚ç‡ï¼ˆè´ªå©ªï¼‰</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"></span><br><span class="line">rrt_connect = RRT_CONNECT(map_path, qstart, qgoal, grid_size,</span><br><span class="line">                          step_size, max_steps, goal_prob)</span><br></pre></td></tr></table></figure><h3 id="Planning"><a href="#Planning" class="headerlink" title="Planning"></a>Planning</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">Planning</span><span class="params">(self)</span>:</span></span><br><span class="line">    <span class="string">'''</span></span><br><span class="line"><span class="string">    RRT_CONNECT planning</span></span><br><span class="line"><span class="string">    '''</span></span><br><span class="line">    <span class="string">'''</span></span><br><span class="line"><span class="string">    # åˆå§‹åŒ–ä¸¤é¢—æ ‘ï¼šåˆ†åˆ«åœ¨èµ·ç‚¹qstartå’Œç»ˆç‚¹qgoalæ„é€ ä¸¤æ£µæ ‘,</span></span><br><span class="line"><span class="string">    # èŠ‚ç‚¹æ ‘åˆ†åˆ«è®°ä¸ºvertices_t1å’Œvetices_t2.</span></span><br><span class="line"><span class="string">    '''</span></span><br><span class="line">    vertices_t1 = []</span><br><span class="line">    self.AddVertices(self.qstart, vertices_t1)</span><br><span class="line">    self.AddEdges(<span class="literal">None</span>, self.qstart)</span><br><span class="line"></span><br><span class="line">    vertices_t2 = []</span><br><span class="line">    self.AddVertices(self.qgoal, vertices_t2)</span><br><span class="line">    self.AddEdges(<span class="literal">None</span>, self.qgoal)</span><br><span class="line"></span><br><span class="line">    <span class="string">'''</span></span><br><span class="line"><span class="string">    # å¼€å§‹è¿­ä»£</span></span><br><span class="line"><span class="string">    '''</span></span><br><span class="line">    k = <span class="number">0</span></span><br><span class="line">    new_qgoal = self.qgoal</span><br><span class="line">    <span class="keyword">while</span> k &lt;= self.max_steps:</span><br><span class="line">        k += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="string">'''</span></span><br><span class="line"><span class="string">        # éšæœºé‡‡æ ·qrand_t1ä½œä¸ºç›®æ ‡ç‚¹ï¼Œæ²¿(qnear_t1, qrand_t1)æ–¹å‘,</span></span><br><span class="line"><span class="string">        # ä»¥step_sizeæ­¥é•¿æ‰©å±•ç¬¬ä¸€æ£µæ ‘çš„èŠ‚ç‚¹qnew_t1.</span></span><br><span class="line"><span class="string">        '''</span></span><br><span class="line">        qrand_t1 = self.GenerateRandomNode(</span><br><span class="line">            [<span class="number">0</span>, self.map_shape[<span class="number">0</span>]], [<span class="number">0</span>, self.map_shape[<span class="number">1</span>]],</span><br><span class="line">            new_qgoal, self.goal_prob)</span><br><span class="line"></span><br><span class="line">        _, qnear_t1 = self.FindNearestNode(qrand_t1, vertices_t1)</span><br><span class="line">        qnew_t1 = self.ExtendTree(qnear_t1, qrand_t1, self.step_size)</span><br><span class="line"></span><br><span class="line">        <span class="string">'''</span></span><br><span class="line"><span class="string">        # æ£€æŸ¥qnew_t1æ˜¯å¦æ‰©å±•æˆåŠŸä¸”æ²¡æœ‰ç¢°æ’</span></span><br><span class="line"><span class="string">        '''</span></span><br><span class="line">        <span class="keyword">if</span> qnew_t1 <span class="keyword">and</span> self.CollsionFree(qnear_t1, qnew_t1, self.grid_size):</span><br><span class="line">            <span class="string">'''</span></span><br><span class="line"><span class="string">            å°†qnew_t1åŠ å…¥åˆ°ç¬¬ä¸€é¢—æ ‘vertices_t1ä¸­</span></span><br><span class="line"><span class="string">            '''</span></span><br><span class="line">            self.AddVertices(qnew_t1, vertices_t1)</span><br><span class="line">            self.AddEdges(qnear_t1, qnew_t1)</span><br><span class="line"></span><br><span class="line">            self.DrawEdges(self.src_map, qnear_t1, qnew_t1)</span><br><span class="line"></span><br><span class="line">            <span class="string">'''</span></span><br><span class="line"><span class="string">            # ä»¥qnew_t1ä¸ºç›®æ ‡ç‚¹ï¼Œæ²¿(qnear_t2, qnew_t1)æ–¹å‘</span></span><br><span class="line"><span class="string">            # ä»¥step_sizeæ­¥é•¿æ‰©å±•ç¬¬äºŒæ£µæ ‘çš„èŠ‚ç‚¹qnew_t2.</span></span><br><span class="line"><span class="string">            '''</span></span><br><span class="line">            k += <span class="number">1</span></span><br><span class="line">            _, qnear_t2 = self.FindNearestNode(qnew_t1, vertices_t2)</span><br><span class="line">            qnew_t2 = self.ExtendTree(qnear_t2, qnew_t1, self.step_size)</span><br><span class="line"></span><br><span class="line">            <span class="string">'''</span></span><br><span class="line"><span class="string">            # æ£€æŸ¥qnew_t1æ˜¯å¦æ‰©å±•æˆåŠŸä¸”æ²¡æœ‰ç¢°æ’</span></span><br><span class="line"><span class="string">            '''</span></span><br><span class="line">            <span class="keyword">if</span> qnew_t2 <span class="keyword">and</span> self.CollsionFree(qnear_t2, qnew_t2, self.grid_size):</span><br><span class="line">                <span class="string">'''</span></span><br><span class="line"><span class="string">                # å°†qnew_t1åŠ å…¥åˆ°ç¬¬ä¸€é¢—æ ‘vertices_t1ä¸­</span></span><br><span class="line"><span class="string">                '''</span></span><br><span class="line">                self.AddVertices(qnew_t2, vertices_t2)</span><br><span class="line">                self.AddEdges(qnear_t2, qnew_t2)</span><br><span class="line"></span><br><span class="line">                self.DrawEdges(self.src_map, qnear_t2, qnew_t2)</span><br><span class="line"></span><br><span class="line">                <span class="string">'''</span></span><br><span class="line"><span class="string">                # è¿™é‡Œä¸€ç›´ä»¥qnew_t1ä¸ºç›®æ ‡ç‚¹ï¼Œæ‰©å±•qnew_t2ï¼Œ</span></span><br><span class="line"><span class="string">                # é™¤éqnew_t2æ‰©å±•å¤±è´¥æˆ–qnew_t2åˆ°è¾¾qnew_t1ã€‚</span></span><br><span class="line"><span class="string">                # æ‰©å±•qnew_t2å¸¦æœ‰ä¸€å®šçš„è´ªå©ªç‰¹æ€§ï¼Œæ‰€ä»¥æ‰©å±•æ ‘ç›¸æ¯”RRTæ›´å¿«é€Ÿ</span></span><br><span class="line"><span class="string">                '''</span></span><br><span class="line">                <span class="keyword">while</span> k &lt;= self.max_steps <span class="keyword">and</span> self.IsArrival(qnew_t2, qnew_t1, self.step_size) == <span class="literal">False</span>:</span><br><span class="line">                    k += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">                    <span class="string">'''</span></span><br><span class="line"><span class="string">                    # ä»¥qnew_t1ä¸ºç›®æ ‡ç‚¹ï¼Œæ²¿(qnew_t2, qnew_t1)æ–¹å‘</span></span><br><span class="line"><span class="string">                    # ä»¥step_sizeæ­¥é•¿æ‰©å±•æ–°èŠ‚ç‚¹qnew_mid.</span></span><br><span class="line"><span class="string">                    '''</span></span><br><span class="line">                    qnew_mid = self.ExtendTree(</span><br><span class="line">                        qnew_t2, qnew_t1, self.step_size)</span><br><span class="line"></span><br><span class="line">                    <span class="string">'''</span></span><br><span class="line"><span class="string">                    # æ£€æŸ¥qnew_midæ˜¯å¦æ‰©å±•æˆåŠŸä¸”æ²¡æœ‰ç¢°æ’</span></span><br><span class="line"><span class="string">                    '''</span></span><br><span class="line">                    <span class="keyword">if</span> qnew_mid <span class="keyword">and</span> self.CollsionFree(qnew_t2, qnew_mid, self.grid_size):</span><br><span class="line">                        <span class="string">'''</span></span><br><span class="line"><span class="string">                        # å¦‚æœqnew_midæ‰©å±•æˆåŠŸï¼Œåˆ™å°†å…¶åŠ å…¥åˆ°ç¬¬äºŒæ£µæ ‘ä¸­.</span></span><br><span class="line"><span class="string">                        '''</span></span><br><span class="line">                        self.AddVertices(qnew_mid, vertices_t2)</span><br><span class="line">                        self.AddEdges(qnew_t2, qnew_mid)</span><br><span class="line"></span><br><span class="line">                        self.DrawEdges(self.src_map, qnew_t2, qnew_mid)</span><br><span class="line"></span><br><span class="line">                        <span class="string">'''</span></span><br><span class="line"><span class="string">                        # å°†ç¬¬äºŒæ£µæ ‘æ–°æ‰©å±•çš„èŠ‚ç‚¹qnew_midä½œä¸ºqnew_t2ç»§ç»­æ‰©å±•</span></span><br><span class="line"><span class="string">                        '''</span></span><br><span class="line">                        qnew_t2 = qnew_mid</span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        <span class="string">'''</span></span><br><span class="line"><span class="string">                        # å¦‚æœqnew_midæ‰©å±•å¤±è´¥ï¼Œåˆ™è·³å‡ºè¯¥å¾ªç¯.</span></span><br><span class="line"><span class="string">                        '''</span></span><br><span class="line">                        <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">            <span class="string">'''</span></span><br><span class="line"><span class="string">            æ£€æŸ¥ä¸¤æ£µæ ‘æ˜¯å¦ç›¸è¿,è‹¥ç›¸è¿ï¼Œåˆ™å®Œæˆè·¯å¾„è§„åˆ’</span></span><br><span class="line"><span class="string">            '''</span></span><br><span class="line">            <span class="keyword">if</span> self.IsArrival(qnew_t2, qnew_t1, self.step_size):</span><br><span class="line">                print(<span class="string">"Found"</span>)</span><br><span class="line">                <span class="string">'''</span></span><br><span class="line"><span class="string">                # å¦‚æœä¸¤æ£µæ ‘è¿ä¸Šäº†ï¼Œè¯´æ˜æ‰¾åˆ°è·¯å¾„äº†ï¼ŒæŠŠæœ€åä¸€ä¸ªèŠ‚ç‚¹æ·»åŠ åˆ°æ ‘ä¸­ã€‚</span></span><br><span class="line"><span class="string">                '''</span></span><br><span class="line">                copy_qnew_t1 = copy.deepcopy(qnew_t1)</span><br><span class="line">                self.AddVertices(copy_qnew_t1, vertices_t2)</span><br><span class="line">                self.AddEdges(qnew_t2, copy_qnew_t1)</span><br><span class="line"></span><br><span class="line">                <span class="string">'''</span></span><br><span class="line"><span class="string">                # åˆå¹¶ä¸¤æ£µæ ‘ï¼Œæ³¨æ„ç»ˆç‚¹æ ‘çš„èŠ‚ç‚¹æŒ‡é’ˆä¸èµ·ç‚¹æ ‘åå‘</span></span><br><span class="line"><span class="string">                '''</span></span><br><span class="line">                path = self.MergeTree(vertices_t1, vertices_t2)</span><br><span class="line">                self.DrawPath(self.src_map, path)</span><br><span class="line"></span><br><span class="line">                <span class="string">'''</span></span><br><span class="line"><span class="string">                # è·¯å¾„åœ†æ»‘</span></span><br><span class="line"><span class="string">                '''</span></span><br><span class="line">                smooth_path = self.SmoothPath(path, self.grid_size)</span><br><span class="line">                self.DrawPath(self.src_map, smooth_path)</span><br><span class="line"></span><br><span class="line">                <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="string">'''</span></span><br><span class="line"><span class="string">        # å½“ç¬¬äºŒæ£µæ ‘æ‰©å±•å¤±è´¥åï¼Œå›åˆ°ç¬¬ä¸€æ£µæ ‘æ‰©å±•æ—¶ï¼Œæ£€æŸ¥ä¸¤æ£µæ ‘çš„èŠ‚ç‚¹ä¸ªæ•°ï¼Œ</span></span><br><span class="line"><span class="string">        # é€‰æ‹©è¾ƒçŸ­æ ‘è¿›è¡Œæ‰©å±•ï¼Œä½¿ä¸¤æ£µæ ‘ä¿æŒç›¸å¯¹å¹³è¡¡ã€‚æ–°çš„ç›®æ ‡ç‚¹ä¸ºè¾ƒé•¿æ ‘çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line"><span class="string">        '''</span></span><br><span class="line">        <span class="keyword">if</span> (len(vertices_t2) &lt; len(vertices_t1)):</span><br><span class="line">            vertices_t2, vertices_t1 = vertices_t1, vertices_t2</span><br><span class="line">            <span class="comment"># edges_t2, edges_t1 = edges_t1, edges_t2</span></span><br><span class="line"></span><br><span class="line">            new_qgoal = vertices_t2[<span class="number">-1</span>]</span><br><span class="line"></span><br><span class="line">    print(<span class="string">"NotFound"</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">False</span></span><br></pre></td></tr></table></figure><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><p>[1]: Kuffner J J , Lavalle S M . RRT-connect: An efficient approach to single-query path planning[C]// Proceedings 2000 ICRA. Millennium Conference. IEEE International Conference on Robotics and Automation. Symposia Proceedings (Cat. No.00CH37065). IEEE, 2002.</p>]]></content>
      
      
      <categories>
          
          <category> è·¯å¾„è§„åˆ’ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è·¯å¾„è§„åˆ’ </tag>
            
            <tag> motion planning </tag>
            
            <tag> RRT_Connect </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è·¯å¾„è§„åˆ’-LPA_Star</title>
      <link href="/posts/367356294/"/>
      <url>/posts/367356294/</url>
      
        <content type="html"><![CDATA[<h1 id="è·¯å¾„è§„åˆ’ä¹‹-LPA-Star-LPA"><a href="#è·¯å¾„è§„åˆ’ä¹‹-LPA-Star-LPA" class="headerlink" title="è·¯å¾„è§„åˆ’ä¹‹ LPA_Star (LPA*)"></a>è·¯å¾„è§„åˆ’ä¹‹ LPA_Star (LPA*)</h1><p>LPA*æ˜¯ A*çš„å¢é‡ç‰ˆæœ¬. ç›¸æ¯”äº A*ç®—æ³•, é¦–æ¬¡è§„åˆ’æ—¶, ä¸¤è€…è¿‡ç¨‹ç±»ä¼¼. å‡å¦‚åœ°å›¾å‘ç”Ÿå˜åŒ–, A*ç®—æ³•éœ€è¦é‡æ–°è§„åˆ’è·¯å¾„. è€Œ LPA*ç®—æ³•å¯ä»¥é€šè¿‡åœ¨å½“å‰æœç´¢æœŸé—´å†…æ›´æ–°å‰ä¸€æ¬¡æœç´¢çš„ g å€¼ï¼ˆè·èµ·å§‹è·ç¦»ï¼‰æ¥é€‚åº”åœ°å›¾å˜åŒ–è€Œæ— éœ€é‡æ–°è®¡ç®—æ•´ä¸ªåœ°å›¾ã€‚</p><a id="more"></a><p><img src="lpa_star.gif" alt="lpa_star.gif"></p><h2 id="ç®—æ³•æè¿°"><a href="#ç®—æ³•æè¿°" class="headerlink" title="ç®—æ³•æè¿°"></a>ç®—æ³•æè¿°</h2><p>å±€éƒ¨è¿ç»­ï¼ˆLocally Consistentï¼‰ï¼š$g(s)=rhs(s)$ã€‚å½“æ‰€æœ‰èŠ‚ç‚¹å‡ä¸ºå±€éƒ¨è¿ç»­çŠ¶æ€æ—¶ï¼Œg(s)çš„å€¼ç­‰äº s åˆ°èµ·å§‹ç‚¹çš„æœ€çŸ­è·ç¦»ï¼ˆæ³¨æ„ï¼Œåå‘ä¸æˆç«‹ï¼‰ã€‚è¿™ä¸ªæ¦‚å¿µå¾ˆé‡è¦ï¼Œå½“ä¸Šè¿°æ¡ä»¶æ»¡è¶³æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥æ‰¾åˆ°ä»»æ„ä¸€ç‚¹ u åˆ°èµ·å§‹ç‚¹çš„æœ€çŸ­è·¯å¾„ï¼Œå‡è®¾å½“å‰ä½ç½®ä¸º s,çˆ¶è¾ˆèŠ‚ç‚¹ sâ€™(å‘ç€èµ·å§‹ç‚¹å‰è¿›çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹)é€šè¿‡æœ€å°åŒ–(g(sâ€™)+c(s,sâ€™))æ¥è·å¾—ï¼Œä¸æ–­é‡å¤ç›´åˆ°åˆ°è¾¾ sStartã€‚ç„¶è€Œï¼ŒLPA*å¹¶ä¸éœ€è¦ä½¿æ‰€æœ‰èŠ‚ç‚¹å‡ä¸ºå±€éƒ¨è¿ç»­çŠ¶æ€ï¼Œå®ƒé€šè¿‡å¯å‘å¼æœç´¢å°†å…³æ³¨ç‚¹æ”¾åœ¨æœç´¢ä¸Šï¼Œå¹¶ä¸”åªæ›´æ–°é‚£äº›ä¸è®¡ç®—æœ€çŸ­è·¯å¾„ç›¸å…³çš„èŠ‚ç‚¹çš„ g å€¼ã€‚</p><p>å±€éƒ¨è¿‡è¿ç»­ï¼ˆLocally Overconsistentï¼‰ï¼š$g(s)&gt;rhs(s)$ã€‚å½“ä¼˜å…ˆé˜Ÿåˆ— U ä¸­å–å‡ºçš„èŠ‚ç‚¹ä¸ºå±€éƒ¨è¿‡è¿ç»­çŠ¶æ€æ—¶ï¼Œæ„å‘³ç€ g(s)å¯ä»¥é€šè¿‡çˆ¶è¾ˆèŠ‚ç‚¹ä½¿è‡ªå·±åˆ°èµ·ç‚¹çš„è·¯å¾„æ›´çŸ­ï¼Œæ­¤æ—¶å°†è®¾ç½® g(s)=rhs(s)ï¼ŒèŠ‚ç‚¹çŠ¶æ€å˜ä¸ºå±€éƒ¨è¿ç»­çŠ¶æ€ã€‚</p><p>å±€éƒ¨æ¬ è¿ç»­(Locally Underconsistent)ï¼š$g(s)&lt;rhs(s)$ã€‚è¿™ç§æƒ…å†µé€šå¸¸å‡ºç°åœ¨çˆ¶è¾ˆçš„æŸä¸€èŠ‚ç‚¹çªç„¶å˜ä¸ºéšœç¢çš„æƒ…å†µä¸‹ï¼Œé€ æˆçˆ¶è¾ˆèŠ‚ç‚¹åˆ°èµ·ç‚¹çš„è·¯å¾„å˜å¤§ï¼Œä»è€Œéœ€è¦ä¿®æ”¹ g(s)çš„å€¼ï¼Œå¦‚æœèŠ‚ç‚¹å¤„äºè¿™ç§çŠ¶æ€ï¼Œåˆ™å½“å®ƒç”±ä¼˜å…ˆé˜Ÿåˆ—ä¸­å–å‡ºæ—¶ï¼Œå°†å…¶ g å€¼è®¾ç½®ä¸ºæ— ç©·å¤§ï¼Œå³å°†è¯¥èŠ‚ç‚¹çŠ¶æ€å˜ä¸ºå±€éƒ¨è¿‡è¿ç»­ï¼Œè€Œå±€éƒ¨è¿‡è¿ç»­çš„ç‚¹å°†ä¼šè¢«å†æ¬¡æ·»åŠ åˆ°ä¼˜å…ˆé˜Ÿåˆ—ä¸­ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨å®ƒä¸‹æ¬¡è¢«å–å‡ºæ—¶å°†å…¶ä½œä¸ºå±€éƒ¨è¿‡è¿ç»­çŠ¶æ€å¤„ç†ï¼Œæœ€ç»ˆè¾¾åˆ°å±€éƒ¨è¿ç»­çŠ¶æ€ï¼ˆå¦‚æœè¿™ä¸€èŠ‚ç‚¹ä¸æˆ‘ä»¬è¦æœç´¢çš„æœ€çŸ­è·¯å¾„ç›¸å…³çš„è¯ï¼‰ã€‚</p><p>LPA*ç»´æŒç€æ¯ä¸ªèŠ‚ç‚¹çš„åˆ°èµ·ç‚¹çš„ä¼°è®¡è·ç¦»: <a href="algorithm_lpa_star_g.png">$g(s)$</a> é¦–æ¬¡æœç´¢æ—¶, $g(s)$çš„è®¡ç®—æ–¹å¼å’Œ A*ç›¸åŒ, å¹¶å°†è¿™ä¸ªå€¼å¸¦åˆ°ä¸‹æ¬¡æœç´¢è¿‡ç¨‹ä¸­.<br><img src="algorithm_lpa_star_g.png" alt="algorithm_lpa_star_g"></p><p>æ­¤å¤– LPA*è¿˜ç»´æŠ¤ç€ä¸€ä¸ªåŸºäº$g(s)$çš„å‰ç»ä¼°è®¡è·ç¦»: <a href="algorithm_lpa_star_rhs.png">$rhs(s)$</a>.<br><img src="algorithm_lpa_star_rhs.png" alt="algorithm_lpa_star_rhs"></p><p>A*ç®—æ³•ç»´æŠ¤ç€ OPEN å’Œ CLOSED åˆ—è¡¨æ¥é¿å…èŠ‚ç‚¹è¢«é‡å¤æœç´¢. LPA*é€šè¿‡æ£€æŸ¥å±€éƒ¨ä¸€è‡´æ€§æ¥é¿å…èŠ‚ç‚¹é‡å¤æœç´¢, ä¸éœ€è¦ç»´æŠ¤ COLSED åˆ—è¡¨. OPEN åˆ—è¡¨æ˜¯ä¸€ä¸ªä¼˜å…ˆé˜Ÿåˆ—, ä½¿å¾— A*å¯ä»¥é€šè¿‡é˜Ÿåˆ—ä¸­å…·æœ‰æœ€å°$f(s)$å€¼çš„èŠ‚ç‚¹æ¥è¿›è¡Œè¾¹çš„æ‰©å±•. LPA*ä¹Ÿç»´æŒç€ä¸€ä¸ªåªåŒ…å«å±€éƒ¨æ¬ ä¸€è‡´(locally inconsistent)èŠ‚ç‚¹çš„ä¼˜å…ˆé˜Ÿåˆ—. ä¼˜å…ˆé˜Ÿåˆ—æ ¹æ®èŠ‚ç‚¹çš„ keys å€¼æ’åˆ—(ç›¸å½“äº A*çš„$f(s)$å€¼æ’åˆ—). è¯¥ keys æ˜¯ä¸€ä¸ªäºŒç»´å˜é‡:</p><blockquote><p>$k(s)=[k1(s),k2(s)]$</p></blockquote><p>å…¶ä¸­:</p><blockquote><p>$k1(s)=min(g(s),rhs(s)+h(s))$, ç›¸å½“äº A*çš„$f(s)$ &gt; $k2(s)=min(g(s),rhs(s))$, ç›¸å½“äº A*çš„$g(s)$</p></blockquote><p>å®šä¹‰: $k(s1) \leq (s2)$ ä¸º $k1(s1) \leq k1(s2)$ æˆ–è€… $(k1(s1)=k1(s2) \text{ and }k2(s1) \leq k2(s2))$</p><h3 id="ä¼ªç "><a href="#ä¼ªç " class="headerlink" title="ä¼ªç "></a>ä¼ªç </h3><p>ç®—æ³•ä¼ªç å¦‚ä¸‹å›¾æ‰€ç¤º <a href="algorithm_lpa_star.png">Algorithms LAP*</a><br><img src="algorithm_lpa_star.png" alt="3"></p><h3 id="å›¾è§£"><a href="#å›¾è§£" class="headerlink" title="å›¾è§£"></a>å›¾è§£</h3><p><a href="algorithm_lpa_star_first_search.png">ç¬¬ä¸€æ¬¡æœç´¢</a><br><img src="algorithm_lpa_star_first_search.png" alt="4"></p><p><a href="algorithm_lpa_star_secord_search.png">ç¬¬äºŒæ¬¡æœç´¢</a><br><img src="algorithm_lpa_star_secord_search.png" alt="5"></p><h2 id="æµç¨‹"><a href="#æµç¨‹" class="headerlink" title="æµç¨‹"></a>æµç¨‹</h2><ul><li><p>åˆå§‹åŒ–<code>LPA_STAR.__init__</code>: åˆå§‹åŒ–åœ°å›¾ï¼Œå¯¹åœ°å›¾å›¾ç‰‡äºŒå€¼åŒ–å¤„ç†ï¼Œç½‘æ ¼èŠ‚ç‚¹åˆ’åˆ†ï¼Œè‹¥ç½‘æ ¼å†…åŒ…å«éšœç¢ç‰©ï¼Œåˆ™è¯¥ç½‘æ ¼èŠ‚ç‚¹æ ‡è®°ä¸ºéšœç¢ç‰©: <code>Node.is_obs = True</code></p></li><li><p>è¾“å…¥éœ€è¦éšæœºäº§ç”Ÿçš„éšœç¢ç‰©ç½‘æ ¼ä¸ªæ•°(å¯é€‰);</p></li><li><p><code>Initialize()</code>: åˆå§‹åŒ–æ‰€æœ‰èŠ‚ç‚¹çš„$g(s)=\infin$, $rhs(s)=\infin$, å®é™…å®ç°ä¸­ï¼Œä¸éœ€è¦åˆå§‹åŒ–æ‰€æœ‰èŠ‚ç‚¹ï¼Œåªéœ€è¦åœ¨é‡åˆ°ä¸€ä¸ªæ–°èŠ‚ç‚¹æ—¶åˆå§‹åŒ–è¯¥èŠ‚ç‚¹. èµ·ç‚¹$s_{start}$æ˜¯ä¸€ä¸ªå±€éƒ¨æ¬ ä¸€è‡´èŠ‚ç‚¹, è®¡ç®—$keys(s_{start})$, å¹¶å°†èŠ‚ç‚¹$s_{start}$æ”¾å…¥ä¼˜å…ˆé˜Ÿåˆ—ä¸­.</p></li><li><p>åˆå§‹åŒ–<code>Initialize()</code>ä¿è¯äº†é¦–æ¬¡è°ƒç”¨<code>ComputeShortestPath()</code>æ˜¯ä¸€ä¸ª A*ç®—æ³•ã€‚</p></li><li><p>ç­‰å¾…åœ°å›¾æ›´æ–°ï¼Œ è¿™é‡Œé€šè¿‡ç”¨æˆ·è¾“å…¥éšœç¢ç‰©ç½‘æ ¼æ•°æ¥æ¨¡æ‹Ÿåœ°å›¾æ›´æ–°ã€‚</p></li><li><p>åœ°å›¾æ›´æ–°æ—¶ï¼Œå¯¼è‡´èŠ‚ç‚¹ä¹‹é—´çš„è·ç¦»<code>DistanceCost</code>å‘ç”Ÿå˜åŒ–, è°ƒç”¨<code>UpdateVertex(s)</code>æ›´æ–°å—å½±å“èŠ‚ç‚¹å‚æ•°<code>rhs</code>å’Œ<code>keys</code>ã€‚è¿™ä¹Ÿè¿™äº›èŠ‚ç‚¹å’Œä¼˜å…ˆé˜Ÿåˆ—ä¹‹é—´çš„è”ç³»ä¹Ÿå‘ç”Ÿå˜åŒ–ï¼Œå¯èƒ½æˆä¸ºå±€éƒ¨ä¸€è‡´æˆ–è€…å±€éƒ¨ä¸ä¸€è‡´çŠ¶æ€ã€‚</p></li><li><p>é‡æ–°è°ƒç”¨<code>ComputeShortestPath()</code>æ¥æ ¹æ®ä¼˜å…ˆé˜Ÿåˆ—é¡ºåºå±•å¼€å±€éƒ¨ä¸ä¸€è‡´çš„èŠ‚ç‚¹ã€‚</p><ul><li><p>å¦‚æœå±•å¼€çš„èŠ‚ç‚¹å¤„äºå±€éƒ¨è¿‡ä¸€è‡´(<code>locally overconsistent</code>)çŠ¶æ€, å³$g(s)&gt;rhs(s)$, é‚£ä¹ˆå°†è¯¥èŠ‚ç‚¹è®¾ç½®ä¸ºå±€éƒ¨ä¸€è‡´(<code>locally consistent</code>), å³$g(s)=rhs(s)$ã€‚</p></li><li><p>å¦‚æœå±•å¼€çš„èŠ‚ç‚¹å¤„äºå±€éƒ¨æ¬ ä¸€è‡´(<code>locally underconsistent</code>)çŠ¶æ€ï¼Œå³$g(s)&lt;rhs(s)$, é‚£ä¹ˆå°†è¯¥èŠ‚ç‚¹çš„<code>g</code>å€¼è®¾ç½®ä¸ºæ— ç©·å¤§ï¼Œ å³$g(s)=\infin$</p></li><li><p>ä¸Šè¿°ä¸¤ç§æƒ…å†µä¸­å—è¯¥å±•å¼€èŠ‚ç‚¹çš„<code>g</code>å€¼å˜åŒ–ä¼šå½±å“åç½®èŠ‚ç‚¹ï¼Œæ‰€ä»¥è¿˜éœ€è¦æ›´æ–°å—å…¶å½±å“çš„èŠ‚ç‚¹ï¼Œè°ƒç”¨<code>UpdateVertex(s)</code>æ¥æ›´æ–°ã€‚</p></li></ul></li><li><p>LPA*æ‰©å±•åœæ­¢æ¡ä»¶ä¸ºï¼šç›®æ ‡èŠ‚ç‚¹$s_{goal}$å¤„äºå±€éƒ¨ä¸€è‡´å¹¶ä¸”ä¸‹ä¸€ä¸ªå¾…å±•å¼€çš„èŠ‚ç‚¹<code>keys</code>å€¼ä¸å°äº$s_{goal}$çš„<code>keys</code>å€¼ã€‚è‹¥æœç´¢ç»“æŸä¹‹åç›®æ ‡èŠ‚ç‚¹$s_{goal}$çš„<code>g</code>å€¼ä¸ºæ— ç©·å¤§ï¼Œé‚£è·¯å¾„ä¸å­˜åœ¨ã€‚</p></li><li><p>å°†ç›®æ ‡èŠ‚ç‚¹$s_{goal}$çš„åç½®é“¾è¡¨åè½¬å³å¯å¾—åˆ°$s_{start}$åˆ°$s_{goal}$çš„è·¯å¾„</p></li></ul><h2 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h2><h3 id="æ•°æ®ç»“æ„"><a href="#æ•°æ®ç»“æ„" class="headerlink" title="æ•°æ®ç»“æ„"></a>æ•°æ®ç»“æ„</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Node</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, pos)</span>:</span></span><br><span class="line">        self.pos = pos          <span class="comment"># å½“å‰èŠ‚ç‚¹çš„ä½ç½®åæ ‡</span></span><br><span class="line">        self.g = float(<span class="string">'inf'</span>)   <span class="comment"># å½“å‰èŠ‚ç‚¹çš„g(s),g_score</span></span><br><span class="line">        self.h = float(<span class="string">'inf'</span>)   <span class="comment"># å½“å‰èŠ‚ç‚¹çš„çš„h(s),h_score</span></span><br><span class="line">        self.rhs = float(<span class="string">'inf'</span>) <span class="comment"># rhs(s)</span></span><br><span class="line">        self.keys = [float(<span class="string">'inf'</span>), float(<span class="string">'inf'</span>)]    <span class="comment"># ä¼˜å…ˆé˜Ÿåˆ—keys(s)å€¼</span></span><br><span class="line">        self.p = <span class="literal">None</span>           <span class="comment"># å½“å‰èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹</span></span><br><span class="line">        self.is_obs = <span class="literal">False</span>     <span class="comment"># å½“å‰èŠ‚ç‚¹æ˜¯å¦æ˜¯éšœç¢ç‰©</span></span><br></pre></td></tr></table></figure><h3 id="æ¥å£"><a href="#æ¥å£" class="headerlink" title="æ¥å£"></a>æ¥å£</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">map_path:   åœ°å›¾å›¾ç‰‡è·¯å¾„</span></span><br><span class="line"><span class="string">qstart:     èµ·ç‚¹åæ ‡ [row, col]</span></span><br><span class="line"><span class="string">qgoal:      ç›®æ ‡ç‚¹åæ ‡ [row, col]</span></span><br><span class="line"><span class="string">grid_size:  ç½‘æ ¼å¤§å°ï¼ˆç”¨æ¥ç¢°æ’æ£€æµ‹ï¼‰</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"></span><br><span class="line">lpa_star = LPA_STAR(map_path, qstart, qgoal, grid_size)</span><br></pre></td></tr></table></figure><h3 id="Planning"><a href="#Planning" class="headerlink" title="Planning"></a>Planning</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">CalculateKey</span><span class="params">(self, s)</span>:</span></span><br><span class="line">    <span class="string">'''</span></span><br><span class="line"><span class="string">    the priority queue ordered by k1(f_score used in A*), then k2</span></span><br><span class="line"><span class="string">    '''</span></span><br><span class="line">    key2 = min([s.g, s.rhs])</span><br><span class="line">    <span class="keyword">return</span> [key2 + s.h, key2]</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">Initialize</span><span class="params">(self)</span>:</span></span><br><span class="line">    <span class="string">'''</span></span><br><span class="line"><span class="string">    init</span></span><br><span class="line"><span class="string">    '''</span></span><br><span class="line">    self.U = []</span><br><span class="line">    self.qstart.rhs = <span class="number">0</span></span><br><span class="line">    self.qstart.keys = [self.qstart.h, <span class="number">0</span>]</span><br><span class="line">    self.U.append(self.qstart)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">UpdateVertex</span><span class="params">(self, u)</span>:</span></span><br><span class="line">    <span class="comment"># u = copy.deepcopy(u)</span></span><br><span class="line">    <span class="keyword">if</span> u.pos != self.qstart.pos:</span><br><span class="line">        new_rhs = float(<span class="string">'inf'</span>)</span><br><span class="line">        <span class="comment"># predessors = self.Predessors(u)</span></span><br><span class="line">        predessors = self.SuccessorsCollisionFree(u)</span><br><span class="line">        <span class="keyword">for</span> pred <span class="keyword">in</span> predessors:</span><br><span class="line">            tmp_rhs = pred.g + self.DistanceCost(pred, u)</span><br><span class="line">            <span class="keyword">if</span> tmp_rhs &lt; new_rhs:</span><br><span class="line">                new_rhs = tmp_rhs</span><br><span class="line">                u.p = pred</span><br><span class="line">        u.rhs = new_rhs</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> node_index, node <span class="keyword">in</span> enumerate(self.U):</span><br><span class="line">        <span class="keyword">if</span> node.pos == u.pos:</span><br><span class="line">            self.U.pop(node_index)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> u.g != u.rhs:</span><br><span class="line">        u.keys = self.CalculateKey(u)</span><br><span class="line">        self.UInsert(u)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">ComputeShortestPath</span><span class="params">(self)</span>:</span></span><br><span class="line"></span><br><span class="line">    color_close = (random.randint(<span class="number">0</span>, <span class="number">255</span>),</span><br><span class="line">                   random.randint(<span class="number">0</span>, <span class="number">255</span>),</span><br><span class="line">                   random.randint(<span class="number">0</span>, <span class="number">255</span>))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (len(self.U) != <span class="number">0</span>) <span class="keyword">and</span> ((self.TopKey() &lt; self.CalculateKey(self.qgoal)) <span class="keyword">or</span> (self.qgoal.rhs != self.qgoal.g)):</span><br><span class="line"></span><br><span class="line">        u = self.U.pop(<span class="number">0</span>)</span><br><span class="line">        self.DrawGrid(u.pos, color_close)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> u.g &gt; u.rhs:</span><br><span class="line">            u.g = u.rhs</span><br><span class="line">            successors = self.SuccessorsCollisionFree(u)</span><br><span class="line">            <span class="keyword">for</span> succ <span class="keyword">in</span> successors:</span><br><span class="line">                self.UpdateVertex(succ)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            u.g = float(<span class="string">'inf'</span>)</span><br><span class="line">            self.UpdateVertex(u)</span><br><span class="line">            successors = self.SuccessorsCollisionFree(u)</span><br><span class="line">            <span class="keyword">for</span> succ <span class="keyword">in</span> successors:</span><br><span class="line">                self.UpdateVertex(succ)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> self.qgoal.rhs == self.qgoal.g <span class="keyword">and</span> self.qgoal.rhs != float(<span class="string">'inf'</span>):</span><br><span class="line">        self.FindPath()</span><br><span class="line">        print(<span class="string">'Found Path'</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(<span class="string">'Not Found Path'</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">Planning</span><span class="params">(self)</span>:</span></span><br><span class="line"></span><br><span class="line">    num = input(<span class="string">"input obstacle numbers: "</span>)</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        input_num = eval(num)</span><br><span class="line">        <span class="keyword">if</span> type(input_num) == int:</span><br><span class="line">            self.AddObstacle(input_num)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        <span class="keyword">if</span> self.ComputeShortestPath() == <span class="literal">False</span>:</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">        num = input(<span class="string">"input obstacle numbers: "</span>)</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            input_num = eval(num)</span><br><span class="line">            <span class="keyword">if</span> type(input_num) == int:</span><br><span class="line">                obstacle_set = self.AddObstacle(input_num)</span><br><span class="line">                <span class="keyword">for</span> obs <span class="keyword">in</span> obstacle_set:</span><br><span class="line">                    successors = self.SuccessorsExcludeObstacle(obs)</span><br><span class="line">                    <span class="keyword">for</span> succ <span class="keyword">in</span> successors:</span><br><span class="line">                        self.UpdateVertex(succ)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">        <span class="keyword">except</span>:</span><br><span class="line">            <span class="keyword">return</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> è·¯å¾„è§„åˆ’ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è·¯å¾„è§„åˆ’ </tag>
            
            <tag> motion planning </tag>
            
            <tag> LPA* </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è·¯å¾„è§„åˆ’-A_Star</title>
      <link href="/posts/1627378678/"/>
      <url>/posts/1627378678/</url>
      
        <content type="html"><![CDATA[<h1 id="è·¯å¾„è§„åˆ’ä¹‹-A-Star-A"><a href="#è·¯å¾„è§„åˆ’ä¹‹-A-Star-A" class="headerlink" title="è·¯å¾„è§„åˆ’ä¹‹ A_Star (A*)"></a>è·¯å¾„è§„åˆ’ä¹‹ A_Star (A*)</h1><p>A*ç®—æ³•æ˜¯ä¸€ç§åŸºäºå¯å‘å¼æœç´¢çš„ç®—æ³•ï¼Œè¯¥ç®—æ³•ç»¼åˆäº† BFS(æœ€ä½³ä¼˜å…ˆæœç´¢)å’Œ Dijkstra ç®—æ³•çš„ä¼˜ç‚¹ï¼šåœ¨è¿›è¡Œå¯å‘å¼æœç´¢æé«˜ç®—æ³•æ•ˆç‡çš„åŒæ—¶ï¼Œå¯ä»¥ä¿è¯æ‰¾åˆ°ä¸€æ¡æœ€ä¼˜è·¯å¾„ã€‚</p><a id="more"></a><p><img src="a_star.gif" alt="a_star.gif"></p><h2 id="ç®—æ³•æè¿°"><a href="#ç®—æ³•æè¿°" class="headerlink" title="ç®—æ³•æè¿°"></a>ç®—æ³•æè¿°</h2><p>A*ç®—æ³•æ‰©å±•è·¯å¾„æ—¶ï¼Œåœ¨ä¸»å¾ªç¯çš„æ¯æ¬¡è¿­ä»£ä¸­ï¼ŒåŸºäºè·¯å½“å‰èŠ‚ç‚¹åˆ°èµ·ç‚¹çš„æˆæœ¬ä»¥åŠå°†è·¯å¾„ä¸€ç›´æ‰©å±•åˆ°ç›®æ ‡æ‰€éœ€çš„ä¼°è®¡æˆæœ¬æ¥æ‰§è¡Œæ­¤æ“ä½œã€‚å³é€‰æ‹©æœ€å°åŒ–è·¯å¾„:</p><blockquote><p>$f(n)=g(n)+h(n)$</p></blockquote><p>éšç€è·¯å¾„çš„æ‰©å±•ï¼Œä»¥æ‰©å±•åˆ°çš„ä½†æœªè®¡ç®—çš„èŠ‚ç‚¹æ”¾å…¥åˆ—è¡¨$open_table$, å®Œæˆè®¡ç®—çš„èŠ‚ç‚¹æ”¾å…¥åˆ—è¡¨$close_table$ã€‚ç®—æ³•æ¯æ¬¡ä»$open_table$ä¸­é€‰æ‹©$f(n)$æœ€å°çš„èŠ‚ç‚¹ä½œä¸ºå½“å‰èŠ‚ç‚¹å¼€å§‹æ‰©å±•ã€‚ä¸€ç›´åˆ°æ‰¾åˆ°ç›®æ ‡ç‚¹æˆ–è€…è¾¾åˆ°æœ€å¤§æœç´¢æ¬¡æ•°è€Œç»ˆæ­¢ã€‚</p><p>è¯¥å…¬å¼åŒ…å«æœ‰ä¸€ä¸‹ç‰¹å¾ï¼š</p><blockquote><p>å¦‚æœ$g(n)=0$, å³åªè®¡ç®—å½“å‰èŠ‚ç‚¹<code>n</code>åˆ°ç›®æ ‡èŠ‚ç‚¹<code>goal</code>çš„ä¼°è®¡å‡½æ•°$h(n)$, è€Œä¸è®¡ç®—èµ·ç‚¹<code>start</code>åˆ°å½“å‰èŠ‚ç‚¹<code>n</code>çš„è·ç¦»ï¼Œç®—æ³•è½¬æ¢ä¸ºä½¿ç”¨è´ªå¿ƒç­–ç•¥çš„æœ€ä½³ä¼˜å…ˆæœç´¢(BFS), æœç´¢é€Ÿåº¦æé«˜ï¼Œä½†æ˜¯è·¯å¾„ä¸æ˜¯æœ€ä¼˜çš„<br>å¦‚æœ$h(n)$ä¸å¤§äºå½“å‰èŠ‚ç‚¹<code>n</code>åˆ°ç›®æ ‡èŠ‚ç‚¹<code>goal</code>çš„å®é™…è·ç¦»ï¼Œåˆ™ä¸€å®šèƒ½å¾—åˆ°æœ€ä¼˜è§£ï¼Œ ä¸”$h(n)$è¶Šå°ï¼Œéœ€è¦è®¡ç®—çš„èŠ‚ç‚¹è¶Šå¤šï¼Œç®—æ³•é€Ÿåº¦é™ä½ã€‚<br>å¦‚æœ$h(n)=0$, å³åªéœ€æ±‚å‡ºèµ·ç‚¹<code>start</code>åˆ°å½“å‰èŠ‚ç‚¹<code>n</code>çš„æœ€çŸ­è·¯å¾„$g(n)$ï¼Œè€Œä¸è®¡ç®—ä»»ä½•è¯„ä¼°å‡½æ•°$h(n)$ï¼Œåˆ™è½¬åŒ–ä¸ºå•æºæœ€çŸ­è·¯å¾„é—®é¢˜ï¼Œå³ Dijkstra ç®—æ³•ï¼Œæ­¤æ—¶éœ€è¦è®¡ç®—æœ€å¤šçš„é¡¶ç‚¹.</p></blockquote><p>å…¶ä¸­ï¼š</p><blockquote><p>$f(n)$: ç›®æ ‡å‡½æ•°, è§„åˆ’è¿‡ç¨‹å³æœ€å°åŒ– f(n)ï¼›<br>$g(n)$: èµ·ç‚¹$start$åˆ°å½“å‰èŠ‚ç‚¹$n$çš„å®é™…è·ç¦»ï¼›<br>$h(n)$: å¯å‘å‡½æ•°, å½“å‰èŠ‚ç‚¹$n$åˆ°ç»ˆç‚¹$goal$çš„ä¼°è®¡è·ç¦»ï¼›<br>$open_table$: è®°å½•éœ€è¦æœå¯»è¿‡çš„èŠ‚ç‚¹åˆ—è¡¨<br>$close_table$: è®°å½•å·²ç»è¢«æœå¯»è¿‡çš„èŠ‚ç‚¹åˆ—è¡¨</p></blockquote><p>å¸¸ç”¨çš„å¯å‘å‡½æ•°$h(n)$ä¸€èˆ¬æœ‰:</p><ul><li><p>æ›¼å“ˆé¡¿è·ç¦»:</p><blockquote><p>$d_{mahattan}=|p1.x-p2.x|+|p1.y-p2.y|$</p></blockquote></li><li><p>åˆ‡æ¯”é›ªå¤«è·ç¦»:</p><blockquote><p>$d_{chebyshev}=max(|p1.x-p2.x|,|p1.y-p2.y|)$</p></blockquote></li><li><p>æ¬§å¼è·ç¦»:</p><blockquote><p>$d_{euclidean}=\sqrt{(p1.x-p2.x)^2+(p1.y-p2.y)^2}$</p></blockquote></li><li><p>å¯¹è§’è·ç¦»:</p><blockquote><p>$d_{diagonal}=(|p1.x-p2.x|+|p1.y-p2.y|)+\sqrt{2}-2\times min(|p1.x-p2.x|,|p1.y-p2.y|)$</p></blockquote></li></ul><h2 id="æµç¨‹"><a href="#æµç¨‹" class="headerlink" title="æµç¨‹"></a>æµç¨‹</h2><ul><li><p>åˆå§‹åŒ–<code>A_STAR.__init__</code>: åˆå§‹åŒ–åœ°å›¾ï¼Œå¯¹åœ°å›¾å›¾ç‰‡äºŒå€¼åŒ–å¤„ç†ï¼Œç½‘æ ¼èŠ‚ç‚¹åˆ’åˆ†ï¼Œè‹¥ç½‘æ ¼å†…åŒ…å«éšœç¢ç‰©ï¼Œåˆ™è¯¥ç½‘æ ¼èŠ‚ç‚¹æ ‡è®°ä¸ºéšœç¢ç‰©: <code>Node.is_obs = True</code></p></li><li><p>è¾“å…¥éœ€è¦éšæœºäº§ç”Ÿçš„éšœç¢ç‰©ç½‘æ ¼ä¸ªæ•°(å¯é€‰);</p></li><li><p>è®¡ç®—èµ·ç‚¹<code>qstart</code>çš„$h$,$g$,$f$å€¼,è¿™é‡Œé€‰æ‹© $h=d_{mahattan}$, $g=d_{diagonal}$è®¡ç®—.å°†èŠ‚ç‚¹æ”¾å…¥<code>open_table</code></p></li><li><p>å¼€å§‹è¿­ä»£, è‹¥è¿­ä»£æ¬¡æ•°è¾¾åˆ°ä¸Šé™æˆ–è€…<code>open_table</code>ä¸ºç©º, åˆ™é€€å‡ºè¿­ä»£ï¼š</p><ul><li><p>ä»<code>open_table</code>åˆ—è¡¨ä¸­é€‰æ‹©<code>f</code>å€¼æœ€å°çš„èŠ‚ç‚¹ä½œä¸ºå½“å‰èŠ‚ç‚¹,è®°ä¸º<code>best_node</code></p></li><li><p>è‹¥<code>best_node</code>ä¸ºç›®æ ‡èŠ‚ç‚¹<code>goal</code>, å³æ‰¾åˆ°ç›®æ ‡, éå†<code>best_node</code>çš„çˆ¶èŠ‚ç‚¹é“¾è¡¨å¹¶é€†åº, å¾—åˆ°å®Œæ•´è·¯å¾„, é€€å‡ºç®—æ³•. å¦åˆ™ç»§ç»­ä¸‹ä¸€æ­¥:</p></li><li><p>å°†<code>best_node</code>ä»<code>open_table</code>åˆ—è¡¨å¼¹å‡º, å¹¶æ”¾å…¥<code>close_table</code>åˆ—è¡¨ä¸­.</p></li><li><p>æœç´¢<code>best_node</code>çš„ 8 ä¸ªé‚»æ¥èŠ‚ç‚¹<code>Neighbors</code>,å¯¹å…¶ä¸­æ¯ä¸ªé‚»æ¥èŠ‚ç‚¹<code>neighbor</code>:</p><ul><li><p>è‹¥è¯¥<code>neighbor</code>åœ¨<code>close_table</code>ä¸­,æˆ–è€…ä¸å¯è¾¾, åˆ™è·³è¿‡è¯¥<code>neighbor</code>,æ£€æŸ¥ä¸‹ä¸€ä¸ªé‚»æ¥èŠ‚ç‚¹, å¦åˆ™ç»§ç»­ä¸‹ä¸€æ­¥:</p></li><li><p>è®¡ç®—è¯¥<code>neighbor</code>çš„æ–°<code>g</code>å€¼(<code>tentative_g</code>), å³ä¸ºå½“å‰èŠ‚ç‚¹<code>best_node</code>çš„<code>g</code>å€¼åŠ ä¸Š, å½“å‰èŠ‚ç‚¹<code>best_node</code>åˆ°è¯¥é‚»æ¥èŠ‚ç‚¹<code>neighbor</code>çš„å®é™…è·ç¦»:<br><code>tentative_g = best_node.g + Distance(best_node, neighbor)</code></p></li><li><p>è‹¥è¯¥<code>neighbor</code>ä¸åœ¨<code>open_table</code>ä¸­, è®¡ç®—è¯¥<code>neighbor</code>çš„<code>g</code>, <code>h</code>, <code>f</code>å€¼, å¹¶æ”¾å…¥<code>open_table</code>ä¸­</p></li><li><p>è‹¥è¯¥<code>neighbor</code>åœ¨<code>open_table</code>ä¸­:</p><ul><li><p>è‹¥è¯¥é‚»æ¥èŠ‚ç‚¹<code>neighbor</code>æ–°çš„<code>tentative_g</code>å€¼æ¯”å·²æœ‰çš„<code>g</code>å€¼å°, æ„å‘³ç€å½“å‰èŠ‚ç‚¹<code>best_node</code>é€šè¿‡è¯¥<code>neighbor</code>å¯ä»¥æ›´å¿«çš„åˆ°è¾¾ç»ˆç‚¹.</p></li><li><p>æ›´æ–°è¯¥<code>neighbor</code>èŠ‚ç‚¹çš„<code>g</code>å€¼ä¸º<code>tentative_g</code>,å¹¶æ›´æ–°<code>f</code>å€¼</p></li><li><p>æ›´æ–°è¯¥è¯¥<code>neighbor</code>èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ä¸ºå½“å‰èŠ‚ç‚¹<code>best_node</code>.</p></li></ul></li></ul></li></ul></li></ul><h2 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h2><h3 id="æ•°æ®ç»“æ„"><a href="#æ•°æ®ç»“æ„" class="headerlink" title="æ•°æ®ç»“æ„"></a>æ•°æ®ç»“æ„</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Node</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, pos)</span>:</span></span><br><span class="line">        self.pos = pos          <span class="comment"># å½“å‰èŠ‚ç‚¹çš„ä½ç½®åæ ‡</span></span><br><span class="line">        self.g = float(<span class="string">'inf'</span>)   <span class="comment"># å½“å‰èŠ‚ç‚¹çš„g(n),g_score</span></span><br><span class="line">        self.h = float(<span class="string">'inf'</span>)   <span class="comment"># å½“å‰èŠ‚ç‚¹çš„çš„h(n),h_score</span></span><br><span class="line">        self.f = float(<span class="string">'inf'</span>)   <span class="comment"># å½“å‰èŠ‚ç‚¹çš„çš„f(n), f_score</span></span><br><span class="line">        self.p = <span class="literal">None</span>           <span class="comment"># å½“å‰èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹</span></span><br><span class="line">        self.is_obs = <span class="literal">False</span>     <span class="comment"># å½“å‰èŠ‚ç‚¹æ˜¯å¦æ˜¯éšœç¢ç‰©</span></span><br></pre></td></tr></table></figure><h3 id="æ¥å£"><a href="#æ¥å£" class="headerlink" title="æ¥å£"></a>æ¥å£</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">map_path:   åœ°å›¾å›¾ç‰‡è·¯å¾„</span></span><br><span class="line"><span class="string">qstart:     èµ·ç‚¹åæ ‡ [row, col]</span></span><br><span class="line"><span class="string">qgoal:      ç›®æ ‡ç‚¹åæ ‡ [row, col]</span></span><br><span class="line"><span class="string">grid_size:  ç½‘æ ¼å¤§å°ï¼ˆç”¨æ¥ç¢°æ’æ£€æµ‹ï¼‰</span></span><br><span class="line"><span class="string">max_steps:  æœ€å¤§æ‰©å±•èŠ‚ç‚¹æ•°</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"></span><br><span class="line">a_star = A_STAR(map_path, qstart, qgoal, grid_size, max_steps)</span><br></pre></td></tr></table></figure><h3 id="Planning"><a href="#Planning" class="headerlink" title="Planning"></a>Planning</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">Planning</span><span class="params">(self)</span>:</span></span><br><span class="line"></span><br><span class="line">    color_close = (random.randint(<span class="number">0</span>, <span class="number">255</span>),</span><br><span class="line">                   random.randint(<span class="number">0</span>, <span class="number">255</span>),</span><br><span class="line">                   random.randint(<span class="number">0</span>, <span class="number">255</span>))</span><br><span class="line"></span><br><span class="line">    color_open = (random.randint(<span class="number">0</span>, <span class="number">255</span>),</span><br><span class="line">                  random.randint(<span class="number">0</span>, <span class="number">255</span>),</span><br><span class="line">                  random.randint(<span class="number">0</span>, <span class="number">255</span>))</span><br><span class="line"></span><br><span class="line">    <span class="comment"># input numbers of obstacle grid if necessary</span></span><br><span class="line">    num = input(<span class="string">"input obstacle numbers: "</span>)</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        input_num = eval(num)</span><br><span class="line">        <span class="keyword">if</span> type(input_num) == int:</span><br><span class="line">            obstacle_set = self.AddObstacle(input_num)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># init qstart node</span></span><br><span class="line">    self.qstart.g = <span class="number">0</span></span><br><span class="line">    self.qstart.h = self.HScore(self.qstart)</span><br><span class="line">    self.qstart.f = self.FScore(self.qstart)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># init open_table and close_table</span></span><br><span class="line">    self.open_table = set()</span><br><span class="line">    self.close_table = set()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># add start node into open_table</span></span><br><span class="line">    self.open_table.add(self.qstart)</span><br><span class="line"></span><br><span class="line">    k = <span class="number">-1</span></span><br><span class="line">    <span class="keyword">while</span> k &lt; self.max_steps <span class="keyword">or</span> len(self.open_table) != <span class="number">0</span>:</span><br><span class="line"></span><br><span class="line">        <span class="comment"># get the node in open_table having the lowest f_score value</span></span><br><span class="line">        best_node = min(self.open_table, key=<span class="keyword">lambda</span> node: node.f)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># reach the goal node</span></span><br><span class="line">        <span class="keyword">if</span> best_node.pos == self.qgoal.pos:</span><br><span class="line">            print(<span class="string">"Found"</span>)</span><br><span class="line">            self.FindPath()</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># remove the best node in open table and add it into close table</span></span><br><span class="line">        self.open_table.remove(best_node)</span><br><span class="line">        self.close_table.add(best_node)</span><br><span class="line">        self.DrawGrid(best_node.pos, color_close)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># traversal the neighbors of best node</span></span><br><span class="line">        <span class="keyword">for</span> neighbor <span class="keyword">in</span> self.Neighbors(best_node):</span><br><span class="line"></span><br><span class="line">            <span class="comment"># if neighbor is in close table or is collision, skip</span></span><br><span class="line">            <span class="keyword">if</span> neighbor <span class="keyword">in</span> self.close_table <span class="keyword">or</span> self.CollisionFree(best_node, neighbor) == <span class="literal">False</span>:</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"># calculate the tentative_g which is the distance from start to the neighbor through best_node</span></span><br><span class="line">            tentative_g = self.GScore(best_node, neighbor)</span><br><span class="line"></span><br><span class="line">            <span class="comment"># check the neighbor is in open table or not</span></span><br><span class="line">            <span class="keyword">if</span> neighbor <span class="keyword">not</span> <span class="keyword">in</span> self.open_table:</span><br><span class="line">                <span class="comment"># if neighbor not in open table,</span></span><br><span class="line">                <span class="comment"># then calculate the g, h, f values and add it into open table</span></span><br><span class="line">                neighbor.g = tentative_g</span><br><span class="line">                neighbor.h = self.HScore(neighbor)</span><br><span class="line">                neighbor.f = self.FScore(neighbor)</span><br><span class="line">                neighbor.p = best_node</span><br><span class="line">                self.open_table.add(neighbor)</span><br><span class="line">                self.DrawGrid(neighbor.pos, color_open)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="comment"># if neighbor in open table,</span></span><br><span class="line">                <span class="comment"># then compare the tentative_g and neighbor.g</span></span><br><span class="line">                <span class="keyword">if</span> tentative_g &lt; neighbor.g:</span><br><span class="line">                    <span class="comment"># the path from best_node to neighbor is better than previous</span></span><br><span class="line">                    neighbor.g = tentative_g</span><br><span class="line">                    neighbor.f = self.FScore(neighbor)</span><br><span class="line">                    neighbor.p = best_node</span><br><span class="line"></span><br><span class="line">    print(<span class="string">"Not Found"</span>)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> è·¯å¾„è§„åˆ’ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è·¯å¾„è§„åˆ’ </tag>
            
            <tag> motion planning </tag>
            
            <tag> A* </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è·¯å¾„è§„åˆ’-RRT</title>
      <link href="/posts/2955947163/"/>
      <url>/posts/2955947163/</url>
      
        <content type="html"><![CDATA[<h1 id="è·¯å¾„è§„åˆ’ä¹‹-Rapidly-Exploring-Random-Trees-å¿«é€Ÿæ‰©å±•éšæœºæ ‘"><a href="#è·¯å¾„è§„åˆ’ä¹‹-Rapidly-Exploring-Random-Trees-å¿«é€Ÿæ‰©å±•éšæœºæ ‘" class="headerlink" title="è·¯å¾„è§„åˆ’ä¹‹ Rapidly-Exploring Random Trees (å¿«é€Ÿæ‰©å±•éšæœºæ ‘)"></a>è·¯å¾„è§„åˆ’ä¹‹ Rapidly-Exploring Random Trees (å¿«é€Ÿæ‰©å±•éšæœºæ ‘)</h1><p>RRTs ä½œä¸ºä¸€ç§ single-query çš„è§„åˆ’ç®—æ³•è¢«å¼•å…¥ï¼Œå®ƒæœ‰æ•ˆåœ°è¦†ç›–äº† q~init~ å’Œ q~goal~ ä¹‹é—´çš„ç©ºé—´ã€‚è¯¥è§„åˆ’å™¨æœ€åˆä¹Ÿæ˜¯ä¸º kinodynamic è¿åŠ¨è§„åˆ’è€Œå¼€å‘çš„ï¼Œå°±åƒåœ¨ ESTs ä¸­ä¸€æ ·ï¼Œåªæ„å»ºä¸€æ£µæ ‘ã€‚RRTs çš„é€‚ç”¨èŒƒå›´è¶…å‡ºäº† kinodynamic è§„åˆ’é—®é¢˜ã€‚RRT ç®—æ³•å·²è¢«è¯æ˜æ˜¯æ¦‚ç‡å®Œå¤‡çš„ã€‚</p><a id="more"></a><p><img src="rrt.gif" alt="rrt.gif"></p><h2 id="ç®—æ³•æè¿°"><a href="#ç®—æ³•æè¿°" class="headerlink" title="ç®—æ³•æè¿°"></a>ç®—æ³•æè¿°</h2><p>$T$è¡¨ç¤ºä¸€é¢—æ ‘ã€‚$T_{init}$å’Œ $T_{goal}$æ ¹èŠ‚åˆ†åˆ«ä¸º$q_{init}$å’Œ$q_{goal}$çš„æ ‘ã€‚æ¯æ£µæ ‘$T$éƒ½æ˜¯å¢é‡æ‰©å±•çš„ã€‚åœ¨æ¯æ¬¡è¿­ä»£ä¸­ï¼Œåœ¨$Q_{free}$ä¸­éšæœºå‡åŒ€é‡‡æ ·ä¸€ç‚¹$q_{rand}$ã€‚åœ¨$T$ä¸­æ‰¾åˆ°è·ç¦»$q_{rand}$æœ€è¿‘çš„èŠ‚ç‚¹$q_{near}$ï¼Œå¹¶å°è¯•ä»$q_{near}$å‘$q_{rand}$æ–¹å‘ç§»åŠ¨ä¸€æ®µè·ç¦»$step_size$ï¼Œç”Ÿæˆä¸€ä¸ªæ–°èŠ‚ç‚¹$q_{new}$ã€‚è‹¥è¯¥èŠ‚ç‚¹æ˜¯æ— ç¢°æ’çš„(collision-free)ï¼Œåˆ™æ·»åŠ èŠ‚ç‚¹$q_{new}$åˆ°$T$çš„é¡¶ç‚¹é›†åˆ(vertices)ä¸­ï¼Œæ·»åŠ $(q_{near}, q_{new})$åˆ°$T$çš„è¾¹é›†åˆ(edges)ä¸­ã€‚ä¸‹å›¾å±•ç¤ºäº† RRT åœ¨äºŒç»´æ¬§å¼ç©ºé—´æ‰©å±•ä¸€ä¸ªç‚¹çš„è¿‡ç¨‹ã€‚</p><p><img src="algorithm_rrt_extension.png" alt="Figure 7.14"></p><h3 id="ä¼ªç "><a href="#ä¼ªç " class="headerlink" title="ä¼ªç "></a>ä¼ªç </h3><p><img src="algorithm_rrt.png" alt="Algorithms RRT"></p><h2 id="æµç¨‹"><a href="#æµç¨‹" class="headerlink" title="æµç¨‹"></a>æµç¨‹</h2><ol><li>åˆå§‹åŒ–éšæœºæ ‘ï¼Œæ ‘ç»“ç‚¹å’Œè¾¹åªåŒ…å«èµ·ç‚¹$q_{start}$ï¼ˆæ ¹èŠ‚ç‚¹ï¼‰ã€‚è¾¹å’Œä¹¦ä¸­æœ‰ä¸€ç‚¹åŒºåˆ«ï¼Œå› ä¸ºè¿™é‡Œçš„èŠ‚ç‚¹ç”¨äº†ä¸€ä¸ªé“¾è¡¨ç»“æ„ï¼Œè¿™é‡Œæ¯ä¸ªæ‰©å±•èŠ‚ç‚¹($q_{new}$)åŒ…å«æœ‰ä¸€ä¸ªåå‘æŒ‡é’ˆï¼ŒæŒ‡å‘æºèŠ‚ç‚¹($q_{near}$)ï¼Œæ‰€ä»¥ä¸éœ€è¦å•ç‹¬å®šä¹‰è¾¹ã€‚åªè¦æ„é€ å‡ºæ ‘ï¼Œæœ€ååå‘éå†å³å¯å®Œæˆè·¯å¾„çš„æ„é€ ã€‚</li><li>èµ·å§‹ç‚¹ start åŠ å…¥åˆ°æ ‘èŠ‚ç‚¹å’Œè¾¹ä¸­</li><li>å¼€å§‹è¿­ä»£</li><li><code>GenerateRandomNode()</code>: åœ¨çŠ¶æ€ç©ºé—´ï¼ˆæœºæ¢°è‡‚çš„å…³èŠ‚ç©ºé—´æˆ–è€…ç¬›å¡å°”ç©ºé—´ï¼›å°è½¦å¯è¾¾çš„äºŒç»´åœ°å›¾ç©ºé—´ï¼‰ä¸­éšæœºé‡‡æ ·ä¸€ä¸ªç‚¹$q_{rand}$ã€‚ä¸ºåŠ å¿« RRT åˆ°è¾¾ç›®æ ‡ç‚¹$q_{goal}$çš„é€Ÿåº¦ï¼Œåœ¨éšæœºé‡‡æ ·è¿‡ç¨‹ä¸­ï¼ŒåŠ éšæœºçš„æ¦‚ç‡ p æ¥å†³å®šï¼Œæ­¤æ¬¡æ‰©å±•çš„ç›®æ ‡ç‚¹$q_{goal}$æ˜¯éšæœºç‚¹è¿˜æ˜¯ç›®æ ‡ç‚¹$q_{goal}$ã€‚å½“$0&lt;p&lt;prob$æ—¶ï¼Œå–éšæœºé‡‡æ ·ç‚¹ï¼›å¦åˆ™å–ç›®æ ‡ç‚¹$q_{goal}$ã€‚è¿™ä¸ªæ¦‚ç‡ä¸å®œè¿‡å¤§ï¼Œå¦åˆ™å®¹æ˜“é™·å…¥éšœç¢ç‰©åŒ…å›´åœˆä¸­ä¸å®¹æ˜“è·³å‡ºã€‚</li><li><code>FindNearestNode(qrand)</code>: éå† RRT æ ‘èŠ‚ç‚¹ï¼Œè¿”å›è·ç¦»$q_{rand}$æœ€è¿‘çš„ä¸€ä¸ªèŠ‚ç‚¹$q_{near}$</li><li><code>ExtendTree(qnear, qrand)</code>: æ²¿ç€$(q_{near}, q_{rand})$æ–¹å‘ï¼Œä»¥ä¸€å®šçš„æ­¥é•¿$step_size$æ‰©å±•ä¸€ä¸ªæ–°èŠ‚ç‚¹$q_{new}$, å¦‚æœæ‰©å±•ä¸æˆåŠŸï¼ˆè¶…å‡ºåœ°å›¾èŒƒå›´ï¼‰ï¼Œè¿”å› Noneï¼Œæ”¾å¼ƒè¿™æ¬¡æ‰©å±•ã€‚</li><li><code>CollsionFree(qnear, qnew)</code>: å¯¹$(q_{near}, q_{new})$è·¯å¾„è¿›è¡Œç¢°æ’æ£€æŸ¥ï¼ŒåŒ…æ‹¬è·¯å¾„è¿‡ç¨‹ä¸­åŠèµ·å§‹ç‚¹æ˜¯å¦æœ‰éšœç¢ç‰©ã€‚è¿™é‡Œé‡‡ç”¨ç­‰é—´è·é‡‡æ ·ï¼Œæ£€æŸ¥è·¯å¾„ä¸­ä½ç½®ç‚¹æ‰€å¤„ç½‘æ ¼æ˜¯å¦åŒ…ç»œéšœç¢ç‰©ã€‚å¦‚æœå‘ç”Ÿç¢°æ’ï¼Œåˆ™æ”¾å¼ƒæ‰©å±•ã€‚</li><li>å¦‚æœæ–°èŠ‚ç‚¹$q_{new}$è¢«æ¥å—ï¼ˆæ–°èŠ‚ç‚¹ä¸ä¸º<code>None</code>ä¸”ä¸$(q_{near}, q_{new})$ä¹‹é—´çš„è·¯å¾„æ— ç¢°æ’ï¼‰ï¼Œåˆ™å°†è¯¥ç‚¹åŠ å…¥åˆ°æ ‘ä¸­ï¼Œå¹¶å°†è¯¥èŠ‚ç‚¹çš„åå‘æŒ‡é’ˆ$q_{new}.parent$æŒ‡å‘$q_{near}$ã€‚è¿™æ ·ï¼Œåœ¨æ‰¾åˆ°ç›®æ ‡ç‚¹æ—¶ï¼Œæ ¹æ®è¯¥æŒ‡é’ˆï¼Œå¯éå†å¾—åˆ°å®Œæ•´çš„è·¯å¾„ã€‚ä¸ºäº†é˜²æ­¢æ ‘èŠ‚ç‚¹è¿‡å¤šï¼Œå¯ä»¥å†æ£€æŸ¥$q_{new}$æ˜¯å¦ä¸æ ‘ä¸­æŸä¸ªèŠ‚ç‚¹è¿‡äºæ¥è¿‘ï¼ˆä¸€èˆ¬å–å°äºæ‰©å±•æ­¥é•¿ï¼‰ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™ä¹Ÿå¯ä»¥æ”¾å¼ƒæ­¤æ¬¡æ‰©å±•ã€‚ä½†æ˜¯è¿™ä¹Ÿä¼šå¯¼è‡´ç®—æ³•æ—¶é—´å¢é•¿ï¼Œæ¯•ç«Ÿè¦éå†æ ‘èŠ‚ç‚¹è®¡ç®—è·ç¦»ã€‚</li><li><code>IsArrival(qnew)</code>: æ£€æŸ¥æ˜¯å¦åˆ°è¾¾ç›®æ ‡ç‚¹$q_{goal}$, å¦‚æœæ–°èŠ‚ç‚¹$q_{new}$è·ç¦»ç›®æ ‡ç‚¹$q_{goal}$å°äºæ‰©å±•æ­¥é•¿$step_size$ï¼Œä¸”æ— ç¢°æ’ï¼Œåˆ™è®¤ä¸ºæ‰¾åˆ°ï¼Œå°†ç›®æ ‡ç‚¹$q_{goal}$ä½œä¸ºæ ‘çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹æ·»åŠ åˆ° RRT æ ‘ä¸­ã€‚</li><li><code>FindPath()</code>: æ ¹æ®ç›®æ ‡èŠ‚ç‚¹$q_{goal}$çš„åå‘æŒ‡é’ˆï¼Œéå†è‡³èµ·ç‚¹$q_{start}$ï¼Œå³å®Œæˆè·¯å¾„çš„æ„é€ ã€‚</li><li><code>SmoothPath(path)</code>: ä¸Šä¸€æ­¥çš„è·¯å¾„æ˜¯æŒ‰ç…§æ­¥é•¿ä¸€ä¸ªèŠ‚ç‚¹ä¸€ä¸ªèŠ‚ç‚¹æ‰©å±•çš„ï¼Œå› æ­¤è¿™é‡Œå¯ä»¥å¯¹è·¯å¾„è¿›è¡Œåœ†æ»‘ï¼Œéå†è·¯å¾„çš„èŠ‚ç‚¹ï¼Œå–æœ€é•¿ä¸ç¢°æ’çš„èŠ‚ç‚¹æ„é€ æ–°è·¯å¾„ã€‚</li></ol><h2 id="ç®—æ³•å®ç°"><a href="#ç®—æ³•å®ç°" class="headerlink" title="ç®—æ³•å®ç°"></a>ç®—æ³•å®ç°</h2><h3 id="æ•°æ®ç»“æ„"><a href="#æ•°æ®ç»“æ„" class="headerlink" title="æ•°æ®ç»“æ„"></a>æ•°æ®ç»“æ„</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Node</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, pos=[<span class="number">0</span>, <span class="number">0</span>])</span>:</span></span><br><span class="line">        self.pos = pos</span><br><span class="line">        self.parent = <span class="literal">None</span></span><br></pre></td></tr></table></figure><h3 id="æ¥å£"><a href="#æ¥å£" class="headerlink" title="æ¥å£"></a>æ¥å£</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">map_path: åœ°å›¾å›¾ç‰‡è·¯å¾„</span></span><br><span class="line"><span class="string">qstart: èµ·ç‚¹åæ ‡ [row, col]</span></span><br><span class="line"><span class="string">qgoal: ç›®æ ‡ç‚¹åæ ‡ [row, col]</span></span><br><span class="line"><span class="string">grid_size: ç½‘æ ¼å¤§å°ï¼ˆç”¨æ¥ç¢°æ’æ£€æµ‹ï¼‰</span></span><br><span class="line"><span class="string">step_size: æ‰©å±•æ­¥é•¿</span></span><br><span class="line"><span class="string">max_steps: æœ€å¤§æ‰©å±•èŠ‚ç‚¹æ•°</span></span><br><span class="line"><span class="string">goal_prob: å¢åŠ è¶‹å‘ç›®æ ‡ç‚¹æ¦‚ç‡ï¼ˆè´ªå©ªï¼‰</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"></span><br><span class="line">rrt = RRT(map_path, qstart, qgoal, grid_size,</span><br><span class="line">          step_size, max_steps, goal_prob)</span><br></pre></td></tr></table></figure><h3 id="Planning"><a href="#Planning" class="headerlink" title="Planning"></a>Planning</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">Planning</span><span class="params">(self)</span>:</span></span><br><span class="line">    <span class="string">'''</span></span><br><span class="line"><span class="string">    rrt planning</span></span><br><span class="line"><span class="string">    '''</span></span><br><span class="line">    self.AddVertices(self.qstart)</span><br><span class="line">    self.AddEdges(<span class="literal">None</span>, self.qstart)</span><br><span class="line"></span><br><span class="line">    k = <span class="number">-1</span></span><br><span class="line">    <span class="keyword">while</span> k &lt; self.max_steps:</span><br><span class="line">        k += <span class="number">1</span></span><br><span class="line">        qrand = self.GenerateRandomNode()</span><br><span class="line">        _, qnear = self.FindNearestNode(qrand)</span><br><span class="line">        qnew = self.ExtendTree(qnear, qrand)</span><br><span class="line">        <span class="keyword">if</span> qnew <span class="keyword">and</span> self.CollsionFree(qnear, qnew):</span><br><span class="line">            self.AddVertices(qnew)</span><br><span class="line">            self.AddEdges(qnear, qnew)</span><br><span class="line"></span><br><span class="line">            self.DrawEdges(qnear, qnew)</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> self.IsArrival(qnew):</span><br><span class="line">                print(<span class="string">"Found"</span>)</span><br><span class="line">                self.AddVertices(self.qgoal)</span><br><span class="line">                self.AddEdges(qnew, self.qgoal)</span><br><span class="line"></span><br><span class="line">                path = self.FindPath()</span><br><span class="line">                self.DrawPath(path)</span><br><span class="line">                smooth_path = self.SmoothPath(path)</span><br><span class="line">                self.DrawPath(smooth_path)</span><br><span class="line"></span><br><span class="line">                <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    print(<span class="string">'Not Found'</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">False</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> è·¯å¾„è§„åˆ’ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è·¯å¾„è§„åˆ’ </tag>
            
            <tag> motion planning </tag>
            
            <tag> RRT </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ROSå­¦ä¹ -controller_manager</title>
      <link href="/posts/1366633795/"/>
      <url>/posts/1366633795/</url>
      
        <content type="html"><![CDATA[<p><code>controller_manager</code>æä¾›ç¡¬å®æ—¶å…¼å®¹çš„ç¯æ¥æ§åˆ¶çš„æœºæ¢°æ‰‹,ç”±ä¸€ä¸ª<code>hardware_interface::RobotHW</code>å®ä¾‹ä»£è¡¨(å‚è§<code>hardware_interface</code>åŒ…).è¯¥<code>controller_manager</code>æä¾›äº†åŠ è½½,å¸è½½,å¯åŠ¨å’Œåœæ­¢æ§åˆ¶å™¨çš„åŸºæœ¬ç»“æ„.</p><a id="more"></a><p>å½“åŠ è½½ä¸€ä¸ªæ§åˆ¶å™¨æ—¶,<code>controller_manager</code>å°†ä½¿ç”¨æ§åˆ¶å™¨åä½œä¸ºæ‰€æœ‰æ§åˆ¶å™¨ç‰¹å®šå‚æ•°çš„<code>root</code>,æœ€é‡è¦çš„æ˜¯,<code>type</code>ç”¨äºæ ‡è¯†è¦åŠ è½½å“ªä¸ªæ’ä»¶.</p><h1 id="æ§åˆ¶å™¨è¿è¡Œçš„å·¥å…·-Tools-for-running-controllers"><a href="#æ§åˆ¶å™¨è¿è¡Œçš„å·¥å…·-Tools-for-running-controllers" class="headerlink" title="æ§åˆ¶å™¨è¿è¡Œçš„å·¥å…·(Tools for running controllers)"></a>æ§åˆ¶å™¨è¿è¡Œçš„å·¥å…·(<code>Tools for running controllers</code>)</h1><p>æ§åˆ¶å™¨ç®¡ç†å™¨æä¾›çš„ä¸æ§åˆ¶å™¨è¿›è¡Œäº¤äº’çš„åŸºæœ¬ç»“æ„.æ ¹æ®æ§åˆ¶å™¨ä»å¯åŠ¨æ–‡ä»¶,å‘½ä»¤è¡Œ,æˆ–è€…<code>ROS</code>èŠ‚ç‚¹è¿è¡Œ,æ§åˆ¶ç®¡ç†å™¨æä¾›ä¸åŒçš„å·¥å…·æ¥è¿è¡Œæ§åˆ¶å™¨.    </p><p><a href="http://wiki.ros.org/controller_manager?action=AttachFile&amp;do=get&amp;target=controller+state.png">controller_manager</a></p><h1 id="å‘½ä»¤è¡Œå·¥å…·-Command-line-tools"><a href="#å‘½ä»¤è¡Œå·¥å…·-Command-line-tools" class="headerlink" title="å‘½ä»¤è¡Œå·¥å…·(Command-line tools)"></a>å‘½ä»¤è¡Œå·¥å…·(<code>Command-line tools</code>)</h1><h2 id="æ§åˆ¶ç®¡ç†å™¨-controller-manager"><a href="#æ§åˆ¶ç®¡ç†å™¨-controller-manager" class="headerlink" title="æ§åˆ¶ç®¡ç†å™¨(controller_manager)"></a>æ§åˆ¶ç®¡ç†å™¨(<code>controller_manager</code>)</h2><p>ä½¿ç”¨<code>controller_manager</code>å·¥å…·ä¸ä»å‘½ä»¤è¡Œè¿è¡Œçš„æ§åˆ¶å™¨äº¤äº’.è¦ä¸ç‰¹å®šçš„æ§åˆ¶å™¨è¿›è¡Œäº¤äº’,å¯ä»¥ä½¿ç”¨:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ rosrun controller_manager controller_manager &lt;<span class="built_in">command</span>&gt; &lt;controller_name&gt;</span><br></pre></td></tr></table></figure><p>ä»¥ä¸‹å‘½ä»¤å¯ç”¨:<br>|               |                                       |<br>| :â€”â€”â€”â€”â€”â€” | :â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” |<br>| <strong><code>load</code></strong>:   | åŠ è½½æ§åˆ¶å™¨ (construct and initialize) |<br>| <strong><code>unload</code></strong>: | å¸è½½æ§åˆ¶å™¨ (destruct)                 |<br>| <strong><code>start</code></strong>:  | å¯åŠ¨æ§åˆ¶å™¨                            |<br>| <strong><code>stop</code></strong>:   | ç»“æŸæ§åˆ¶å™¨                            |<br>| <strong><code>spawn</code></strong>:  | åŠ è½½å¹¶å¯åŠ¨æ§åˆ¶å™¨                      |<br>| <strong><code>kill</code></strong>:   | åœæ­¢å¹¶å¸è½½æ§åˆ¶å™¨                      |</p><p>æƒ³è·å¾—æ§åˆ¶å™¨çŠ¶æ€, ç”¨:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ rosrun controller_manager controller_manager &lt;<span class="built_in">command</span>&gt;</span><br></pre></td></tr></table></figure><p>ä»¥ä¸‹å‘½ä»¤å¯ç”¨:<br>|                                   |                                                                                                               |<br>| :â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” | :â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” |<br>| <strong><code>list</code></strong>:                       | æ ¹æ®æ‰§è¡Œé¡ºåº,åˆ—å‡ºæ‰€æœ‰æ§åˆ¶å™¨,å¹¶ç»™å‡ºæ¯ä¸ªæ§åˆ¶å™¨çš„çŠ¶æ€                                                            |<br>| <strong><code>list-types</code></strong>:                 | åˆ—å‡ºæ‰€æœ‰æ§åˆ¶å™¨ç®¡ç†çŸ¥é“çš„æ§åˆ¶å™¨ç±»å‹.å¦‚æœæ§åˆ¶å™¨ä¸åœ¨æ­¤åˆ—è¡¨ä¸­,å°†æ— æ³•åŠ è½½å¹¶å¯åŠ¨.                                   |<br>| <strong><code>list-joints</code></strong>:                | åˆ—å‡ºæ‰€æœ‰æ§åˆ¶å™¨ç®¡ç†ä½¿ç”¨çš„çš„å…³èŠ‚å’Œé©±åŠ¨å™¨çš„åç§°.                                                                 |<br>| <strong><code>reload-libraries</code></strong>:           | é‡æ–°åŠ è½½æ‰€æœ‰å¯ä½œä¸ºæ’ä»¶çš„æ§åˆ¶å™¨åº“.å½“æˆ‘ä»¬æ­£åœ¨å¼€å‘æ§åˆ¶å™¨æ—¶,å¯ä»¥æ–¹ä¾¿çš„æµ‹è¯•æ§åˆ¶å™¨ä»£ç ,è€Œ ä¸ç”¨æ¯æ¬¡éƒ½é‡æ–°å¯åŠ¨æœºå™¨äºº. |<br>| <strong><code>reload-libraries --restore</code></strong>: | é‡æ–°åŠ è½½æ‰€æœ‰å¯ä½œä¸ºæ’ä»¶çš„çš„æ§åˆ¶å™¨åº“,å¹¶æŠŠæ‰€æœ‰æ§åˆ¶å™¨æ¢å¤åˆ°åˆå§‹çŠ¶æ€.                                              |<br>|                                   |                                                                                                               |</p><h2 id="åŠ è½½å¹¶å¯åŠ¨æ§åˆ¶å™¨-spawner"><a href="#åŠ è½½å¹¶å¯åŠ¨æ§åˆ¶å™¨-spawner" class="headerlink" title="åŠ è½½å¹¶å¯åŠ¨æ§åˆ¶å™¨(spawner)"></a>åŠ è½½å¹¶å¯åŠ¨æ§åˆ¶å™¨(<code>spawner</code>)</h2><p>ä¸ºäº†ç«‹åˆ»è‡ªåŠ¨åŠ è½½å¹¶å¯åŠ¨ä¸€ç³»åˆ—æ§åˆ¶å™¨ä»¥åŠç«‹åˆ»åœæ­¢å¹¶å¸è½½è¿™äº›æ§åˆ¶å™¨,ä½¿ç”¨<code>spawner</code>å·¥å…·:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ rosrun controller_manager spawner [--stopped] name1 name2 name3</span><br></pre></td></tr></table></figure><p>å½“è¿è¡Œ<code>spawner</code>æ—¶,åˆ—è¡¨ä¸­æ§åˆ¶å™¨å°†è¢«è½½å…¥å’Œå¯åŠ¨(é™¤éæŒ‡å®š<code>--stopped</code>). å½“æ§åˆ¶å™¨å·²å¼€å¯(<code>controllers are up</code>),<code>spawner</code>å°†ä¿æŒè¿è¡Œ.å½“ä½ æ€æ­»<code>spawner</code>è¿›ç¨‹(<code>CTRL-C</code>),ä¼šè‡ªåŠ¨åœæ­¢å¹¶å¸è½½æ‰€æœ‰å®ƒæœ€å¼€å§‹å¯åŠ¨çš„æ§åˆ¶å™¨.</p><h2 id="å¸è½½æ§åˆ¶å™¨-unspawner"><a href="#å¸è½½æ§åˆ¶å™¨-unspawner" class="headerlink" title="å¸è½½æ§åˆ¶å™¨(unspawner)"></a>å¸è½½æ§åˆ¶å™¨(<code>unspawner</code>)</h2><p>æƒ³è¦è‡ªåŠ¨åœæ­¢ä¸€ç»„æ§åˆ¶å™¨,ç„¶åé‡æ–°å¯åŠ¨,å¯ä½¿ç”¨<code>unspawner</code>å·¥å…·:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ rosrun controller_manager unspawner name1 name2 name3</span><br></pre></td></tr></table></figure><p>åˆ—è¡¨ä¸­çš„æ§åˆ¶å™¨å°†è¢«åœæ­¢,ä½†æ²¡æœ‰å¸è½½.ä¸€æ—¦<code>spawner</code>å…³é—­,è¯¥æ§åˆ¶å™¨å°†é‡æ–°å¯åŠ¨.</p><h2 id="æ§åˆ¶å™¨ç»„-controller-group"><a href="#æ§åˆ¶å™¨ç»„-controller-group" class="headerlink" title="æ§åˆ¶å™¨ç»„(controller_group)"></a>æ§åˆ¶å™¨ç»„(<code>controller_group</code>)</h2><p><code>controller_group</code>å…è®¸å¼€å‘è€…åœ¨è¿è¡Œæ—¶åˆ‡æ¢æ§åˆ¶å™¨,ä½†æ˜¯å‡ºäºä¸€äº›ç‰¹æ®Šæ„å›¾,å½“ä½ æƒ³ä»ä¸€ç»„æ§åˆ¶å™¨åˆ‡æ¢åˆ°å¦ä¸€ç»„æ—¶,è¿™å°±ä¸æ˜¯å¾ˆæ–¹ä¾¿.<code>controller_group</code>è„šæœ¬å¯¹äºé‚£äº›åœ¨<code>ROS parameter controller_groups</code>å·²ç»å®šä¹‰çš„åˆ†ç»„çš„åˆ‡æ¢å°±å¾ˆå®¹æ˜“å®ç°.å®ƒçŸ¥é“æ‰€æœ‰åŒ…å«çš„æ§åˆ¶å™¨,å½“å®ƒåˆ‡æ¢æ§åˆ¶å™¨ç»„æ—¶,æ§åˆ¶å™¨éœ€è¦è¢«åœæ­¢æˆ–è€…è¢«å¯åŠ¨.æ‰€ä»¥,ä¸åŒçš„æ§åˆ¶å™¨ç»„å¯ä»¥å…±äº«æŸäº›æ§åˆ¶å™¨.</p><p><code>controller_groups</code>çš„ä¸€ä¸ªä¾‹å­:  </p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">controller_groups:</span></span><br><span class="line"><span class="attr">  production:</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">prod_controller_1</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">prod_controller_2</span></span><br><span class="line"><span class="attr">  development:</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">devel_controller_1</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">devel_controller_2</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">shared_controller_3</span></span><br><span class="line"><span class="attr">  diagnostics:</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">diag_controller_1</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">diag_controller_2</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">shared_controller_3</span></span><br></pre></td></tr></table></figure><p>å¯åŠ¨<code>controller_groups</code>çš„è„šæœ¬:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ rosrun controller_manager controller_group &lt;<span class="built_in">command</span>&gt; &lt;args&gt;</span><br></pre></td></tr></table></figure><p>ä»¥ä¸‹å‘½ä»¤å¯ç”¨:<br>|                       |                                                                                                                          |<br>| :â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” | :â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”- |<br>| <strong><code>list</code></strong>:           | åˆ—å‡ºæ‰€æœ‰èƒ½åœ¨<code>controler_groups</code>å‚æ•°ä¸­æ‰¾åˆ°çš„ç»„å®šä¹‰                                                                         |<br>| <strong><code>spawn &lt;group&gt;</code></strong>:  | è½½å…¥å’Œå¯åŠ¨æ‰€æœ‰åŒ…å«åœ¨åç§°ä¸º<code>&lt;group&gt;</code>ç»„å†…çš„æ‰€æœ‰æ§åˆ¶å™¨,é€šå¸¸åœ¨<code>ROS launch</code>æ–‡ä»¶ä¸­ä½¿ç”¨                                         |<br>| <strong><code>switch &lt;group&gt;</code></strong>: | åˆ‡æ¢åˆ°<code>&lt;group&gt;</code>ç»„.è¿™æ„å‘³ç€å°†åœæ­¢å…¶ä»–ç»„å†…æ­£åœ¨è¿è¡Œçš„æ§åˆ¶å™¨,ä½†æ˜¯å®šåœ¨åœ¨æœ¬ç»„å†…çš„ä¸ä¼šè¢«åœæ­¢,ç„¶åå¯åŠ¨åœ¨æœ¬ç»„å†…çš„æœªè¿è¡Œçš„æ§åˆ¶å™¨å™¨ |<br>|                       |                                                                                                                          |</p><h1 id="åˆ›å»ºå¯åŠ¨æ–‡ä»¶-Creating-launch-files"><a href="#åˆ›å»ºå¯åŠ¨æ–‡ä»¶-Creating-launch-files" class="headerlink" title="åˆ›å»ºå¯åŠ¨æ–‡ä»¶(Creating launch files)"></a>åˆ›å»ºå¯åŠ¨æ–‡ä»¶(<code>Creating launch files</code>)</h1><p>æˆ‘ä»¬å¯ä»¥è¿è¡Œ<code>controller_manager</code>,ä»å¯åŠ¨æ–‡ä»¶(<code>launch file</code>)å†…å¯åŠ¨æ§åˆ¶å™¨.ç„¶è€Œ,å³ä½¿å¯åŠ¨æ–‡ä»¶è¢«æ’¤ä¸‹,æ§åˆ¶å™¨ä»ä¼šä¿æŒ.è€Œ<code>spawner</code>å·¥å…·ä¼šä»å¯åŠ¨æ–‡ä»¶ä¸­è‡ªåŠ¨åŠ è½½,å¯åŠ¨,åœæ­¢å’Œå¸è½½æ§åˆ¶å™¨.å½“å¯åŠ¨<code>spawner</code>å·¥å…·æ—¶,å®ƒä¼šåŠ è½½å¹¶å¯åŠ¨æ§åˆ¶å™¨.å½“ä½ åœæ­¢<code>spawner</code>(å½“å¯åŠ¨æ–‡ä»¶è¢«æ’¤ä¸‹),å®ƒå°†åœæ­¢å¹¶å¸è½½æ§åˆ¶å™¨.å¯åŠ¨æ–‡ä»¶å¯èƒ½å¦‚ä¸‹:</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">node</span> <span class="attr">pkg</span>=<span class="string">"controller_manager"</span> <span class="attr">type</span>=<span class="string">"spawner"</span> <span class="attr">args</span>=<span class="string">"controller_name1 controller_name2"</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>æˆ–è€…,åªæ˜¯æƒ³åŠ è½½æ§åˆ¶å™¨,ä½†æ˜¯è¿˜æ²¡æœ‰å¯åŠ¨:</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">launch</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">node</span> <span class="attr">pkg</span>=<span class="string">"controller_manager"</span> <span class="attr">type</span>=<span class="string">"spawner"</span> <span class="attr">args</span>=<span class="string">"--stopped controller_name1 controller_name2"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">launch</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="å›¾å½¢å·¥å…·-Graphical-tools"><a href="#å›¾å½¢å·¥å…·-Graphical-tools" class="headerlink" title="å›¾å½¢å·¥å…·(Graphical tools)"></a>å›¾å½¢å·¥å…·(Graphical tools)</h1><p><code>rqt_controller_manager</code>æ˜¯ä¸€ä¸ª<code>rqt</code>æ’ä»¶,è¯¥æ’ä»¶ä»¥å›¾å½¢åŒ–æ–¹å¼åŠ è½½,å¸è½½,å¯åŠ¨å’Œåœæ­¢æ§åˆ¶å™¨;åŒæ—¶ç”¨æ¥æ˜¾ç¤ºåŠ è½½çš„æ§åˆ¶å™¨çš„ä¿¡æ¯.</p><p>å®ƒå¯ä»¥ä»<code>rqt</code>çš„<code>Plugin</code>èœå•ä¸­å¯åŠ¨,æˆ–è€…é€šè¿‡å‘½ä»¤è¡Œå•ç‹¬æ‰§è¡Œ:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rosrun rqt_controller_manager rqt_controller_manager</span><br></pre></td></tr></table></figure><h1 id="ROSåº”ç”¨ç¨‹åºæ¥å£-ROS-API"><a href="#ROSåº”ç”¨ç¨‹åºæ¥å£-ROS-API" class="headerlink" title="ROSåº”ç”¨ç¨‹åºæ¥å£(ROS API)"></a><code>ROS</code>åº”ç”¨ç¨‹åºæ¥å£(<code>ROS API</code>)</h1><p>ä¸ºäº†ä¸å¦ä¸€ä¸ª<code>ROS</code>èŠ‚ç‚¹çš„æ§åˆ¶å™¨äº¤äº’,æ§åˆ¶ç®¡ç†å™¨æä¾›äº†äº”ç§æœåŠ¡è°ƒç”¨:</p><h2 id="æ§åˆ¶ç®¡ç†å™¨-controller-manager-1"><a href="#æ§åˆ¶ç®¡ç†å™¨-controller-manager-1" class="headerlink" title="æ§åˆ¶ç®¡ç†å™¨(controller_manager)"></a>æ§åˆ¶ç®¡ç†å™¨(<code>controller_manager</code>)</h2><h3 id="æœåŠ¡-Services"><a href="#æœåŠ¡-Services" class="headerlink" title="æœåŠ¡(Services)"></a>æœåŠ¡(Services)</h3><p><code>controller_manager/load_controller (controller_manager_msgs/LoadController)</code></p><blockquote><p>æœåŠ¡è¯·æ±‚åŒ…å«äº†è¦åŠ è½½çš„æ§åˆ¶å™¨çš„åå­—,å“åº”åŒ…å«äº†ä¸€ä¸ªè¡¨ç¤ºæˆåŠŸæˆ–å¤±è´¥çš„å¸ƒå°”å€¼.</p></blockquote><p><code>controller_manager/unload_controller (controller_manager_msgs/UnloadController)</code></p><blockquote><p>æœåŠ¡è¯·æ±‚ä¸­åŒ…å«è¦å¸è½½çš„æ§åˆ¶å™¨çš„åç§°,å“åº”åŒ…å«äº†ä¸€ä¸ªè¡¨ç¤ºæˆåŠŸæˆ–å¤±è´¥çš„å¸ƒå°”å€¼.æ§åˆ¶å™¨åªèƒ½åœ¨å½“å…¶å¤„äºåœæ­¢çŠ¶æ€çš„æ—¶å€™è¢«å¸è½½.</p></blockquote><p><code>controller_manager/switch_controller (controller_manager_msgs/SwitchController)</code></p><blockquote><p>æœåŠ¡è¯·æ±‚åŒ…å«äº†è¦å¼€å§‹çš„æ§åˆ¶å™¨çš„åç§°åˆ—è¡¨,è¦åœæ­¢çš„æ§åˆ¶å™¨åç§°åˆ—è¡¨å’Œä¸€ä¸ªè¡¨æ˜è§„èŒƒæ€§ (<code>strictness: BEST_EFFORT or STRICT</code>)çš„æ•´å‹å€¼(<code>int</code>).<code>STRICT</code>è¡¨ç¤ºå¦‚æœå‡ºç°ä»»ä½•é”™è¯¯(æ— æ•ˆçš„æ§åˆ¶å™¨åç§°,æ§åˆ¶å™¨å¯åŠ¨å¤±è´¥,<code>etc</code>),æ§åˆ¶å™¨çš„åˆ‡æ¢(<code>switching</code>)å°†ä¼šå¤±è´¥å¹¶å¯¼è‡´ç©ºæ“ä½œ(<code>no-op</code>).<code>BEST_EFFORT</code>è¡¨ç¤º,å³ä½¿æ§åˆ¶å™¨å‡ºç°äº†ä¸€äº›é—®é¢˜,è¯¥æœåŠ¡ä»ç„¶ä¼šå°è¯•å¯åŠ¨/åœæ­¢ä½™ä¸‹çš„æ§åˆ¶å™¨.æœåŠ¡å“åº”åŒ…å«äº†ä¸€ä¸ªè¡¨ç¤ºæˆåŠŸæˆ–å¤±è´¥çš„å¸ƒå°”å€¼.å¦‚æœåªæ˜¯åœæ­¢æˆ–è€…åªæ˜¯å¯åŠ¨æ§åˆ¶å™¨,æ§åˆ¶å™¨å¯åŠ¨æˆ–åœæ­¢çš„åˆ—è¡¨å¯èƒ½ä¸ºç©º.</p></blockquote><p><code>controller_manager/list_controllers (controller_manager_msgs/ListControllers)</code></p><blockquote><p>è¯¥æœåŠ¡è¿”å›æ‰€æœ‰å½“å‰åŠ è½½çš„æ§åˆ¶å™¨.å“åº”åŒ…æ‹¬ä»¥ä¸‹ä¿¡æ¯:æ§åˆ¶å™¨çš„åç§°,çŠ¶æ€(è¿è¡Œæˆ–åœæ­¢),ç±»å‹,ç¡¬ä»¶æ¥å£,å’Œå ç”¨çš„èµ„æº.</p></blockquote><p><code>controller_manager/list_controller_types (controller_manager_msgs/ListControllerTypes)</code></p><blockquote><p>è¯¥æœåŠ¡è¿”å›<code>controller_manager</code>å·²çŸ¥çš„æ‰€æœ‰æ§åˆ¶å™¨ç±»å‹.åªæœ‰å·²çŸ¥çš„æ§åˆ¶å™¨ç±»å‹å¯ä»¥æ„å»º.</p></blockquote><p><code>controller_manager/reload_controller_libraries (controller_manager_msgs/ReloadControllerLibraries)</code></p><blockquote><p>æœåŠ¡é‡æ–°åŠ è½½æ‰€æœ‰å¯ä½œä¸ºæ’ä»¶çš„æ§åˆ¶å™¨åº“.å½“æˆ‘ä»¬æ­£åœ¨å¼€å‘æ§åˆ¶å™¨æ—¶,æ— éœ€æ¯æ¬¡é‡æ–°å¯åŠ¨æœºå™¨äºº å°±å¯ä»¥æ–¹ä¾¿çš„æµ‹è¯•æ§åˆ¶å™¨ä»£ç .æ­¤æœåŠ¡åªåœ¨æ§åˆ¶å™¨æ²¡æœ‰åŠ è½½æƒ…å†µä¸‹å·¥ä½œ.</p></blockquote><p>Translated by Ms Wang 2014-8-19</p><p>Wiki: controller_manager (last edited 2014-03-10 15:22:46 by AdolfoRodriguez)</p><hr><p>å‚è€ƒæ¥æº:  </p><ul><li><a href="http://wiki.ros.org/cn/controller_manager" target="_blank" rel="noopener">http://wiki.ros.org/cn/controller_manager</a></li><li><a href="http://wiki.ros.org/controller_manager?distro=kenetic" target="_blank" rel="noopener">http://wiki.ros.org/controller_manager?distro=kenetic</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> ROSå­¦ä¹  </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ROS </tag>
            
            <tag> controller_manager </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ROSå­¦ä¹ -ur5æœºå™¨äººçš„gazeboä»¿çœŸä»¥åŠcontrollerçš„ä½¿ç”¨</title>
      <link href="/posts/1500545740/"/>
      <url>/posts/1500545740/</url>
      
        <content type="html"><![CDATA[<p>è¿™ç¯‡æ–‡ç« ä¸»è¦ä»‹ç»äº†å¦‚ä½•åœ¨<code>gazebo</code>ä¸­å¯¹<code>ur5</code>è¿›è¡Œä»¿çœŸå’Œ<code>controller</code>çš„ä½¿ç”¨ï¼ŒåŒ…æ‹¬<code>controller_manager</code>çš„ä½¿ç”¨å’Œæ§åˆ¶å™¨<code>command</code>çš„ä¸»é¢˜æ•°æ®å‘å¸ƒã€‚</p><a id="more"></a><ul><li><p>uræœºå™¨äººçš„ä¸‹è½½ç¼–è¯‘å¯ä»¥å‚è€ƒå®˜æ–¹çš„å¸®åŠ©æ–‡æ¡£ï¼Œä¸‹è½½æºç ï¼Œç„¶å<code>catkin_make</code>ï¼Œç„¶å<code>source devel/setup.bash</code>è½½å…¥èµ„æºæ–‡ä»¶ã€‚</p></li><li><p>åœ¨<code>gazebo</code>ä¸­å¯åŠ¨ <code>ur5</code> æ¨¡å‹ï¼Œç»ˆç«¯è¾“å…¥ï¼š</p></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">roslaunch ur_gazebo ur5.launch limited:=<span class="literal">true</span></span><br></pre></td></tr></table></figure><ul><li>ur5æ¨¡å‹çš„å‚æ•°æœåŠ¡å™¨ä¸­åŒ…å«ä¸¤ä¸ªæ§åˆ¶å™¨, <code>position_controllers/JointTrajectoryController</code>å’Œ<code>position_controllers/JointGroupPositionController</code>è¿™é‡Œå…ˆç”¨ä½ç½®æ§åˆ¶æ¨¡å¼<code>JointGroupPositionController</code>ï¼Œå°±æ˜¯å•ç‹¬æ§åˆ¶å…³èŠ‚è½´ï¼Œè¿™æ ·æˆ‘ä»¬å¯ä»¥ç›´è§‚çœ‹åˆ°å…³èŠ‚è½´å“åº”äº†ä¸‹å‘çš„ä½ç½®æŒ‡ä»¤ã€‚</li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">arm_controller:</span></span><br><span class="line"><span class="attr">  type:</span> <span class="string">position_controllers/JointTrajectoryController</span></span><br><span class="line"><span class="attr">  joints:</span></span><br><span class="line"><span class="bullet">     -</span> <span class="string">shoulder_pan_joint</span></span><br><span class="line"><span class="bullet">     -</span> <span class="string">shoulder_lift_joint</span></span><br><span class="line"><span class="bullet">     -</span> <span class="string">elbow_joint</span></span><br><span class="line"><span class="bullet">     -</span> <span class="string">wrist_1_joint</span></span><br><span class="line"><span class="bullet">     -</span> <span class="string">wrist_2_joint</span></span><br><span class="line"><span class="bullet">     -</span> <span class="string">wrist_3_joint</span></span><br><span class="line"><span class="attr">  constraints:</span></span><br><span class="line"><span class="attr">      goal_time:</span> <span class="number">0.6</span></span><br><span class="line"><span class="attr">      stopped_velocity_tolerance:</span> <span class="number">0.05</span></span><br><span class="line"><span class="attr">      shoulder_pan_joint:</span> <span class="string">&#123;trajectory:</span> <span class="number">0.1</span><span class="string">,</span> <span class="attr">goal:</span> <span class="number">0.1</span><span class="string">&#125;</span></span><br><span class="line"><span class="attr">      shoulder_lift_joint:</span> <span class="string">&#123;trajectory:</span> <span class="number">0.1</span><span class="string">,</span> <span class="attr">goal:</span> <span class="number">0.1</span><span class="string">&#125;</span></span><br><span class="line"><span class="attr">      elbow_joint:</span> <span class="string">&#123;trajectory:</span> <span class="number">0.1</span><span class="string">,</span> <span class="attr">goal:</span> <span class="number">0.1</span><span class="string">&#125;</span></span><br><span class="line"><span class="attr">      wrist_1_joint:</span> <span class="string">&#123;trajectory:</span> <span class="number">0.1</span><span class="string">,</span> <span class="attr">goal:</span> <span class="number">0.1</span><span class="string">&#125;</span></span><br><span class="line"><span class="attr">      wrist_2_joint:</span> <span class="string">&#123;trajectory:</span> <span class="number">0.1</span><span class="string">,</span> <span class="attr">goal:</span> <span class="number">0.1</span><span class="string">&#125;</span></span><br><span class="line"><span class="attr">      wrist_3_joint:</span> <span class="string">&#123;trajectory:</span> <span class="number">0.1</span><span class="string">,</span> <span class="attr">goal:</span> <span class="number">0.1</span><span class="string">&#125;</span></span><br><span class="line"><span class="attr">  stop_trajectory_duration:</span> <span class="number">0.5</span></span><br><span class="line"><span class="attr">  state_publish_rate:</span>  <span class="number">25</span></span><br><span class="line"><span class="attr">  action_monitor_rate:</span> <span class="number">10</span></span><br><span class="line"><span class="attr">joint_group_position_controller:</span></span><br><span class="line"><span class="attr">  type:</span> <span class="string">position_controllers/JointGroupPositionController</span></span><br><span class="line"><span class="attr">  joints:</span></span><br><span class="line"><span class="bullet">     -</span> <span class="string">shoulder_pan_joint</span></span><br><span class="line"><span class="bullet">     -</span> <span class="string">shoulder_lift_joint</span></span><br><span class="line"><span class="bullet">     -</span> <span class="string">elbow_joint</span></span><br><span class="line"><span class="bullet">     -</span> <span class="string">wrist_1_joint</span></span><br><span class="line"><span class="bullet">     -</span> <span class="string">wrist_2_joint</span></span><br><span class="line"><span class="bullet">     -</span> <span class="string">wrist_3_joint</span></span><br></pre></td></tr></table></figure><ul><li><p>ur5çš„<code>launch</code>æ–‡ä»¶ä¸­ï¼Œé»˜è®¤å¯åŠ¨çš„æ§åˆ¶å™¨æ˜¯å…³èŠ‚è½¨è¿¹æ§åˆ¶ï¼Œæ‰€ä»¥è¿™é‡Œæ¶‰åŠåˆ°å¦‚ä½•åˆ‡æ¢æ§åˆ¶å™¨çš„æ“ä½œï¼Œè¯¦ç»†å†…å®¹å¯ä»¥å‚è€ƒ<code>controller_manager</code>è¿™ç¯‡æ–‡ç« ã€‚ä¸€ä¸‹ç»™å‡ºå®é™…çš„æ“ä½œã€‚</p></li><li><p>é¦–å…ˆæŸ¥çœ‹å·²è½½å…¥çš„æ§åˆ¶å™¨ï¼šå¯ä»¥çœ‹åˆ°urå†…éƒ¨è½½å…¥äº†ä¸¤ä¸ªæ§åˆ¶å™¨ï¼Œå°±æ˜¯åœ¨å‚æ•°æ–‡ä»¶ä¸­æ˜¾ç¤ºçš„ä¸¤ä¸ªï¼Œ<code>arm_controller</code>å’Œ<code>joint_group_position_controller</code>ã€‚</p></li></ul><blockquote><p><code>rosrun controller_manager controller_manager list</code></p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">arm_controller - hardware_interface::PositionJointInterface ( stopped )</span><br><span class="line">joint_state_controller - hardware_interface::JointStateInterface ( running )</span><br><span class="line">joint_group_position_controller - hardware_interface::PositionJointInterface ( running )</span><br></pre></td></tr></table></figure><ul><li>æš‚åœ<code>arm_controller</code>ï¼Œæ‰§è¡ŒæˆåŠŸåä¼šæ˜¾ç¤ºæˆåŠŸæ‰§è¡Œä¿¡æ¯ï¼š</li></ul><blockquote><p><code>rosrun controller_manager controller_manager stop arm_controller</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Stopped [<span class="string">'arm_controller'</span>] successfully</span><br></pre></td></tr></table></figure></blockquote><ul><li>å¯åŠ¨<code>joint_group_position_controller</code>ï¼ŒåŒæ ·ä¹Ÿæœ‰æ‰§è¡ŒæˆåŠŸä¸å¦çš„ä¿¡æ¯è¾“å‡ºï¼š</li></ul><blockquote><p><code>rosrun controller_manager controller_manager start joint_group_position_controller</code></p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Started [<span class="string">'joint_group_position_controller'</span>] successfully</span><br></pre></td></tr></table></figure><ul><li><code>controller_manager</code>çš„è¯¦ç»†æŒ‡ä»¤å¦‚ä¸‹ï¼š</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ rosrun controller_manager controller_manager &lt;<span class="built_in">command</span>&gt; &lt;controller_name&gt;</span><br></pre></td></tr></table></figure><p>ä»¥ä¸‹<code>command</code>å¯ç”¨:<br>|               |                                       |<br>| :â€”â€”â€”â€”â€”â€” | :â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” |<br>| <strong><code>load</code></strong>:   | åŠ è½½æ§åˆ¶å™¨ (construct and initialize) |<br>| <strong><code>unload</code></strong>: | å¸è½½æ§åˆ¶å™¨ (destruct)                 |<br>| <strong><code>start</code></strong>:  | å¯åŠ¨æ§åˆ¶å™¨                            |<br>| <strong><code>stop</code></strong>:   | ç»“æŸæ§åˆ¶å™¨                            |<br>| <strong><code>spawn</code></strong>:  | åŠ è½½å¹¶å¯åŠ¨æ§åˆ¶å™¨                      |<br>| <strong><code>kill</code></strong>:   | åœæ­¢å¹¶å¸è½½æ§åˆ¶å™¨                      |<br>|               |                                       |</p><ul><li><p>å¼€å§‹è¾“å…¥å…³èŠ‚ä½ç½®æ§åˆ¶æŒ‡ä»¤</p></li><li><p>è¿™é‡Œå¯ä»¥å…ˆæŸ¥çœ‹ä¸€ä¸‹å…³èŠ‚ä½ç½®æŒ‡ä»¤çš„æ•°æ®ç»“æ„</p></li><li><p>è¾“å…¥: </p></li></ul><blockquote><p><code>rostopic list</code>  </p></blockquote><ul><li>å¯ä»¥çœ‹åˆ°æœ‰æ§åˆ¶å™¨çš„ä¸€ä¸ªä¸»é¢˜: </li></ul><blockquote><p><code>/joint_group_position_controller/command</code></p></blockquote><ul><li>æŸ¥çœ‹ä¸»é¢˜ä¿¡æ¯ï¼šè¯¥<code>topic</code>çš„<code>type</code>æ˜¯<code>std_msgs/Float64MultiArray</code>ã€‚å› æ­¤æˆ‘ä»¬<code>pub</code>è¿™ä¸ª<code>topic</code>æ—¶å°±éœ€è¦å‘é€è¿™ä¸ªæ•°æ®ç»“æ„ã€‚</li></ul><blockquote><p><code>rostopic info /joint_group_position_controller/command</code></p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Type: std_msgs/Float64MultiArray</span><br><span class="line"></span><br><span class="line">Publishers: None</span><br><span class="line"></span><br><span class="line">Subscribers: </span><br><span class="line"> * /rostopic_120258_1572071888740 (http://localhost:42655/)</span><br><span class="line"> * /gazebo (http://localhost:35425/)</span><br></pre></td></tr></table></figure><ul><li>å‘å¸ƒä¸»é¢˜ã€‚å› ä¸ºè¿™é‡Œ<code>Float64MultiArray</code>æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå¦‚æœæ˜¯å•ä¸ªæ•°æ®ç±»å‹ï¼Œé‚£åœ¨æ•°æ®ç»“æ„åé¢ç›´æ¥è·Ÿå…·ä½“çš„æ•°æ®å³å¯ã€‚å¦‚æœæ˜¯æ•°ç»„ï¼Œé‚£éœ€è¦ä»¥<code>python list</code>çš„æ–¹å¼å‘é€ã€‚è¿™é‡Œ<code>-r 50</code>è¡¨ç¤ºè¿™ä¸ª<code>topic</code>çš„å‘å¸ƒé€Ÿç‡æ˜¯<code>50hz</code>ã€‚ç„¶åå°±å¯ä»¥åœ¨<code>gazebo</code>ä¸­çœ‹åˆ°æœºå™¨äººäº”è½´è½¬äº†ä¸€ä¸ªè§’åº¦ã€‚</li></ul><blockquote><p><code>rostopic pub -r 50 /joint_group_position_controller/command std_msgs/Float64MultiArray &#39;{data: [0,0,0,0,10,30]}&#39;</code></p></blockquote><ul><li>åŒæ—¶å¯ä»¥æ‰“å¼€å¦ä¸€ä¸ªç»ˆç«¯ï¼Œçœ‹åˆ°å‘å¸ƒçš„<code>topic</code>çš„è¯¦ç»†ä¿¡æ¯</li></ul><blockquote><p><code>rostopic echo /joint_group_position_controller/command</code></p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">layout: </span><br><span class="line">  dim: []</span><br><span class="line">  data_offset: 0</span><br><span class="line">data: [0.0, 0.0, 0.0, 0.0, 10.0, 30.0]</span><br><span class="line">---</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ROSå­¦ä¹  </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ROS </tag>
            
            <tag> gazebo </tag>
            
            <tag> controller-manager </tag>
            
            <tag> ur5 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ROSå­¦ä¹ -xacro</title>
      <link href="/posts/2389657244/"/>
      <url>/posts/2389657244/</url>
      
        <content type="html"><![CDATA[<p>Xacro(XML Macros)Xacroæ˜¯ä¸€ç§XMLå®è¯­è¨€. ä½¿ç”¨xacro, å¯ä»¥é€šè¿‡ä½¿ç”¨å®å‘½ä»¤æ„å»ºæ›´ç²¾æ‚çŸ­å°ä½†åˆå…·æœ‰æ›´é«˜å¯è¯»æ€§çš„XMLæ–‡ä»¶, è¿™ç§å®å‘½ä»¤å¯ä»¥æ‰©å±•è¾¾åˆ°æ›´å¤§çš„XMLè¡¨è¾¾èŒƒå›´. æ­¤åŒ…åœ¨å¤„ç†å¤§å‹XMLæ–‡æ¡£(å¦‚æœºå™¨äººè¯´æ˜)æ—¶æœ€ä¸ºæœ‰ç”¨. å®ƒåœ¨å¦‚urdfçš„åŒ…ä¸­å¤§é‡ä½¿ç”¨. æœ¬æ–‡ä¸»è¦æ¥æºäº<a href="http://wiki.ros.org/xacro" target="_blank" rel="noopener">å®˜æ–¹æ•™ç¨‹</a>. </p><a id="more"></a><h1 id="ç›®å½•"><a href="#ç›®å½•" class="headerlink" title="ç›®å½•"></a>ç›®å½•</h1><p><a href="#1-%e6%a1%88%e4%be%8b">1. æ¡ˆä¾‹</a><br><a href="#2-%e5%b1%9e%e6%80%a7%e5%92%8c%e5%b1%9e%e6%80%a7%e5%9d%97">2. å±æ€§å’Œå±æ€§å—</a><br><a href="#3-%e6%95%b0%e5%ad%a6%e8%a1%a8%e8%be%be%e5%bc%8f">3. æ•°å­¦è¡¨è¾¾å¼</a><br><a href="#4-%e6%9d%a1%e4%bb%b6%e5%9d%97">4. æ¡ä»¶å—</a><br><a href="#4-%e6%9d%a1%e4%bb%b6%e5%9d%97">5. <code>Rospack</code>å‘½ä»¤</a><br><a href="#5-rospack%e5%91%bd%e4%bb%a4">6. å®å‘½ä»¤</a><br><a href="#61-%e9%bb%98%e8%ae%a4%e5%8f%82%e6%95%b0">6.1 é»˜è®¤å‚æ•°</a><br><a href="#62-%e5%b1%80%e9%83%a8%e5%b1%9e%e6%80%a7">6.2 å±€éƒ¨å±æ€§</a><br><a href="#7-%e5%8c%85%e5%90%ab%e5%85%b6%e4%bb%96xacro%e6%96%87%e4%bb%b6">7. åŒ…å«å…¶ä»–<code>xacro</code>æ–‡ä»¶</a><br><a href="#8-yaml%e8%af%ad%e8%a8%80%e6%94%af">8. <code>YAML</code>è¯­è¨€æ”¯æŒ</a><br><a href="#9-%e7%94%a8cmakeliststxt%e8%bf%9b%e8%a1%8c%e6%9e%84%e5%bb%ba">9. ç”¨<code>CMakeLists.txt</code>è¿›è¡Œæ„å»º</a><br><a href="#10-%e5%85%83%e7%b4%a0%e4%b8%8e%e5%b1%9e%e6%80%a7">10. å…ƒç´ å’Œå±æ€§</a><br><a href="#11-%e5%a4%84%e7%90%86%e9%a1%ba%e5%ba%8f">11. å¤„ç†é¡ºåº</a><br><a href="#12-%e5%b7%b2%e5%bc%83%e7%94%a8%e7%9a%84%e8%af%ad%e6%b3%95">12. å·²å¼ƒç”¨çš„è¯­æ³•</a></p><h1 id="æ¡ˆä¾‹"><a href="#æ¡ˆä¾‹" class="headerlink" title="æ¡ˆä¾‹"></a>æ¡ˆä¾‹</h1><p>å‚è€ƒä»¥ä¸‹çš„<code>Xacro XML</code>ç‰‡æ®µ: </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">xacro:macro</span> <span class="attr">name</span>=<span class="string">"pr2_arm"</span> <span class="attr">params</span>=<span class="string">"suffix parent reflect"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">pr2_upperarm</span> <span class="attr">suffix</span>=<span class="string">"$&#123;suffix&#125;"</span> <span class="attr">reflect</span>=<span class="string">"$&#123;reflect&#125;"</span> <span class="attr">parent</span>=<span class="string">"$&#123;parent&#125;"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">pr2_forearm</span> <span class="attr">suffix</span>=<span class="string">"$&#123;suffix&#125;"</span> <span class="attr">reflect</span>=<span class="string">"$&#123;reflect&#125;"</span> <span class="attr">parent</span>=<span class="string">"elbow_flex_$&#123;suffix&#125;"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">xacro:macro</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">xacro:pr2_arm</span> <span class="attr">suffix</span>=<span class="string">"left"</span> <span class="attr">reflect</span>=<span class="string">"1"</span> <span class="attr">parent</span>=<span class="string">"torso"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">xacro:pr2_arm</span> <span class="attr">suffix</span>=<span class="string">"right"</span> <span class="attr">reflect</span>=<span class="string">"-1"</span> <span class="attr">parent</span>=<span class="string">"torso"</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„ç‰‡æ®µæ‰©å±•æˆä¸ºä¸‹é¢çš„æ ·å­: </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">pr2_upperarm</span> <span class="attr">suffix</span>=<span class="string">"left"</span> <span class="attr">reflect</span>=<span class="string">"1"</span> <span class="attr">parent</span>=<span class="string">"torso"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">pr2_forearm</span> <span class="attr">suffix</span>=<span class="string">"left"</span> <span class="attr">reflect</span>=<span class="string">"1"</span> <span class="attr">parent</span>=<span class="string">"elbow_flex_left"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">pr2_upperarm</span> <span class="attr">suffix</span>=<span class="string">"right"</span> <span class="attr">reflect</span>=<span class="string">"-1"</span> <span class="attr">parent</span>=<span class="string">"torso"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">pr2_forearm</span> <span class="attr">suffix</span>=<span class="string">"right"</span> <span class="attr">reflect</span>=<span class="string">"-1"</span> <span class="attr">parent</span>=<span class="string">"elbow_flex_right"</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>å¦‚æœæˆ‘ä»¬è¿˜å®šä¹‰äº†<code>pr2_upperarm</code>å’Œ<code>pr2_forearm</code>çš„å®, é‚£ä¹ˆè¿™ä¸ªç‰‡æ®µå¯ä»¥æ‰©å±•ä»¥æè¿°æ•´ä¸ªæœºå™¨äººè‡‚. </p><p>æœ¬æ–‡çš„å…¶ä½™éƒ¨åˆ†æè¿°äº†<code>xacro</code>çš„åŠŸèƒ½. </p><h1 id="å±æ€§å’Œå±æ€§å—"><a href="#å±æ€§å’Œå±æ€§å—" class="headerlink" title="å±æ€§å’Œå±æ€§å—"></a>å±æ€§å’Œå±æ€§å—</h1><p>å±æ€§æ˜¯å¯ä»¥æ’å…¥åˆ°<code>XML</code>æ–‡æ¡£ä¸­çš„ä»»ä½•ä½ç½®çš„å€¼. å±æ€§å—æ˜¯<code>XML</code>çš„åç§°ç‰‡æ®µ, å¯ä»¥æ’å…¥å…è®¸<code>XML</code>çš„ä»»ä½•ä½ç½®. ä¸¤è€…éƒ½ä½¿ç”¨å±æ€§æ ‡ç­¾æ¥å®šä¹‰å€¼. å±æ€§æ ‡ç­¾ä¸èƒ½åœ¨<code>xacro:macro</code>ä¸­å£°æ˜. ä»¥ä¸‹ç¤ºä¾‹å°†æ˜¾ç¤ºå¦‚ä½•å£°æ˜å’Œä½¿ç”¨å±æ€§: </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">xacro:property</span> <span class="attr">name</span>=<span class="string">"the_radius"</span> <span class="attr">value</span>=<span class="string">"2.1"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">xacro:property</span> <span class="attr">name</span>=<span class="string">"the_length"</span> <span class="attr">value</span>=<span class="string">"4.5"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">geometry</span> <span class="attr">type</span>=<span class="string">"cylinder"</span> <span class="attr">radius</span>=<span class="string">"$&#123;the_radius&#125;"</span> <span class="attr">length</span>=<span class="string">"$&#123;the_length&#125;"</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>é€šè¿‡å°†åç§°æ”¾åœ¨<code>dollared-braces</code> (<strong><code>${}</code></strong>)ä¸­, ä½ å¯ä»¥å°†ä¸¤ä¸ªå±æ€§å€¼æ’å…¥åˆ°å‡ ä½•è¡¨è¾¾å¼ä¸­. å¦‚æœä½ æƒ³è¦ä¸€ä¸ªæ–‡æœ¬<code>&quot;{&quot;</code>, ä½ åº”è¯¥å°†å…¶è½¬ä¹‰ä¸º<code>&quot;$${&quot;</code>.<br>ä¸‹é¢æ˜¯ä½¿ç”¨å±æ€§å—çš„ç¤ºä¾‹: </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">xacro:property</span> <span class="attr">name</span>=<span class="string">"front_left_origin"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">origin</span> <span class="attr">xyz</span>=<span class="string">"0.3 0 0"</span> <span class="attr">rpy</span>=<span class="string">"0 0 0"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">xacro:property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">pr2_wheel</span> <span class="attr">name</span>=<span class="string">"front_left_wheel"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">xacro:insert_block</span> <span class="attr">name</span>=<span class="string">"front_left_origin"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">pr2_wheel</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="æ•°å­¦è¡¨è¾¾å¼"><a href="#æ•°å­¦è¡¨è¾¾å¼" class="headerlink" title="æ•°å­¦è¡¨è¾¾å¼"></a>æ•°å­¦è¡¨è¾¾å¼</h1><p>åœ¨<code>dollared-braces</code> (<strong><code>${}</code></strong>)ä¸­, æ‚¨è¿˜å¯ä»¥ç¼–å†™ç®€å•çš„æ•°å­¦è¡¨è¾¾å¼. ç›®å‰, è¯¥ç»“æ„æ”¯æŒåŸºæœ¬ç®—æœ¯å’Œå˜é‡æ›¿æ¢. ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­: </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">xacro:property</span> <span class="attr">name</span>=<span class="string">"pi"</span> <span class="attr">value</span>=<span class="string">"3.1415926535897931"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">circle</span> <span class="attr">circumference</span>=<span class="string">"$&#123;2.5 * pi&#125;"</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>åœ¨<code>Jade</code>ç‰ˆæœ¬çš„<code>ROS</code>ä¸­æ›´æ–°çš„åœ°æ–¹:<br>è‡ª<code>ROS Jade</code>ä»¥æ¥, <code>Xacro</code>ä½¿ç”¨<code>python</code>æ¥è¯„ä¼°åŒ…å«åœ¨<code>dollared-braces</code> (<strong><code>${}</code></strong>)ä¸­çš„è¡¨è¾¾å¼. è¿™å…è®¸ç”¨æˆ·ä½¿ç”¨æ›´å¤æ‚çš„ç®—æœ¯è¡¨è¾¾å¼. æ­¤å¤–, ä¸€äº›åŸºæœ¬å¸¸æ•°, ä¾‹å¦‚<code>pi</code>, å·²ç»è¢«é¢„å®šä¹‰è¿‡äº†: </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">xacro:property</span> <span class="attr">name</span>=<span class="string">"R"</span> <span class="attr">value</span>=<span class="string">"2"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">xacro:property</span> <span class="attr">name</span>=<span class="string">"alpha"</span> <span class="attr">value</span>=<span class="string">"$&#123;30/180*pi&#125;"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">circle</span> <span class="attr">circumference</span>=<span class="string">"$&#123;2 * pi * R&#125;"</span> <span class="attr">pos</span>=<span class="string">"$&#123;sin(alpha)&#125; $&#123;cos(alpha)&#125;"</span> /&gt;</span></span><br></pre></td></tr></table></figure><h1 id="æ¡ä»¶å—"><a href="#æ¡ä»¶å—" class="headerlink" title="æ¡ä»¶å—"></a>æ¡ä»¶å—</h1><p>åœ¨<code>Hydro</code>ç‰ˆæœ¬çš„<code>ROS</code>ä¸­æ›´æ–°çš„åœ°æ–¹:<br>è‡ªä»<code>ROS Hydro</code>ä»¥æ¥, <code>Xacro</code>æœ‰ç±»ä¼¼äº<code>roslaunch</code>çš„æ¡ä»¶å—. è¿™å¯¹äºå¯é…ç½®çš„æœºå™¨äººæˆ–åŠ è½½ä¸åŒçš„<code>Gazebo</code>æ’ä»¶ç­‰äº‹æƒ…å¾ˆæœ‰ç”¨. å®ƒéµå¾ªä»¥ä¸‹è¯­æ³•: </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">xacro:if</span> <span class="attr">value</span>=<span class="string">"&lt;expression&gt;"</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- &lt;... some xml code here ...&gt; --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">xacro:if</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">xacro:unless</span> <span class="attr">value</span>=<span class="string">"&lt;expression&gt;"</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- &lt;... some xml code here ...&gt; --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">xacro:unless</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¡¨è¾¾å¼éœ€è¦è®¡ç®—ç»“æœä¸º<code>&quot;0&quot;</code>, <code>&quot;1&quot;</code>, <code>&quot;true&quot;</code>æˆ–<code>&quot;false&quot;</code>, å¦åˆ™å°†æŠ›å‡ºé”™è¯¯. </p><p>åœ¨<code>Jade</code>ç‰ˆæœ¬çš„<code>ROS</code>ä¸­æ›´æ–°çš„åœ°æ–¹:<br><code>ROS Jade</code>ä¸­æ›´å¼ºå¤§çš„è¯„ä¼°åŠŸèƒ½å…è®¸ä½¿ç”¨æ›´å¤æ‚çš„è¡¨è¾¾å¼. å‡ ä¹ä»»ä½•<code>python</code>è¡¨è¾¾å¼çš„è®¡ç®—ç»“æœéƒ½æ˜¯å¯è¡Œçš„: </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">xacro:property</span> <span class="attr">name</span>=<span class="string">"var"</span> <span class="attr">value</span>=<span class="string">"useit"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">xacro:if</span> <span class="attr">value</span>=<span class="string">"$&#123;var == 'useit'&#125;"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">xacro:if</span> <span class="attr">value</span>=<span class="string">"$&#123;var.startswith('use') and var.endswith('it')&#125;"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">xacro:property</span> <span class="attr">name</span>=<span class="string">"allowed"</span> <span class="attr">value</span>=<span class="string">"[1,2,3]"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">xacro:if</span> <span class="attr">value</span>=<span class="string">"$&#123;1 in allowed&#125;"</span>/&gt;</span></span><br></pre></td></tr></table></figure><h1 id="Rospackå‘½ä»¤"><a href="#Rospackå‘½ä»¤" class="headerlink" title="Rospackå‘½ä»¤"></a><code>Rospack</code>å‘½ä»¤</h1><p><code>Xacro</code>å…è®¸ä½ ä½¿ç”¨æŸäº›<code>rospack</code>å‘½ä»¤å’Œ<code>dollared-braces</code> (<strong><code>${}</code></strong>). </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">foo</span> <span class="attr">value</span>=<span class="string">"$(find xacro)"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">foo</span> <span class="attr">value</span>=<span class="string">"$(arg myvar)"</span> /&gt;</span></span><br></pre></td></tr></table></figure><p><code>Xacro</code>ç›®å‰æ”¯æŒä½¿ç”¨<code>substitution args</code>çš„<code>roslaunch</code>æ”¯æŒçš„æ‰€æœ‰<code>rospack</code>å‘½ä»¤. å‚æ•°éœ€è¦åœ¨å‘½ä»¤è¡Œä¸­ä½¿ç”¨<code>myvar := true</code>è¯­æ³•æŒ‡å®š. </p><p>åœ¨<code>Indigo</code>ç‰ˆæœ¬çš„<code>ROS</code>ä¸­æ›´æ–°çš„åœ°æ–¹:<br>è‡ªä»<code>ROS Indigo</code>, å®ƒä¹Ÿå¯ä»¥åƒå¦‚ä¸‹å®šä¹‰é»˜è®¤å€¼: </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">xacro:arg</span> <span class="attr">name</span>=<span class="string">"myvar"</span> <span class="attr">default</span>=<span class="string">"false"</span>/&gt;</span></span><br></pre></td></tr></table></figure><p>é€šè¿‡è¿™ç§æ–¹å¼, ä½ å¯ä»¥åƒä¸‹é¢è¿™æ ·è¿è¡Œ<code>xacro</code>: </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">param</span> <span class="attr">name</span>=<span class="string">"robot_description"</span> <span class="attr">command</span>=<span class="string">"$(find xacro)/xacro.py $(arg model) myvar:=true"</span> /&gt;</span></span><br></pre></td></tr></table></figure><h1 id="å®å‘½ä»¤"><a href="#å®å‘½ä»¤" class="headerlink" title="å®å‘½ä»¤"></a>å®å‘½ä»¤</h1><p><code>xacro</code>çš„ä¸»è¦ç‰¹æ€§æ˜¯å®ƒå¯¹å®çš„æ”¯æŒ. ä½¿ç”¨å®æ ‡ç­¾å®šä¹‰å®, å¹¶æŒ‡å®šå®åç§°å’Œå‚æ•°åˆ—è¡¨. å‚æ•°åˆ—è¡¨åº”ä»¥ç©ºæ ¼åˆ†éš”. å®ƒä»¬å˜æˆ<code>macro-local</code>å±æ€§. </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">xacro:macro</span> <span class="attr">name</span>=<span class="string">"pr2_caster"</span> <span class="attr">params</span>=<span class="string">"suffix *origin **content **anothercontent"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">joint</span> <span class="attr">name</span>=<span class="string">"caster_$&#123;suffix&#125;_joint"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">axis</span> <span class="attr">xyz</span>=<span class="string">"0 0 1"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">joint</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">name</span>=<span class="string">"caster_$&#123;suffix&#125;"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">xacro:insert_block</span> <span class="attr">name</span>=<span class="string">"origin"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">xacro:insert_block</span> <span class="attr">name</span>=<span class="string">"content"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">xacro:insert_block</span> <span class="attr">name</span>=<span class="string">"anothercontent"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">link</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">xacro:macro</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">xacro:pr2_caster</span> <span class="attr">suffix</span>=<span class="string">"front_left"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">pose</span> <span class="attr">xyz</span>=<span class="string">"0 1 0"</span> <span class="attr">rpy</span>=<span class="string">"0 0 0"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">container</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"yellow"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mass</span>&gt;</span>0.1<span class="tag">&lt;/<span class="name">mass</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">container</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">another</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">inertial</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">origin</span> <span class="attr">xyz</span>=<span class="string">"0 0 0.5"</span> <span class="attr">rpy</span>=<span class="string">"0 0 0"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">mass</span> <span class="attr">value</span>=<span class="string">"1"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">inertia</span> <span class="attr">ixx</span>=<span class="string">"100"</span>  <span class="attr">ixy</span>=<span class="string">"0"</span>  <span class="attr">ixz</span>=<span class="string">"0"</span> <span class="attr">iyy</span>=<span class="string">"100"</span> <span class="attr">iyz</span>=<span class="string">"0"</span> <span class="attr">izz</span>=<span class="string">"100"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">inertial</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">another</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">xacro:pr2_caster</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¯¥ç¤ºä¾‹å£°æ˜äº†ä¸€ä¸ªå®<code>&quot;pr2_caster&quot;</code>, å®ƒæœ‰ä¸¤ä¸ªå‚æ•°: <code>suffix</code>å’Œ<code>origin</code>.  <strong><em>è¯·æ³¨æ„, â€œoriginâ€å·²åŠ æ˜Ÿæ ‡. è¿™è¡¨æ˜originæ˜¯ä¸€ä¸ªå—å‚æ•°, è€Œä¸æ˜¯ä¸€ä¸ªç®€å•çš„æ–‡æœ¬å‚æ•°</em></strong>. çœ‹ä¸‹<code>pr2_caster</code>çš„ä½¿ç”¨. <code>suffix</code>å±æ€§(<code>property</code>)åœ¨<code>pr2_caster</code>æ ‡ç­¾ä¸­å®šä¹‰ä¸ºå±æ€§(<code>attribute</code>), ä½†æ²¡æœ‰å®šä¹‰<code>origin</code>å±æ€§. ç›¸å, <code>origin</code>æŒ‡çš„æ˜¯ç¬¬ä¸€ä¸ªå…ƒç´ (<code>&quot;pose&quot;</code>å—). <strong><em>åŒæ˜Ÿå·ç‰ˆæœ¬(<code>&quot;content&quot;</code>, <code>&quot;anothercontent&quot;</code>)å…è®¸æ’å…¥åœ¨éšåå¯ç”¨çš„å…ƒç´ (åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­åˆ†åˆ«æ˜¯<code>&quot;container&quot;</code>, <code>&quot;another&quot;</code>)ä¸­ä¼ é€’çš„ä»»æ„æ•°é‡çš„å…ƒç´ </em></strong>. æ­¤ç¤ºä¾‹æ‰©å±•ä¸ºä»¥ä¸‹å†…å®¹: </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">joint</span> <span class="attr">name</span>=<span class="string">"caster_front_left_joint"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">axis</span> <span class="attr">xyz</span>=<span class="string">"0 0 1"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">joint</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">name</span>=<span class="string">"caster_front_left"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">pose</span> <span class="attr">xyz</span>=<span class="string">"0 1 0"</span> <span class="attr">rpy</span>=<span class="string">"0 0 0"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">color</span> <span class="attr">name</span>=<span class="string">"yellow"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">mass</span>&gt;</span>0.1<span class="tag">&lt;/<span class="name">mass</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">inertial</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">origin</span> <span class="attr">xyz</span>=<span class="string">"0 0 0.5"</span> <span class="attr">rpy</span>=<span class="string">"0 0 0"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mass</span> <span class="attr">value</span>=<span class="string">"1"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">inertia</span> <span class="attr">ixx</span>=<span class="string">"100"</span>  <span class="attr">ixy</span>=<span class="string">"0"</span>  <span class="attr">ixz</span>=<span class="string">"0"</span> <span class="attr">iyy</span>=<span class="string">"100"</span> <span class="attr">iyz</span>=<span class="string">"0"</span> <span class="attr">izz</span>=<span class="string">"100"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">inertial</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">link</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¤šä¸ªå—å‚æ•°å°†æŒ‰æŒ‡å®šçš„é¡ºåºå¤„ç†: </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">xacro:macro</span> <span class="attr">name</span>=<span class="string">"reorder"</span> <span class="attr">params</span>=<span class="string">"*first *second"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">xacro:insert_block</span> <span class="attr">name</span>=<span class="string">"second"</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">xacro:insert_block</span> <span class="attr">name</span>=<span class="string">"first"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">xacro:macro</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">reorder</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">first</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">second</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">reorder</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å®å¯èƒ½åŒ…å«å…¶ä»–å®. å¤–éƒ¨å®å°†é¦–å…ˆå±•å¼€, ç„¶åå†…éƒ¨å®å°†å±•å¼€. ä¾‹å¦‚: </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">xacro:macro</span> <span class="attr">name</span>=<span class="string">"foo"</span> <span class="attr">params</span>=<span class="string">"x"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">in_foo</span> <span class="attr">the_x</span>=<span class="string">"$&#123;x&#125;"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">xacro:macro</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">xacro:macro</span> <span class="attr">name</span>=<span class="string">"bar"</span> <span class="attr">params</span>=<span class="string">"y"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">in_bar</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">xacro:foo</span> <span class="attr">x</span>=<span class="string">"$&#123;y&#125;"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">in_bar</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">xacro:macro</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">xacro:bar</span> <span class="attr">y</span>=<span class="string">"12"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å˜æˆ: </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">in_bar</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">in_foo</span> <span class="attr">the_x</span>=<span class="string">"12.0"</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">in_bar</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="é»˜è®¤å‚æ•°"><a href="#é»˜è®¤å‚æ•°" class="headerlink" title="é»˜è®¤å‚æ•°"></a>é»˜è®¤å‚æ•°</h3><p><code>Indigo</code>ä¸­æ›´æ–°<br>å®å‚æ•°å¯ä»¥æœ‰é»˜è®¤å€¼: </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">xacro:macro</span> <span class="attr">name</span>=<span class="string">"foo"</span> <span class="attr">params</span>=<span class="string">"x:=$&#123;x&#125; y:=$&#123;2*y&#125; z:=0"</span>/&gt;</span></span><br></pre></td></tr></table></figure><p>å¦‚æœé»˜è®¤å€¼åŒ…å«è¯„ä¼°è¡¨è¾¾å¼, åˆ™å°†åœ¨å®ä¾‹åŒ–æ—¶è¯„ä¼°å®ƒä»¬. </p><p><code>Jade</code>ä¸­æ›´æ–°<br>é€šå¸¸, æ‚¨éœ€è¦å°†å¤–éƒ¨å˜é‡ä¼ é€’åˆ°æœ¬åœ°å®å‚æ•°(å¦‚ä¸Šé¢çš„<code>x</code>). è¦ç®€åŒ–æ­¤ä»»åŠ¡, å¯ä»¥ä½¿ç”¨<code>^</code>è¯­æ³•: </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">xacro:macro</span> <span class="attr">name</span>=<span class="string">"foo"</span> <span class="attr">params</span>=<span class="string">"p1 p2:=expr_a p3:=^ p4:=^|expr_b"</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ’å…¥ç¬¦å·<code>^</code>è¡¨ç¤ºä½¿ç”¨å¤–éƒ¨<code>scope</code>å±æ€§(å…·æœ‰ç›¸åŒåç§°). ç®¡é“<code>|</code>è¡¨ç¤ºå¦‚æœå±æ€§æœªåœ¨å¤–éƒ¨èŒƒå›´ä¸­å®šä¹‰, åˆ™ä½¿ç”¨ç»™å®šçš„å›é€€. </p><h2 id="å±€éƒ¨å±æ€§"><a href="#å±€éƒ¨å±æ€§" class="headerlink" title="å±€éƒ¨å±æ€§"></a>å±€éƒ¨å±æ€§</h2><p><code>Jade</code>ä¸­æ›´æ–°<br>åœ¨å®ä¸­å®šä¹‰çš„å±æ€§å’Œå®å¯¹äºè¯¥å®æ¥è¯´æ˜¯å±€éƒ¨çš„, å³åœ¨å¤–éƒ¨ä¸å¯è§. ä½¿ç”¨å¯é€‰å±æ€§<code>scope =&quot;parent | global&quot;</code>, å±æ€§å®šä¹‰å¯ä»¥å¯¼å‡ºåˆ°å®çš„çˆ¶ä½œç”¨åŸŸ(æˆ–å…¨å±€ä½œç”¨åŸŸ). </p><h1 id="åŒ…å«å…¶ä»–xacroæ–‡ä»¶"><a href="#åŒ…å«å…¶ä»–xacroæ–‡ä»¶" class="headerlink" title="åŒ…å«å…¶ä»–xacroæ–‡ä»¶"></a>åŒ…å«å…¶ä»–<code>xacro</code>æ–‡ä»¶</h1><p>æ‚¨å¯ä»¥ä½¿ç”¨<code>xacro: include</code>æ ‡ç­¾æ¥åŒ…å«å…¶ä»–<code>xacro</code>æ–‡ä»¶: </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">xacro:include</span> <span class="attr">filename</span>=<span class="string">"$(find package)/other_file.xacro"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">xacro:include</span> <span class="attr">filename</span>=<span class="string">"other_file.xacro"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">xacro:include</span> <span class="attr">filename</span>=<span class="string">"$(cwd)/other_file.xacro"</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>æ–‡ä»¶<code>&quot;other_file.xacro&quot;</code>å°†è¢«<code>xacro</code>åŒ…å«å’Œæ‰©å±•. <code>Jade</code>ä¸­çš„æ–°åŠŸèƒ½: ç›¸å¯¹æ–‡ä»¶åç›¸å¯¹äºå½“å‰å¤„ç†çš„æ–‡ä»¶è¿›è¡Œè§£é‡Š. <strong>æ³¨æ„: å½“åœ¨å®ä¸­åŒ…å«æ–‡ä»¶æ—¶, åŒ…å«å¤„ç†ä¸æ˜¯å®å®šä¹‰, è€Œæ˜¯å®è°ƒç”¨æ–‡ä»¶</strong>!  <code>$(cwd)</code>æ˜¾å¼çš„å…è®¸è®¿é—®å½“å‰å·¥ä½œç›®å½•ä¸­çš„æ–‡ä»¶.<br>ä¸ºäº†é¿å…å„ç§åŒ…å«æ–‡ä»¶çš„å±æ€§å’Œå®ä¹‹é—´çš„åç§°å†²çª, å¯ä»¥ä¸ºåŒ…å«çš„æ–‡ä»¶æŒ‡å®šå‘½åç©ºé—´ - æä¾›å±æ€§<code>ns</code>: </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">xacro:include</span> <span class="attr">filename</span>=<span class="string">"other_file.xacro"</span> <span class="attr">ns</span>=<span class="string">"namespace"</span>/&gt;</span></span><br></pre></td></tr></table></figure><p>è®¿é—®å‘½åç©ºé—´å®å’Œå±æ€§æ˜¯é€šè¿‡é¢„å…ˆå‘½åç©ºé—´æ¥å®ç°çš„, ç”¨ç‚¹åˆ†éš”: </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$&#123;namespace.property&#125;</span><br></pre></td></tr></table></figure><h1 id="YAMLè¯­è¨€æ”¯"><a href="#YAMLè¯­è¨€æ”¯" class="headerlink" title="YAMLè¯­è¨€æ”¯"></a><code>YAML</code>è¯­è¨€æ”¯</h1><p><code>Jade</code>ä¸­çš„æ–°åŠŸèƒ½<br>å±æ€§å¯ä»¥æ˜¯ç”¨<code>python</code>è¯­æ³•å£°æ˜çš„å­—å…¸æˆ–åˆ—è¡¨, å¦‚ä¸‹æ‰€ç¤º: </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">xacro:property</span> <span class="attr">name</span>=<span class="string">"props"</span> <span class="attr">value</span>=<span class="string">"$&#123;dict(a=1, b=2, c=3)&#125;"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">xacro:property</span> <span class="attr">name</span>=<span class="string">"numbers"</span> <span class="attr">value</span>=<span class="string">"$&#123;[1,2,3,4]&#125;"</span>/&gt;</span></span><br></pre></td></tr></table></figure><p>æˆ–è€…ä»<code>YAML</code>æ–‡ä»¶ä¸­åŠ è½½, å¦‚ä¸‹: </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">xacro:property</span> <span class="attr">name</span>=<span class="string">"props"</span> <span class="attr">value</span>=<span class="string">"$&#123;load_yaml('props.yaml')&#125;"</span>/</span></span><br></pre></td></tr></table></figure><p>æ³¨æ„, é€šè¿‡<code>evaluation brackets ${}</code>åŒºåˆ†è¯„ä»·å’Œçº¯æ–‡æœ¬å®šä¹‰. æ ¡å‡†æ•°æ®æ˜¯ä»YAMLåŠ è½½çš„ç†æƒ³å€™é€‰. </p><h1 id="ç”¨CMakeLists-txtè¿›è¡Œæ„å»º"><a href="#ç”¨CMakeLists-txtè¿›è¡Œæ„å»º" class="headerlink" title="ç”¨CMakeLists.txtè¿›è¡Œæ„å»º"></a>ç”¨<code>CMakeLists.txt</code>è¿›è¡Œæ„å»º</h1><p>ä»¥ä¸‹ä»£ç æ®µæ˜¾ç¤ºå¦‚ä½•åœ¨ç¨‹åºåŒ…çš„ç”³æ˜æœŸé—´ä½¿ç”¨<code>xacro</code>: </p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Generate .world files from .world.xacro files</span></span><br><span class="line"><span class="keyword">find_package</span>(xacro REQUIRED)</span><br><span class="line"><span class="comment"># You can also add xacro to the list of catkin packages:</span></span><br><span class="line"><span class="comment">#   find_package(catkin REQUIRED COMPONENTS ... xacro)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Xacro files</span></span><br><span class="line"><span class="keyword">file</span>(GLOB xacro_files <span class="variable">$&#123;CMAKE_CURRENT_SOURCE_DIR&#125;</span>/worlds/*.world.xacro)</span><br><span class="line"></span><br><span class="line"><span class="keyword">foreach</span>(it <span class="variable">$&#123;xacro_files&#125;</span>)</span><br><span class="line">  <span class="comment"># remove .xacro extension</span></span><br><span class="line">  <span class="keyword">string</span>(REGEX MATCH <span class="string">"(.*)[.]xacro$"</span> unused <span class="variable">$&#123;it&#125;</span>)</span><br><span class="line">  <span class="keyword">set</span>(output_filename <span class="variable">$&#123;CMAKE_MATCH_1&#125;</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment"># create a rule to generate $&#123;output_filename&#125; from &#123;it&#125;</span></span><br><span class="line">  xacro_add_xacro_file(<span class="variable">$&#123;it&#125;</span> <span class="variable">$&#123;output_filename&#125;</span>)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">list</span>(APPEND world_files <span class="variable">$&#123;output_filename&#125;</span>)</span><br><span class="line"><span class="keyword">endforeach</span>(it)</span><br><span class="line"></span><br><span class="line"><span class="comment"># add an abstract target to actually trigger the builds</span></span><br><span class="line"><span class="keyword">add_custom_target</span>(media_files ALL DEPENDS <span class="variable">$&#123;world_files&#125;</span>)</span><br></pre></td></tr></table></figure><p><code>Jade</code>ä¸­çš„æ–°åŠŸèƒ½:<br>è™½ç„¶è¿™ä¸ª<code>cmake</code>ä»£ç æä¾›äº†å¯¹ç›®æ ‡åç§°å’Œæ„å»ºé¡ºåºçš„å®Œå…¨æ§åˆ¶, ä½†è¿˜æœ‰ä¸€ä¸ªæ›´ç®€ä¾¿çš„å®:   </p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">file</span>(GLOB xacro_files worlds/*.world.xacro)</span><br><span class="line">xacro_add_files(<span class="variable">$&#123;xacro_files&#125;</span> <span class="keyword">TARGET</span> media_files)</span><br></pre></td></tr></table></figure><h1 id="å…ƒç´ ä¸å±æ€§"><a href="#å…ƒç´ ä¸å±æ€§" class="headerlink" title="å…ƒç´ ä¸å±æ€§"></a>å…ƒç´ ä¸å±æ€§</h1><p><code>Jade</code>ä¸­çš„æ–°åŠŸèƒ½:<br>è¦ä½¿ç”¨åŠ¨æ€å®šä¹‰çš„åç§°æ·»åŠ å…ƒç´ æˆ–å±æ€§, å¯ä»¥ä½¿ç”¨ç‰¹æ®Šçš„<code>xacro</code>æ ‡ç­¾</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">xacro:element</span> <span class="attr">xacro:name</span>=<span class="string">"$&#123;element_name&#125;"</span> [<span class="attr">other</span> <span class="attr">attributes</span>]&gt;</span></span><br><span class="line"> [content]</span><br><span class="line"><span class="tag">&lt;/<span class="name">xacro:element</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">xacro:attribute</span> <span class="attr">name</span>=<span class="string">"$&#123;attribute_name&#125;"</span> <span class="attr">value</span>=<span class="string">"$&#123;attribute_value&#125;"</span>/&gt;</span></span><br></pre></td></tr></table></figure><h1 id="å¤„ç†é¡ºåº"><a href="#å¤„ç†é¡ºåº" class="headerlink" title="å¤„ç†é¡ºåº"></a>å¤„ç†é¡ºåº</h1><p><code>Classicly Xacro</code>é¦–å…ˆåŠ è½½æ‰€æœ‰åŒ…å«é¡¹, ç„¶åå¤„ç†æ‰€æœ‰å±æ€§å’Œå®å®šä¹‰, æœ€åå®ä¾‹åŒ–å®å¹¶è®¡ç®—è¡¨è¾¾å¼. å› æ­¤, <strong>åæœŸå®šä¹‰çš„å±æ€§æˆ–å®å®šä¹‰å°†è¦†ç›–å…ˆå‰çš„å®šä¹‰</strong>. æ­¤å¤–, æ¡ä»¶æ ‡ç­¾, <code>&lt;if&gt;</code>å’Œ<code>&lt;unless&gt;</code>, å¯¹å®æˆ–å±æ€§å®šä¹‰ä»¥åŠåŒ…å«çš„å…¶ä»–æ–‡ä»¶æ²¡æœ‰å½±å“. </p><p><code>Jade</code>ä¸­çš„æ–°åŠŸèƒ½:<br>è‡ª<code>ROS Jade</code>ä»¥æ¥, <code>Xacro</code>æä¾›äº†å‘½ä»¤è¡Œé€‰é¡¹<code>â€“-inorder</code>, å…è®¸ä»¥è¯»å–çš„é¡ºåºæ¥å¤„ç†æ•´ä¸ªæ–‡æ¡£. å› æ­¤, å°†ä½¿ç”¨å±æ€§æˆ–å®çš„æœ€æ–°å®šä¹‰. è¿™æ˜¯ä¸€ä¸ªæ›´ç›´è§‚çš„è¯„ä¼°è¿‡ç¨‹, æä¾›äº†ä¸€äº›ä¸é”™çš„æ–°åŠŸèƒ½: </p><ul><li>å¦‚æœ<code>&lt;include&gt;</code>æ ‡ç­¾åˆ†åˆ«æ”¾ç½®åœ¨å®å†…æˆ–æ¡ä»¶æ ‡ç­¾ä¸­, åˆ™å¯ä»¥æ¨è¿Ÿæˆ–å®Œå…¨ç¦æ­¢åŒ…å«æ–‡ä»¶. </li><li>åŒ…å«æ–‡ä»¶åå¯ä»¥é€šè¿‡å±æ€§æˆ–å®å‚æ•°æŒ‡å®š. </li><li>é€šè¿‡æ›´æ”¹å…¨å±€èŒƒå›´çš„å±æ€§, å¦‚æœåœ¨å®ä¸­ä½¿ç”¨è¿™äº›å±æ€§, åˆ™å®çš„å®ä¾‹åŒ–å¯ä»¥äº§ç”Ÿä¸åŒçš„ç»“æœ. </li><li>å±æ€§å®šä¹‰å¯ä»¥æ˜¯æœ‰æ¡ä»¶çš„. </li><li>å®å¯ä»¥åœ¨å±€éƒ¨èŒƒå›´å†…å®šä¹‰å±æ€§, è€Œä¸ä¼šå½±å“å¤–éƒ¨. </li></ul><p>å› ä¸º<code>â€“-inorder</code>å¤„ç†æ›´å¼ºå¤§, åœ¨æœªæ¥<code>Jade</code>ä»¥åçš„ç‰ˆæœ¬, æ–°çš„å¤„ç†é£æ ¼å°†æˆä¸ºé»˜è®¤é£æ ¼, æ‰€ä»¥ä½ åº”è¯¥æ£€æŸ¥ä½ çš„<code>xacro</code>æ–‡ä»¶çš„å…¼å®¹æ€§. é€šå¸¸, ä¸¤ç§åŠ å·¥æ–¹å¼åº”è¯¥ç»™å‡ºç›¸åŒçš„ç»“æœ. ä½ å¯ä»¥å¾ˆå®¹æ˜“åœ°åƒä¸‹é¢è¿™æ ·æ£€æŸ¥: </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">rosrun xacro xacro file.xacro &gt; /tmp/old.xml</span><br><span class="line">rosrun xacro xacro --inorder file.xacro &gt; /tmp/new.xml</span><br><span class="line">diff /tmp/old.xml /tmp/new.xml</span><br></pre></td></tr></table></figure><p>å¦‚æœç»“æœæ˜¾ç¤ºå‡ºä»»ä½•å·®å¼‚, ä½ åº”æ£€æŸ¥å¹¶è°ƒæ•´æ‚¨çš„xacroæ–‡ä»¶. å¸¸è§çš„åŸå› æ˜¯æ ¡å‡†æ•°æ®åæœŸåŠ è½½äº†(ä½œä¸ºå±æ€§). åœ¨è¿™ç§æƒ…å†µä¸‹, åªéœ€å°†åŠ è½½è¡Œä¸ºå‘å‰ç§»åŠ¨, å³åœ¨ä½¿ç”¨ä¹‹å‰è¿›è¡Œæ ¡å‡†æ•°æ®çš„åŠ è½½. ä¸ºäº†æ–¹ä¾¿æœç´¢é”™è¯¯æ”¾ç½®çš„å±æ€§å®šä¹‰, å¯ä»¥ä½¿ç”¨é€‰é¡¹<code>-â€“check--order</code>è¿è¡Œ<code>xacro</code>. å¦‚æœä»»ä½•æœ‰é—®é¢˜çš„å±æ€§, å®ƒä»¬å°†åœ¨<code>stderr</code>ä¸Šåˆ—å‡º: </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Document is incompatible to --inorder processing.</span><br><span class="line">The following properties were redefined after usage:</span><br><span class="line">foo redefined <span class="keyword">in</span> issues.xacro</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨å‘½ä»¤è¡Œé€‰é¡¹<code>-vv</code>æˆ–<code>-vvv</code>, å¯ä»¥å¢åŠ è¯¦ç»†ç¨‹åº¦çº§åˆ«ä»¥è®°å½•å±æ€§çš„æ‰€æœ‰å®šä¹‰. </p><h1 id="å·²å¼ƒç”¨çš„è¯­æ³•"><a href="#å·²å¼ƒç”¨çš„è¯­æ³•" class="headerlink" title="å·²å¼ƒç”¨çš„è¯­æ³•"></a>å·²å¼ƒç”¨çš„è¯­æ³•</h1><p><code>Jade</code>ä¸­çš„æ–°åŠŸèƒ½:<br>è™½ç„¶åœ¨ä»¥å‰çš„ç‰ˆæœ¬ä¸­, æ²¡æœ‰å‘½åç©ºé—´å‰ç¼€çš„<code>xacro</code>æ ‡ç­¾èƒ½å¤Ÿè¢«æ¥å—å¹¶ä½¿ç”¨, ä½†æ˜¯è¿™ç§è‰ç‡çš„è¯­æ³•æ˜¯æˆ‘ä»¬åº”å½“å¼ºçƒˆåå¯¹çš„, å› ä¸ºå®ƒé˜»æ­¢åœ¨æœ€ç»ˆçš„<code>XML</code>ä¸­ä½¿ç”¨è¿™äº›æ ‡ç­¾. ä»<code>Jade</code>å¼€å§‹, è¿™ç§è¯­æ³•å·²è¢«å¼ƒç”¨, ä½ åº”è¯¥ç›¸åº”åœ°æ›´æ–°ä½ çš„æ–‡ä»¶. ä»¥ä¸‹è„šæœ¬å°†ä¸ºæ‚¨æ›´æ–°æ–‡ä»¶: </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find . -iname <span class="string">"*.xacro"</span> | xargs sed -i <span class="string">'s#&lt;\([/]\?\)\(if\|unless\|include\|arg\|property\|macro\|insert_block\)#&lt;\1xacro:\2#g'</span></span><br></pre></td></tr></table></figure><hr><p>å‚è€ƒé“¾æ¥: </p><ul><li><a href="http://wiki.ros.org/xacro" target="_blank" rel="noopener">http://wiki.ros.org/xacro</a></li><li><a href="https://blog.csdn.net/chishuideyu/article/details/53695392" target="_blank" rel="noopener">https://blog.csdn.net/chishuideyu/article/details/53695392</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> ROSå­¦ä¹  </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ROS </tag>
            
            <tag> xacro </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ROSå­¦ä¹ -roslaunch_xml</title>
      <link href="/posts/73359715/"/>
      <url>/posts/73359715/</url>
      
        <content type="html"><![CDATA[<p>è¿™ä¸ªé¡µé¢æè¿°äº†ç”¨äº<code>roslaunch</code>çš„<code>.launch</code>æ–‡ä»¶çš„<code>XML</code>æ ¼å¼. æœ‰å…³<code>roslaunch</code>çš„èƒŒæ™¯ã€åŠŸèƒ½å’Œç›¸å…³å·¥å…·, è¯·å…ˆè®¿é—®<code>roslaunch</code>é¡µé¢. </p><a id="more"></a><p><a href="#%e6%96%87%e4%bb%b6%e8%a7%a3%e6%9e%90%e9%a1%ba%e5%ba%8f">æ–‡ä»¶è§£æé¡ºåº</a><br><a href="#%e7%bd%ae%e6%8d%a2%e5%8f%82%e6%95%b0">ç½®æ¢å‚æ•°</a>  </p><ul><li><a href="#env-environmentvariable">env ENVIRONMENT_VARIABLE</a>  </li><li><a href="#optenv-environmentvariable%e5%92%8coptenv-environmentvariable-defaultvalue">optenv ENVIRONMENT_VARIABLE / optenv ENVIRONMENT_VARIABLE default_value</a>  </li><li><a href="#find-pkg">find pkg</a>  </li><li><a href="#anon-name">anon name</a>  </li><li><a href="#arg-variblename">arg varible_name</a>  </li><li><a href="#eval-expression-new-in-kinetic">eval expression</a>  </li></ul><p><a href="#3-if-%e5%92%8c-unless-%e5%b1%9e%e6%80%a7">IF å’Œ UNLESS å±æ€§</a></p><p><a href="#%e5%8f%82%e8%80%83%e6%a0%87%e7%ad%be">å‚è€ƒæ ‡ç­¾</a>  </p><ul><li><a href="#launch">launch</a>  </li><li><a href="#node">node</a></li><li><a href="#param">param</a></li><li><a href="#rosparam">rosparam</a> </li><li><a href="#remap">remap</a></li><li><a href="#machine">machine</a></li><li><a href="#include">include</a>  </li><li><a href="#env">env</a>  </li><li><a href="#test">test</a></li><li><a href="#arg">arg</a></li><li><a href="#group">group</a></li></ul><p><a href="#launch%e6%96%87%e4%bb%b6%e7%9a%84%e4%be%8b%e5%ad%90">launchæ–‡ä»¶çš„ä¾‹å­</a>  </p><ul><li><a href="#%e4%b8%80%e4%b8%aa%e7%ae%80%e5%8d%95%e7%9a%84%e4%be%8b%e5%ad%90">ä¸€ä¸ªç®€å•çš„ä¾‹å­</a></li><li><a href="#%e4%b8%80%e4%b8%aa%e5%a4%8d%e6%9d%82%e4%b8%80%e7%82%b9%e7%9a%84%e4%be%8b%e5%ad%90">ä¸€ä¸ªå¤æ‚ä¸€ç‚¹çš„ä¾‹å­</a></li><li><a href="#%e8%ae%be%e7%bd%ae%e5%8f%82%e6%95%b0">è®¾ç½®å‚æ•°</a></li></ul><h2 id="æ–‡ä»¶è§£æé¡ºåº"><a href="#æ–‡ä»¶è§£æé¡ºåº" class="headerlink" title="æ–‡ä»¶è§£æé¡ºåº"></a>æ–‡ä»¶è§£æé¡ºåº</h2><p><code>roslaunch</code> ä»¥å•ç¨‹çš„æ–¹å¼è§£æXMLæ ¼å¼æ–‡ä»¶, <code>include</code> æ˜¯ä»¥æ·±åº¦ä¼˜å…ˆçš„æ–¹å¼è§£æå†…å®¹, è€Œæ ‡ç­¾<code>Tag</code>ä»¥ä¸²è¡Œçš„æ–¹å¼å¤„ç†, æ‰€ä»¥ä¸€ä¸ªå‚æ•°çš„æœ€åä¸€æ¬¡è®¾ç½®è¢«è®¤å®šä¸ºæœ‰æ•ˆå€¼. ä¹Ÿå°±æ˜¯è¯´åœ¨<code>. launch</code>æ–‡ä»¶ä¸­åŒæ ·çš„è®¾ç½®å¯èƒ½å­˜åœ¨å¤šå¤„, æ¯”å¦‚åœ¨å¼€å¤´å®šä¹‰äº†ä¸€ä¸ªå˜é‡, éµå¾ªç€å°½é‡èŠ‚çœç©ºé—´çš„æƒ³æ³•, åœ¨åé¢çš„å®šä¹‰ä¸­åˆå¯¹è¿™ä¸ªå˜é‡è¿›è¡Œäº†é‡æ–°èµ‹å€¼, ä»¥ä¾¿é‡æ–°åˆ©ç”¨, åœ¨è¿™ç§æƒ…å†µä¸‹, åœ¨æ•´ä¸ª<code>launch</code>æ–‡ä»¶è§£æå®Œæˆå, æœ€ç»ˆè¿›è¡Œçš„é‚£æ¬¡è®¾ç½®æ˜¯æœ‰æ•ˆçš„, ä½†ä¹Ÿå¹¶ä¸ä¿è¯ä¸€å®šæœ‰æ•ˆ, ä¸æ’é™¤åœ¨å…¶å®ƒçš„æ–‡ä»¶ä¸­å¯¹å˜é‡è¿›è¡Œäº†é‡å‘½å, æ‰€ä»¥æ¨èä½¿ç”¨<code>$(arg)/&lt;arg&gt;</code>çš„æ–¹å¼è¿›è¡Œè¦†å†™. </p><h2 id="ç½®æ¢å‚æ•°"><a href="#ç½®æ¢å‚æ•°" class="headerlink" title="ç½®æ¢å‚æ•°"></a>ç½®æ¢å‚æ•°</h2><p><code>roslaunch</code>æ ‡ç­¾å±æ€§å¯ä»¥ä½¿ç”¨ç½®æ¢å‚æ•°, <code>roslaunch</code>å°†åœ¨å¯åŠ¨èŠ‚ç‚¹ä¹‹å‰è§£æè¿™äº›ç½®æ¢å‚æ•°. ç›®å‰æ”¯æŒçš„ç½®æ¢å‚æ•°æ˜¯ï¼š</p><h3 id="env-ENVIRONMENT-VARIABLE"><a href="#env-ENVIRONMENT-VARIABLE" class="headerlink" title="$(env ENVIRONMENT_VARIABLE)"></a><code>$(env ENVIRONMENT_VARIABLE)</code></h3><p>å…¶ä¸­çš„<script type="math/tex">`æ˜¯ä¸€ä¸ªç½®æ¢å¤„ç†æ ‡å¿—, ç±»ä¼¼`shell`ä¸­çš„`</script>. ä»å½“å‰ç¯å¢ƒå˜é‡æ›¿æ¢å˜é‡çš„å€¼. å¦‚æœæ²¡æœ‰è®¾ç½®ç¯å¢ƒå˜é‡, å¯åŠ¨å°†å¤±è´¥. è¯¥å€¼ä¸èƒ½è¢«<code>&lt;env&gt;</code>æ ‡ç­¾è¦†ç›–. â€”å°±æ˜¯è¯´ç”¨ç¯å¢ƒå˜é‡<code>ENVIRONMENT_VARIABLE</code>è®¾ç½®çš„å€¼æ¥æ›¿æ¢ç›®æ ‡å€¼. ä¾‹å­ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">param</span> <span class="attr">name</span>=<span class="string">"variable_name"</span> <span class="attr">value</span>=<span class="string">"$(env NUM_CPUS)"</span> /&gt;</span></span><br></pre></td></tr></table></figure><p><code>param</code>æ˜¯<code>launch</code>æ–‡ä»¶å‚æ•°å®šä¹‰çš„æ ‡ç­¾, <code>name</code>å±æ€§è¡¨ç¤ºå®šä¹‰çš„å˜é‡åç§°, <code>value</code>å±æ€§è¡¨ç¤ºå¯¹å®šä¹‰å˜é‡è¿›è¡Œèµ‹å€¼æˆ–æ›¿ä»£. ç±»ä¼¼äº<code>variable_name=$(env NUM_CPUS)</code>. å¦‚æœæ²¡æœ‰è®¾ç½®ç¯å¢ƒå˜é‡<code>NUM_CPUS</code>, <code>roslaunch</code>å¯åŠ¨æ—¶å°†æŠ¥é”™. </p><h3 id="optenv-ENVIRONMENT-VARIABLE-å’Œ-optenv-ENVIRONMENT-VARIABLE-default-value"><a href="#optenv-ENVIRONMENT-VARIABLE-å’Œ-optenv-ENVIRONMENT-VARIABLE-default-value" class="headerlink" title="$(optenv ENVIRONMENT_VARIABLE)å’Œ$(optenv ENVIRONMENT_VARIABLE default_value)"></a><code>$(optenv ENVIRONMENT_VARIABLE)</code>å’Œ<code>$(optenv ENVIRONMENT_VARIABLE default_value)</code></h3><p>å’Œä¸Šæ¡çš„åŒºåˆ«åœ¨äº, <code>optenv</code>è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªå¯é€‰çš„ç¯å¢ƒå˜é‡(<code>optional environment</code>). å‡å¦‚æ²¡æœ‰è®¾ç½®ç¯å¢ƒå˜é‡<code>ENVIRONMENT_VARIABLE</code>, è‹¥æä¾›äº†<code>default_value</code>å€¼, åˆ™, åˆ™ç”¨<code>default_value</code>æ›¿ä»£ç›®æ ‡å˜é‡, è‹¥æ²¡æœ‰æä¾›è¯¥å€¼, åˆ™ç”¨ç©ºå­—ç¬¦ä¸²è¡¨ç¤º(<code>roslaunch</code>å¯åŠ¨æ—¶, ä¸ä¼šæŠ¥é”™). <code>default_value</code>çš„å€¼å¯ä»¥æ˜¯åŒ…å«è¢«ç©ºæ ¼åˆ†éš”çš„å¤šå­—ç¬¦. </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- è‹¥è®¾ç½®äº†ç¯å¢ƒå˜é‡ NUM_CPUS, åˆ™ foo = $NUM_CPUS, å¦åˆ™ foo = "1". å¦‚æœæ²¡æœ‰é»˜è®¤å€¼ 1, é‚£ä¹ˆ foo = "". --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">param</span> <span class="attr">name</span>=<span class="string">"foo"</span> <span class="attr">value</span>=<span class="string">"$(optenv NUM_CPUS 1)"</span> /&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- è‹¥è®¾ç½®äº†ç¯å¢ƒå˜é‡ CONFIG_PATH, åˆ™ foo = $CONFIG_PATH, å¦åˆ™ foo = "/home/marvin/ros_workspace". --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">param</span> <span class="attr">name</span>=<span class="string">"foo"</span> <span class="attr">value</span>=<span class="string">"$(optenv CONFIG_PATH /home/marvin/ros_workspace)"</span> /&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- è‹¥è®¾ç½®äº†ç¯å¢ƒå˜é‡ VARIABLE, åˆ™ foo = $VARIABLE, å¦åˆ™ foo = "ros rocks". å˜é‡å¯ä»¥åŒ…å«ç©ºæ ¼å­—ç¬¦ä¸². --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">param</span> <span class="attr">name</span>=<span class="string">"foo"</span> <span class="attr">value</span>=<span class="string">"$(optenv VARIABLE ros rocks)"</span> /&gt;</span></span><br></pre></td></tr></table></figure><h3 id="find-pkg"><a href="#find-pkg" class="headerlink" title="$(find pkg)"></a><code>$(find pkg)</code></h3><p>æŸ¥æ‰¾åŒ…è·¯å¾„.  ä¾‹å¦‚<code>$(find rospy)/manifest.xml</code>æŒ‡å®šåŒ…ç›¸å¯¹è·¯å¾„ã€‚åŒ…ç›®å½•çš„å®Œæ•´æ–‡ä»¶è·¯å¾„å°†è¢«å†…è”æ›¿æ¢ã€‚å¼ºçƒˆå»ºè®®ä½¿ç”¨åŒ…ç›¸å¯¹è·¯å¾„ï¼Œå› ä¸ºç¡¬ç¼–ç è·¯å¾„ä¼šé™åˆ¶å¯åŠ¨é…ç½®çš„å¯ç§»æ¤æ€§ã€‚å‰æ–œæ å’Œåæ–œæ å°†æŒ‰æƒ¯ä¾‹è¢«è§£æä¸ºæœ¬åœ°æ–‡ä»¶ç³»ç»Ÿã€‚</p><h3 id="anon-name"><a href="#anon-name" class="headerlink" title="$(anon name)"></a><code>$(anon name)</code></h3><p>äº§ç”ŸåŸºäºåç§°çš„åŒ¿åID, ä¸»è¦ç”¨äºèŠ‚ç‚¹åç§°å±æ€§ä¸­åˆ›å»ºåŒ¿åèŠ‚ç‚¹, å¹¶æ£€æŸ¥æ˜¯å¦æœ‰ç›¸åŒçš„åŒ¿ååå­—, å› ä¸ºROSä¸­åå­—ä½œä¸ºæ ‡è¯†ç¬¦è¦æ±‚å…·æœ‰å”¯ä¸€æ€§. å…¶ä¸­çš„anonæ˜¯anonymousçš„ç®€å†™. ä¾‹å¦‚ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">node</span> <span class="attr">name</span>=<span class="string">"$(anon talk_01)"</span> <span class="attr">pkg</span>=<span class="string">"rospy_tutorials"</span> <span class="attr">type</span>=<span class="string">"talker.py"</span> /&gt;</span>   </span><br><span class="line"><span class="tag">&lt;<span class="name">node</span> <span class="attr">name</span>=<span class="string">"$(anon talk_01)"</span> <span class="attr">pkg</span>=<span class="string">"rospy_tutorials"</span> <span class="attr">type</span>=<span class="string">"talker.py"</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>åˆ™ä¼šäº§ç”Ÿé”™è¯¯, å› ä¸ºç³»ç»Ÿæ£€æµ‹åˆ°äº†ä¸¤ä¸ªèŠ‚ç‚¹å…·æœ‰ç›¸åŒçš„åŒ¿ååå­—. </p><h3 id="arg-varible-name"><a href="#arg-varible-name" class="headerlink" title="$(arg varible_name)"></a><code>$(arg varible_name)</code></h3><p>è§£æç”±<code>&lt;arg&gt;</code>æ ‡ç­¾æŒ‡å®šçš„å˜é‡å€¼. å¿…é¡»åœ¨å£°æ˜<code>arg</code>çš„åŒä¸€å¯åŠ¨æ–‡ä»¶ä¸­æœ‰å¯¹åº”çš„<code>&lt;arg&gt;</code>æ ‡ç­¾ã€‚ ä¾‹å¦‚ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">param</span> <span class="attr">name</span>=<span class="string">"foo"</span> <span class="attr">value</span>=<span class="string">"$(arg my_foo)"</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>å°†<code>my_foo</code>çš„å€¼èµ‹ç»™å‚æ•°<code>foo</code>. è¿™æ ·åœ¨è§£æ<code>my_foo</code>çš„å€¼çš„æ—¶å€™æ‰èƒ½æ­£å¸¸è¿›è¡Œ. å°±å¦‚åŒä½ åœ¨è¡¨è¾¾å¼ä¸­ç”¨ä¸€ä¸ªå˜é‡è¿›è¡Œè®¡ç®—, ä½ å¿…é¡»åœ¨è®¡ç®—ä¹‹å‰å°±å·²ç»å®šä¹‰è¿‡è¿™ä¸ªå˜é‡æ‰å¯ä»¥. å†å¦‚ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">node</span> <span class="attr">name</span>=<span class="string">"add_two_ints_server"</span> <span class="attr">pkg</span>=<span class="string">"beginner_tutorials"</span> <span class="attr">type</span>=<span class="string">"add_two_ints_server"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">node</span> <span class="attr">name</span>=<span class="string">"add_two_ints_client"</span> <span class="attr">pkg</span>=<span class="string">"beginner_tutorials"</span> <span class="attr">type</span>=<span class="string">"add_two_ints_client"</span> <span class="attr">args</span>=<span class="string">"$(arg a) $(arg b)"</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>å…¶ä¸­çš„<code>$(arg a)</code>å’Œ<code>$(arg b)</code>åˆ™æ˜¯å¯¹èŠ‚ç‚¹æ‰€éœ€è¦çš„å˜é‡è¿›è¡Œå£°æ˜, è¿™æ ·ä½ åœ¨å¯¹èŠ‚ç‚¹è¿›è¡Œå‚æ•°ä¼ é€’çš„æ—¶å€™å°±å¯ä»¥ç”¨ä»¥ä¸‹ä»£ç è¿›è¡Œï¼š<br><code>roslaunch beginner_tutorials launch_file.launch a:=1 b:=5</code></p><h3 id="eval-lt-expression-gt-New-in-Kinetic"><a href="#eval-lt-expression-gt-New-in-Kinetic" class="headerlink" title="$(eval &lt;expression&gt;) New in Kinetic"></a><code>$(eval &lt;expression&gt;)</code> <strong>New in Kinetic</strong></h3><p>å…è®¸è®¡ç®—ä»»æ„å¤æ‚çš„<code>python</code>è¡¨è¾¾å¼. ä¾‹å¦‚ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">param</span> <span class="attr">name</span>=<span class="string">"circumference"</span> <span class="attr">value</span>=<span class="string">"$(eval 2. * 3. 1415 * arg('radius'))"</span>/&gt;</span></span><br></pre></td></tr></table></figure><p>ä¼šæ ¹æ®ç»™å®šçš„<code>radius</code>è¿›è¡Œè®¡ç®—åå°†ç»“æœèµ‹ç»™<code>circumference</code>. ä½œä¸ºé™åˆ¶, <code>$(eval)</code>çš„ä½œç”¨èŒƒå›´è¦è·¨è¶Šè¡¨ç¤ºæ•´ä¸ªè¡¨è¾¾å¼çš„å­—ç¬¦ä¸², å¦‚æœåœ¨å…¶ä¸­æ’å…¥å…¶å®ƒå±æ€§æ˜¯ä¸å¯è¡Œçš„. ä¾‹å¦‚ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">param</span> <span class="attr">name</span>=<span class="string">"a_name"</span> <span class="attr">value</span>=<span class="string">"$(arg r_dis) $(eval 6*7) bar"</span>/&gt;</span></span><br></pre></td></tr></table></figure><p>æ˜¯ä¸å¯è¡Œçš„. ä¸ºäº†å¼¥è¡¥è¿™ä¸ªé™åˆ¶ï¼Œæ‰€æœ‰çš„æ›¿æ¢å‘½ä»¤éƒ½å¯ä»¥ä½œä¸ºå‡½æ•°åœ¨evalä¸­ä½¿ç”¨:   </p><blockquote><p><code>&quot;$(eval arg(&#39;sth&#39;) + env(&#39;PATH&#39;) + &#39;bar&#39; + find(&#39;pkg&#39;))&quot;</code>  </p></blockquote><p>ä¸ºäº†æ–¹ä¾¿èµ·è§ï¼Œå‚æ•°ä¹Ÿæ˜¯éšå¼è§£æçš„ï¼Œå³ä»¥ä¸‹ä¸¤ä¸ªè¡¨è¾¾å¼æ˜¯ç›¸åŒçš„:  </p><blockquote><p><code>&quot;$(eval arg(&#39;foo&#39;))&quot;</code><br><code>&quot;$(eval foo)&quot;</code></p></blockquote><h2 id="IF-å’Œ-UNLESS-å±æ€§"><a href="#IF-å’Œ-UNLESS-å±æ€§" class="headerlink" title="IF å’Œ UNLESS å±æ€§"></a><code>IF</code> å’Œ <code>UNLESS</code> å±æ€§</h2><p>æ‰€æœ‰çš„æ ‡ç­¾éƒ½æ”¯æŒ<code>if</code>å’Œ<code>unless</code>å±æ€§, æ­¤ç±»å±æ€§æ˜¯åŸºäºè®¡ç®—çš„å€¼åŒ…å«æˆ–æ˜¯æ’é™¤ä¸€ä¸ªæ ‡ç­¾çš„å†…å®¹. </p><blockquote><p><code>if = value (optional)</code><br>å¦‚æœvalueçš„å€¼ä¸ºçœŸåˆ™åŒ…å«æ ‡ç­¾åŠå†…å®¹. </p><p><code>unless = value (optional)</code><br>å¦‚æœå€¼ä¸ºå‡, åˆ™åŒ…æ‹¬æ­¤å†…å®¹. </p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">group</span> <span class="attr">if</span>=<span class="string">"$(arg foo)"</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- stuff that will only be evaluated if foo is true --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">group</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">param</span> <span class="attr">name</span>=<span class="string">"foo"</span> <span class="attr">value</span>=<span class="string">"bar"</span> <span class="attr">unless</span>=<span class="string">"$(arg foo)"</span> /&gt;</span>  </span><br><span class="line"><span class="comment">&lt;!-- This param won't be set when "unless" condition is met --&gt;</span></span><br></pre></td></tr></table></figure><h2 id="å‚è€ƒæ ‡ç­¾"><a href="#å‚è€ƒæ ‡ç­¾" class="headerlink" title="å‚è€ƒæ ‡ç­¾"></a>å‚è€ƒæ ‡ç­¾</h2><h3 id="lt-launch-gt"><a href="#lt-launch-gt" class="headerlink" title="&lt;launch&gt;"></a><code>&lt;launch&gt;</code></h3><blockquote><p><code>&lt;launch&gt;</code>æ ‡ç­¾ä¸ºæ‰€æœ‰roslaunchæ–‡ä»¶çš„æ ¹æ ‡ç­¾, å¯ä»¥å°†å…¶ç†è§£ä¸ºæ‰€æœ‰å…¶å®ƒæ ‡ç­¾çš„å®¹å™¨. ä»¥ä¸‹ä¸º<code>&lt;launch&gt;</code>æ ‡ç­¾ä¸å…¶å®ƒæ ‡ç­¾çš„å…³ç³»ï¼š</p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">launch</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">node</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">param</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">remap</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">machine</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">rosparam</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">include</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">env</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">test</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">arg</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">group</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">launch</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="lt-node-gt"><a href="#lt-node-gt" class="headerlink" title="&lt;node&gt;"></a><code>&lt;node&gt;</code></h3><p>ç”¨æ¥å¯åŠ¨èŠ‚ç‚¹, ä½†ä¸ä¿è¯èŠ‚ç‚¹çš„å¯åŠ¨é¡ºåº. </p><h4 id="å±æ€§"><a href="#å±æ€§" class="headerlink" title="å±æ€§"></a>å±æ€§</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">pkg="mypackage"</span><br><span class="line"><span class="comment">&lt;!--æŒ‡å®šæ‰€ç”¨çš„åŒ…--&gt;</span></span><br><span class="line"></span><br><span class="line">type="nodetype"</span><br><span class="line"><span class="comment">&lt;!--æŒ‡å®šå¯¹åº”çš„å¯æ‰§è¡Œç¨‹åºçš„åå­—--&gt;</span></span><br><span class="line"></span><br><span class="line">name="nodename"</span><br><span class="line"><span class="comment">&lt;!--æŒ‡å®šèŠ‚ç‚¹åç§°, ä½†ä¸èƒ½åœ¨è¿™é‡ŒåŠ å…¥å‘½åç©ºé—´åç§°--&gt;</span></span><br><span class="line"></span><br><span class="line">args="arg1 arg2 arg3"</span><br><span class="line"><span class="comment">&lt;!--å£°æ˜æˆ–ä¼ é€’å‚æ•°(optional)--&gt;</span></span><br><span class="line"></span><br><span class="line">machine="machine-name"</span><br><span class="line"><span class="comment">&lt;!--åœ¨æŒ‡å®šçš„æœºå™¨ä¸Šå¯åŠ¨èŠ‚ç‚¹(optional)--&gt;</span></span><br><span class="line"></span><br><span class="line">respawn="true"</span><br><span class="line"><span class="comment">&lt;!--å¦‚æœèŠ‚ç‚¹å¤±è´¥åˆ™é‡æ–°å¯åŠ¨(optional)--&gt;</span></span><br><span class="line"></span><br><span class="line">respawn_delay="30" </span><br><span class="line"><span class="comment">&lt;!--å¦‚æœä¸Šrospawnå±æ€§ä¸ºçœŸ, åˆ™ç­‰å¾…ä¸€å®šçš„æ—¶é—´ä¹‹åé‡æ–°å¯åŠ¨èŠ‚ç‚¹(optional, New in indigo)--&gt;</span></span><br><span class="line"></span><br><span class="line">required="true"</span><br><span class="line"><span class="comment">&lt;!--å°†èŠ‚ç‚¹å®šä¹‰ä¸ºå¿…éœ€èŠ‚ç‚¹, å¦‚æœæœ¬èŠ‚ç‚¹å¤±æ•ˆ, åˆ™å…³é—­æ•´ä¸ªæ–‡ä»¶(optional)--&gt;</span></span><br><span class="line"></span><br><span class="line">ns="nnss"</span><br><span class="line"><span class="comment">&lt;!--åœ¨ä¸€ä¸ªå‘½åç©ºé—´ä¸­å¯åŠ¨èŠ‚ç‚¹(optional)--&gt;</span></span><br><span class="line"></span><br><span class="line">clear_params="true|false"</span><br><span class="line"><span class="comment">&lt;!--åœ¨èŠ‚ç‚¹å¯åŠ¨ä¹‹å‰æ˜¯å¦æ¸…ç©ºæ‰€åœ¨å‘½åç©ºé—´ä¸­çš„å˜é‡(optional)--&gt;</span></span><br><span class="line"></span><br><span class="line">output="log|screen"</span><br><span class="line"><span class="comment">&lt;!--æŒ‡å®šè¾“å‡ºçš„å¯¹è±¡(optional)--&gt;</span></span><br><span class="line"></span><br><span class="line">cwd="ROS_HOME|node"</span><br><span class="line"><span class="comment">&lt;!--æŒ‡å®šnodeåˆ™èŠ‚ç‚¹å·¥ä½œè·¯å¾„ä¸å…¶å¯æ‰§è¡Œç¨‹åºè·¯å¾„ç›¸åŒ(optional)--&gt;</span></span><br><span class="line"></span><br><span class="line">launch-prefix="prefix arguments"</span><br><span class="line"><span class="comment">&lt;!--é¢„å…ˆå¤„ç†æŒ‡ä»¤æˆ–å‚æ•°(optional, æ”¯æŒå¤šç§å·¥å…·)--&gt;</span></span><br></pre></td></tr></table></figure><h4 id="å…ƒç´ "><a href="#å…ƒç´ " class="headerlink" title="å…ƒç´ "></a>å…ƒç´ </h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">node</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">env</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">remap</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">rosparam</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">param</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">node</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="lt-param-gt"><a href="#lt-param-gt" class="headerlink" title="&lt;param&gt;"></a><code>&lt;param&gt;</code></h3><p>ç”¨äºåœ¨å‚æ•°æœåŠ¡å™¨ä¸­å®šä¹‰å‚æ•°. å…¶å±æ€§å‚æ•°å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">name="namespace/name"</span><br><span class="line"><span class="comment">&lt;!-- å‚æ•°åç§°. åœ¨è¿™ä¸ªåç§°å®šä¹‰ä¸­æ˜¯å¯ä»¥ä½¿ç”¨å‘½åç©ºé—´çš„, è€Œåœ¨nodeçš„åç§°å®šä¹‰ä¸­ä¸èƒ½ä½¿ç”¨å‘½åç©ºé—´, è¿™ä¸ªæ˜¯æœ‰åŒºåˆ«çš„. ä½†æ˜¯åº”è¯¥é¿å…æŒ‡å®šå…¨å±€çš„åç§°.  --&gt;</span></span><br><span class="line"></span><br><span class="line">value="value"</span><br><span class="line"><span class="comment">&lt;!-- å®šä¹‰å‚æ•°çš„å€¼, å¦‚æœè¿™ä¸€å±æ€§å¿½ç•¥æ‰äº†, ä½†å¿…é¡»æŒ‡å®š binfile, textfile or command.  --&gt;</span></span><br><span class="line"></span><br><span class="line">type="str|int|double|bool|yaml"</span><br><span class="line"><span class="comment">&lt;!-- æŒ‡å®šå‚æ•°çš„ç±»å‹(optional), å¦‚æœä¸æŒ‡å®šåˆ™ä¼šè‡ªåŠ¨è¯†åˆ«ç±»å‹, è§„åˆ™å¦‚ä¸‹ï¼š</span></span><br><span class="line"><span class="comment">1. æœ‰â€œ. â€çš„è®¤ä¸ºæ˜¯æµ®ç‚¹æ•°, æ²¡æœ‰çš„åˆ™è®¤ä¸ºæ˜¯æ•´å‹. </span></span><br><span class="line"><span class="comment">2. â€trueâ€ å’Œ â€œfalseâ€ è¢«è®¤ä¸ºæ˜¯é€»è¾‘å˜é‡ (not case-sensitive). </span></span><br><span class="line"><span class="comment">3. å…¶å®ƒçš„æ‰€æœ‰éƒ½ä¸ºstringå‹.  --&gt;</span></span><br><span class="line"></span><br><span class="line">textfile="$(find pkg-name)/path/file.txt"</span><br><span class="line"><span class="comment">&lt;!-- æ–‡ä»¶çš„å†…å®¹è¢«å­˜å‚¨ä¸ºstringç±»å‹ç”¨ä»¥æ›¿ä»£ç›®æ ‡å˜é‡(optional). è¯¥æ–‡ä»¶å¿…é¡»æ˜¯æœ¬åœ°å¯è®¿é—®çš„, ä½†æ˜¯å¼ºçƒˆå»ºè®®ä½¿ç”¨åŒ…ç›¸å¯¹è·¯å¾„$(find)/file.txtçš„è¯­æ³•æ¥æŒ‡å®šä½ç½®ã€‚  --&gt;</span></span><br><span class="line"></span><br><span class="line">binfile="$(find pkg-name)/path/file"</span><br><span class="line"><span class="comment">&lt;!-- å†…å®¹å°†è¢«å­˜å‚¨ä¸º base64-encoded XML-RPC äºŒè¿›åˆ¶å¯¹è±¡ç”¨ä»¥æ›¿ä»£ç›®æ ‡å˜é‡(optional). åŒä¸Šå»ºè®®ç›¸å¯¹è·¯å¾„æŒ‡å®šä½ç½® --&gt;</span></span><br><span class="line"></span><br><span class="line">command="$(find pkg-name)/exe '$(find pkg-name)/arg. txt'"(optional)</span><br><span class="line"><span class="comment">&lt;!-- æ‰§è¡ŒæŸé¡¹å‘½ä»¤, å‘½ä»¤çš„è¾“å‡ºå°†è¢«å­˜å‚¨ä¸ºä¸€ä¸ªstringç±»å‹ä»¥æ›¿ä»£ç›®æ ‡å˜é‡. æ–‡ä»¶çš„è·¯å¾„å˜é‡éœ€è¦ç”¨å•å¼•å·åŒ…æ‹¬.  --&gt;</span></span><br></pre></td></tr></table></figure><h4 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- åœ¨å‚æ•°æœåŠ¡å™¨ä¸­å®šä¹‰åç§°ä¸ºï¼špublish_frequency, ç±»å‹ä¸ºï¼šdouble, å€¼ä¸ºï¼š10.0 çš„å˜é‡.  --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">param</span> <span class="attr">name</span>=<span class="string">"publish_frequency"</span> <span class="attr">type</span>=<span class="string">"double"</span> <span class="attr">value</span>=<span class="string">"10.0"</span> /&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- å¦‚æœæ˜¯åŠ è½½ YAML æ–‡ä»¶å¯ä»¥ç”¨ä»¥ä¸‹ä»£ç ï¼Œå…¶ä¸­çš„ file å±æ€§è¦æŒ‡å®šè·¯å¾„å’Œæ–‡ä»¶å.  --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">rosparam</span> <span class="attr">command</span>=<span class="string">"load"</span> <span class="attr">file</span>=<span class="string">"FILENAME"</span> /&gt;</span></span><br></pre></td></tr></table></figure><h3 id="lt-rosparam-gt"><a href="#lt-rosparam-gt" class="headerlink" title="&lt;rosparam&gt;"></a><code>&lt;rosparam&gt;</code></h3><p>æ”¯æŒä»<code>YAML</code>æ–‡ä»¶è¯»å–ä¸å¸è½½å‚æ•°.</p><h4 id="å±æ€§-1"><a href="#å±æ€§-1" class="headerlink" title="å±æ€§"></a>å±æ€§</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- rosparamçš„å‘½ä»¤, å¯ä»¥æŒ‡å®š åŠ è½½|å¸è½½|åˆ é™¤ å¯¹åº”çš„å‚æ•°.  --&gt;</span></span><br><span class="line">command="load|dump|delete" (optional, default=load)</span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- æŒ‡å®šæ–‡ä»¶æ‰€è¦æ±‚çš„è·¯å¾„.  --&gt;</span></span><br><span class="line">file="$(find pkg-name)/path/my. yaml" (load or dump commands)</span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- å‚æ•°åç§° --&gt;</span></span><br><span class="line">param="param-name"</span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- è®¾å®šå‚æ•°ç»™æŒ‡å®šçš„å‘½åç©ºé—´ï¼ˆè®¾å®šå‚æ•°çš„ä½œç”¨åŸŸï¼‰ --&gt;</span></span><br><span class="line">ns="namespace" (optional)</span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- æ˜¯å¦è¿å…è®¸ä½¿ç”¨YAMLæ–‡ä»¶ä¸­ç½®æ¢å‚æ•° --&gt;</span></span><br><span class="line">subst_value=true|false (optional)</span><br></pre></td></tr></table></figure><h4 id="ä¾‹å­-1"><a href="#ä¾‹å­-1" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- åŠ è½½.yamlæ–‡ä»¶ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">rosparam</span> <span class="attr">command</span>=<span class="string">"load"</span> <span class="attr">file</span>=<span class="string">"$(find rosparam)/example.yaml"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- å¸è½½.yamlæ–‡ä»¶ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">rosparam</span> <span class="attr">command</span>=<span class="string">"delete"</span> <span class="attr">param</span>=<span class="string">"my/param"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- å®šä¹‰ä¸€ä¸ªå˜é‡ a_list, è€Œå˜é‡çš„å€¼å³ä¸ºæ ‡ç­¾ä¹‹é—´çš„æ‰€æœ‰å†…å®¹, å³ a_list = [1, 2, 3, 4, 5] --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">rosparam</span> <span class="attr">param</span>=<span class="string">"a_list"</span>&gt;</span>[1, 2, 3, 4]<span class="tag">&lt;/<span class="name">rosparam</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">rosparam</span>&gt;</span></span><br><span class="line">  a: 1</span><br><span class="line">  b: 2</span><br><span class="line"><span class="tag">&lt;/<span class="name">rosparam</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- å‚æ•°ç½®æ¢å…è®¸æ‚¨ä½¿ç”¨ roslaunch args æ¥è¡¨ç¤ºä¸€ä¸ª YAML å­—ç¬¦ä¸²çš„å…¨éƒ¨æˆ–éƒ¨åˆ† --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- å¦‚æœsubst_valueä¸ºfalse, è¡¨ç¤ºä¸å…è®¸ä½¿ç”¨æ›¿ä»£æ ‡ç­¾, åˆ™è¾“å‡ºçš„blackliståªæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²$(arg whitelist); ä½†å¦‚æœä¸ºtrueåˆ™è¡¨ç¤ºå…è®¸ä½¿ç”¨æ›¿ä»£æ ‡ç­¾, åˆ™blacklistè¾“å‡ºçš„å€¼ä¸º[3, 2].  --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">arg</span> <span class="attr">name</span>=<span class="string">"whitelist"</span> <span class="attr">default</span>=<span class="string">"[3, 2]"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">rosparam</span> <span class="attr">param</span>=<span class="string">"whitelist"</span> <span class="attr">subst_value</span>=<span class="string">"True"</span>&gt;</span>$(arg whitelist)<span class="tag">&lt;/<span class="name">rosparam</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- å®ƒä»¬å¯¹äºåœ¨yamlå­—ç¬¦ä¸²ä¸­åµŒå…¥$(findâ€¦)å’Œå…¶ä»–æ›¿æ¢æ¨¡å¼ä¹Ÿå¾ˆæœ‰ç”¨ã€‚ --&gt;</span></span><br></pre></td></tr></table></figure><h3 id="lt-remap-gt"><a href="#lt-remap-gt" class="headerlink" title="&lt;remap&gt;"></a><code>&lt;remap&gt;</code></h3><p>ç”¨æ¥é€šè¿‡åç§°è¿›è¡Œå‚æ•°ä¹‹é—´çš„æ˜ å°„. å…¶å±æ€§å¦‚ä¸‹ï¼š</p><h4 id="å±æ€§-2"><a href="#å±æ€§-2" class="headerlink" title="å±æ€§"></a>å±æ€§</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">from="original-name"</span><br><span class="line"><span class="comment">&lt;!-- æŒ‡å®šèŠ‚ç‚¹åŸæ¥è¦ç›‘å¬çš„è¯é¢˜çš„åç§°.  --&gt;</span></span><br><span class="line"></span><br><span class="line">to="new-name"</span><br><span class="line"><span class="comment">&lt;!-- æŒ‡å®šèŠ‚ç‚¹å®é™…è¦ç›‘å¬çš„è¯é¢˜çš„åç§°.  --&gt;</span></span><br></pre></td></tr></table></figure><h4 id="ä¾‹å­-2"><a href="#ä¾‹å­-2" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">remap</span> <span class="attr">from</span>=<span class="string">"chatter"</span> <span class="attr">to</span>=<span class="string">"hello"</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- æ­¤è¡Œä»£ç è¡¨æ˜è¦å°†åŸæ¥åº”ç›‘å¬chatterè¯é¢˜çš„èŠ‚ç‚¹æ”¹åˆ°ç›‘å¬helloè¯é¢˜.  --&gt;</span></span><br></pre></td></tr></table></figure><h3 id="lt-machine-gt"><a href="#lt-machine-gt" class="headerlink" title="&lt;machine&gt;"></a><code>&lt;machine&gt;</code></h3><p><code>&lt;machine&gt;</code>æ ‡ç­¾å£°æ˜ä¸€å°å¯ä»¥è¿è¡Œ<code>ROS</code>èŠ‚ç‚¹çš„æœºå™¨ã€‚å¦‚æœåœ¨æœ¬åœ°å¯åŠ¨æ‰€æœ‰èŠ‚ç‚¹ï¼Œåˆ™ä¸éœ€è¦æ­¤æ ‡ç­¾ã€‚å®ƒä¸»è¦ç”¨äºå£°æ˜è¿œç¨‹æœºå™¨çš„<code>SSH</code>å’Œ<code>ROS</code>ç¯å¢ƒå˜é‡è®¾ç½®ï¼Œä¸è¿‡æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨å®ƒæ¥å£°æ˜å…³äºæœ¬åœ°æœºå™¨çš„ä¿¡æ¯ã€‚</p><h4 id="å±æ€§-3"><a href="#å±æ€§-3" class="headerlink" title="å±æ€§"></a>å±æ€§</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">name="machine-name"</span><br><span class="line"><span class="comment">&lt;!-- è¦åˆ†é…ç»™æœºå™¨çš„åç§°ã€‚è¿™å¯¹åº”äº&lt;node&gt;æ ‡è®°çš„machineå±æ€§çš„åç§°ã€‚ --&gt;</span></span><br><span class="line"></span><br><span class="line">address="blah.willowgarage.com"</span><br><span class="line"><span class="comment">&lt;!-- æœºå™¨çš„è¿œç¨‹åœ°å€æˆ–ä¸»æœºå --&gt;</span></span><br><span class="line"></span><br><span class="line">env-loader="/opt/ros/fuerte/env.sh" </span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- New in Fuerte. æŒ‡å®šè¿œç¨‹è®¡ç®—æœºä¸Šçš„ç¯å¢ƒæ–‡ä»¶ã€‚ç¯å¢ƒæ–‡ä»¶å¿…é¡»æ˜¯ä¸€ä¸ªè®¾ç½®äº†æ‰€æœ‰éœ€è¦ç¯å¢ƒå˜é‡çš„shellè„šæœ¬ï¼Œå¹¶æä¾›å‚æ•°æ‰§è¡Œexec --&gt;</span></span><br><span class="line"></span><br><span class="line">default="true|false|never" (optional)</span><br><span class="line"><span class="comment">&lt;!-- å°†æ­¤æœºå™¨è®¾ç½®ä¸ºèŠ‚ç‚¹çš„é»˜è®¤åˆ†é…æœºå™¨ã€‚é»˜è®¤è®¾ç½®åªé€‚ç”¨äºåç»­åœ¨åŒä¸€èŒƒå›´å†…å®šä¹‰çš„èŠ‚ç‚¹ã€‚æ³¨æ„:å¦‚æœæ²¡æœ‰é»˜è®¤æœºå™¨ï¼Œåˆ™ä½¿ç”¨æœ¬åœ°æœºå™¨ã€‚å¯ä»¥é€šè¿‡è®¾ç½®default="never"æ¥é˜»æ­¢æœºå™¨è¢«é€‰ä¸­ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåªèƒ½æ˜¾å¼åœ°åˆ†é…æœºå™¨ã€‚ --&gt;</span></span><br><span class="line"></span><br><span class="line">user="username" (optional)</span><br><span class="line"><span class="comment">&lt;!-- ç™»å½•æœºå™¨çš„sshç”¨æˆ·å, å¦‚æœä¸éœ€è¦å¯ä»¥å¿½ç•¥ --&gt;</span></span><br><span class="line"></span><br><span class="line">password="passwhat"(strongly discouraged)</span><br><span class="line"><span class="comment">&lt;!-- sshç™»å½•å¯†ç ã€‚å¼ºçƒˆå»ºè®®æ‚¨é…ç½®SSHå¯†é’¥å’ŒSSHä»£ç†ï¼Œè¿™æ ·æ‚¨å°±å¯ä»¥ä½¿ç”¨è¯ä¹¦ç™»å½•äº† --&gt;</span></span><br><span class="line"></span><br><span class="line">timeout="10.0" (optional)</span><br><span class="line"><span class="comment">&lt;!-- ç™»å½•è¶…æ—¶æ£€æµ‹æ—¶é—´ï¼Œé»˜è®¤è®¾ç½®ä¸º10ç§’ã€‚è™½ç„¶æ‚¨å¯ä»¥ä½¿ç”¨æ­¤è®¾ç½®æ¥å…è®¸è¾ƒæ…¢çš„è¿æ¥ï¼Œä½†éœ€è¦æ›´æ”¹æ­¤å‚æ•°é€šå¸¸æ˜¯æ‚¨çš„æ•´ä¸ªROSå›¾å°†å‡ºç°é€šä¿¡é—®é¢˜çš„ç—‡çŠ¶ï¼ˆWhile you can use this setting to allow for slower connections, needing to change this parameter is generally a symptom that your overall ROS graph will have communication issues.ï¼‰ --&gt;</span></span><br></pre></td></tr></table></figure><h4 id="ä¾‹å­-3"><a href="#ä¾‹å­-3" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h4><p>ä¸‹é¢çš„ç¤ºä¾‹æ˜¾ç¤ºå¦‚ä½•é…ç½®èŠ‚ç‚¹â€œfootalkerâ€æ¥è¿è¡Œå¦ä¸€å°æœºå™¨ã€‚å®ƒä½¿ç”¨Fuerteé™„å¸¦çš„é»˜è®¤çš„env-loaderæ–‡ä»¶ã€‚æ³¨ï¼š<strong><code>Basic (ROS Fuerte and later) using env-loader</code></strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">launch</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">machine</span> <span class="attr">name</span>=<span class="string">"foo"</span> <span class="attr">address</span>=<span class="string">"foo-address"</span> <span class="attr">env-loader</span>=<span class="string">"/opt/ros/fuerte/env.sh"</span> <span class="attr">user</span>=<span class="string">"someone"</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">node</span> <span class="attr">machine</span>=<span class="string">"foo"</span> <span class="attr">name</span>=<span class="string">"footalker"</span> <span class="attr">pkg</span>=<span class="string">"test_ros"</span> <span class="attr">type</span>=<span class="string">"talker.py"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">launch</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯ä¸€ä¸ªev -loaderè„šæœ¬ç¤ºä¾‹ã€‚å¦‚æœä½ æƒ³ä½¿ç”¨ä¸åŒçš„ç¯å¢ƒé…ç½®, å°†/opt/ros/fuerte/setup.shæ›¿æ¢ä¸ºå¦å¤–çš„å®‰è£…æ–‡ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"></span><br><span class="line">./opt/ros/fuerte/setup.sh</span><br><span class="line"><span class="built_in">exec</span> <span class="string">"<span class="variable">$@</span>"</span></span><br></pre></td></tr></table></figure><p>æ­¤å¤–ï¼Œå¦‚æœè¦ä»<code>rosws</code>å·¥ä½œç©ºé—´ä¸­åŠ è½½æºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/env bash</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">source</span> /home/username/path/to/workspace/setup.bash</span><br><span class="line"><span class="built_in">exec</span> <span class="string">"<span class="variable">$@</span>"</span></span><br></pre></td></tr></table></figure><h3 id="lt-include-gt"><a href="#lt-include-gt" class="headerlink" title="&lt;include&gt;"></a><code>&lt;include&gt;</code></h3><p><code>&lt;include&gt;</code>æ ‡è®°å…è®¸æ‚¨å°†å¦ä¸€ä¸ª<code>roslaunch XML</code>æ–‡ä»¶å¯¼å…¥å½“å‰æ–‡ä»¶ã€‚å®ƒå°†è¢«å¯¼å…¥åˆ°å½“å‰çš„æ–‡æ¡£èŒƒå›´ï¼ŒåŒ…æ‹¬<code>&lt;group&gt;</code>å’Œ<code>&lt;remap&gt;</code>æ ‡ç­¾ã€‚é™¤äº†<code>&lt;master&gt;</code>æ ‡è®°å¤–ï¼Œ<code>include</code>æ–‡ä»¶ä¸­çš„æ‰€æœ‰å†…å®¹éƒ½å°†è¢«å¯¼å…¥ã€‚<code>&lt;master&gt;</code>æ ‡ç­¾ä»…åœ¨é¡¶çº§æ–‡ä»¶ä¸­è¢«éµå®ˆã€‚</p><h4 id="å±æ€§-4"><a href="#å±æ€§-4" class="headerlink" title="å±æ€§"></a>å±æ€§</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">file="$(find pkg-name)/path/filename.xml"</span><br><span class="line"><span class="comment">&lt;!-- æŒ‡å®šè¦åŒ…å«çš„æ–‡ä»¶è·¯å¾„.  --&gt;</span></span><br><span class="line"></span><br><span class="line">ns="namespace_name" (optional)</span><br><span class="line"><span class="comment">&lt;!-- æŒ‡å®šè¦å¯¼å…¥æ–‡ä»¶çš„å‘½åç©ºé—´.  --&gt;</span></span><br><span class="line"></span><br><span class="line">clear_params="true|false" (optional Default: false)</span><br><span class="line"><span class="comment">&lt;!-- åœ¨æ–‡ä»¶åŠ è½½ä¹‹å‰åˆ é™¤&lt;include&gt;çš„å‘½åç©ºé—´ä¸­çš„æ‰€æœ‰å‚æ•°, ç¼ºçœä¸ºfalse, æ­¤å‚æ•°è¦è°¨æ…ä½¿ç”¨, ç”¨ä¹‹å‰è¦æ ¸å¯¹å¥½å‘½åç©ºé—´åç§°.  --&gt;</span></span><br><span class="line"></span><br><span class="line">pass_all_args="true|false" (optional Default: false) </span><br><span class="line"><span class="comment">&lt;!-- å¦‚æœä¸ºtrueï¼Œæ‰€æœ‰å½“å‰ä¸Šä¸‹æ–‡çš„argså°†è¢«åŠ å…¥åˆ°åœ¨å¤„ç†&lt;include&gt;æ–‡ä»¶æ—¶åˆ›å»ºçš„å­ä¸Šä¸‹æ–‡ä¸­.  --&gt;</span></span><br></pre></td></tr></table></figure><h4 id="å…ƒç´ ï¼š"><a href="#å…ƒç´ ï¼š" class="headerlink" title="å…ƒç´ ï¼š"></a>å…ƒç´ ï¼š</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">include</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">env</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">arg</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="lt-env-gt"><a href="#lt-env-gt" class="headerlink" title="&lt;env&gt;"></a><code>&lt;env&gt;</code></h3><p>æ­¤æ ‡ç­¾ç”¨æ¥è®¾ç½®å°†è¦å¯åŠ¨çš„èŠ‚ç‚¹çš„ç¯å¢ƒå˜é‡, å…¶å¯ä»¥åœ¨<code>&lt;launch&gt;</code>, <code>&lt;include&gt;</code>, <code>&lt;node&gt;</code>å’Œ<code>&lt;machine&gt;</code>æ ‡ç­¾ä¸­ä½¿ç”¨. å½“åœ¨<code>&lt;launch&gt;</code>ä¸­ä½¿ç”¨æ—¶, <code>&lt;env&gt;</code>æ ‡ç­¾ä½œç”¨äºå…¶åå£°æ˜çš„æ‰€æœ‰èŠ‚ç‚¹. ä½†æ˜¯ç”¨æ­¤æ ‡ç­¾å£°æ˜çš„ç¯å¢ƒå˜é‡å¯¹äº<code>$(env â€¦)</code>ä¸å¯è§, æ‰€ä»¥å¹¶ä¸èƒ½ç”¨<code>$(env â€¦)</code>å¯¹å…¶å®ƒå˜é‡çš„å€¼è¿›è¡Œç½®æ¢, æ‰€ä»¥<code>&lt;env&gt;</code>æ ‡ç­¾ä¸èƒ½ç”¨æ¥å‚æ•°åŒ–launchæ–‡ä»¶.</p><h4 id="å±æ€§-5"><a href="#å±æ€§-5" class="headerlink" title="å±æ€§"></a>å±æ€§</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">name="environment-variable-name"</span><br><span class="line"><span class="comment">&lt;!-- æ­¤å±æ€§ç”¨æ¥è®¾ç½®ç¯å¢ƒå˜é‡åç§°.  --&gt;</span></span><br><span class="line"></span><br><span class="line">value="environment-variable-value"</span><br><span class="line"><span class="comment">&lt;!-- æ­¤å±æ€§ç”¨æ¥è®¾ç½®ç¯å¢ƒå˜é‡å€¼.  --&gt;</span></span><br></pre></td></tr></table></figure><h3 id="lt-test-gt"><a href="#lt-test-gt" class="headerlink" title="&lt;test&gt;"></a><code>&lt;test&gt;</code></h3><p><code>&lt;test&gt;</code>æ ‡ç­¾åœ¨è¯­æ³•ä¸Šç±»ä¼¼äº<code>&lt;node&gt;</code>æ ‡ç­¾, éƒ½æ˜¯æŒ‡å®šä¸€ä¸ª<code>ROS</code>èŠ‚ç‚¹è¿è¡Œ, ä½†æ˜¯<code>&lt;test&gt;</code>æ ‡ç­¾è¡¨æ˜å½“å‰è¦è¿è¡Œçš„èŠ‚ç‚¹æ˜¯ä¸€ä¸ªæµ‹è¯•èŠ‚ç‚¹. </p><p><code>&lt;test&gt;</code>ä¸<code>&lt;node&gt;</code>å…·æœ‰å¤§éƒ¨åˆ†ç›¸åŒçš„å±æ€§, ä½†ä»¥ä¸‹å†…å®¹æ˜¯ä¸åŒçš„ï¼š  </p><ul><li>æ²¡æœ‰respawnå±æ€§ (æµ‹è¯•èŠ‚ç‚¹å¿…é¡»è¦è¢«ç»ˆæ­¢, æ‰€ä»¥å®ƒä»¬æ²¡æœ‰é‡å¯å±æ€§)</li><li>æ²¡æœ‰è¾“å‡ºå±æ€§, å› ä¸ºæµ‹è¯•èŠ‚ç‚¹æœ‰å…¶è¾“å‡ºè®°å½•æœºåˆ¶. </li><li>Machineå±æ€§è¢«å¿½ç•¥. </li></ul><h4 id="å±æ€§-6"><a href="#å±æ€§-6" class="headerlink" title="å±æ€§"></a>å±æ€§</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">pkg="mypackage"</span><br><span class="line"><span class="comment">&lt;!-- è¿™ä¸€å±æ€§æ˜¯å¿…éœ€çš„å±æ€§, æŒ‡å®šèŠ‚ç‚¹çš„åŒ…åç§°.  --&gt;</span></span><br><span class="line"></span><br><span class="line">test-name="test_name"</span><br><span class="line"><span class="comment">&lt;!-- å¿…é¡»çš„å±æ€§, æŒ‡å®šæµ‹è¯•èŠ‚ç‚¹çš„åç§°.  --&gt;</span></span><br><span class="line"></span><br><span class="line">type="nodetype"</span><br><span class="line"><span class="comment">&lt;!-- å¿…é¡»çš„å±æ€§, æŒ‡å®šæµ‹è¯•èŠ‚ç‚¹æ‰€å¯¹åº”çš„å¯æ‰§è¡Œç¨‹åºåç§°.  --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- æ ‡ç­¾å¯é€‰æ‹©çš„å±æ€§å¦‚ä¸‹ï¼š --&gt;</span></span><br><span class="line">name="nodename"</span><br><span class="line"><span class="comment">&lt;!-- èŠ‚ç‚¹åç§°. PS:åç§°ä¸­ä¸èƒ½åŒ…å«å‘½åç©ºé—´, å¦‚æœè¦æŒ‡å®šè¦ä½¿ç”¨nså±æ€§, å¦‚æœæ­¤å±æ€§æœªæŒ‡å®š, åˆ™test-nameå°†è¢«ä½œä¸ºèŠ‚ç‚¹åç§°.  --&gt;</span></span><br><span class="line"></span><br><span class="line">args="arg1 arg2 arg3"</span><br><span class="line"><span class="comment">&lt;!-- ç”¨æµ‹è¯•èŠ‚ç‚¹ä¼ é€’å‚æ•°.  --&gt;</span></span><br><span class="line"></span><br><span class="line">clear_params="true|false"</span><br><span class="line"><span class="comment">&lt;!-- å¦‚æœæ˜¯true, åˆ™åœ¨å¯åŠ¨ä¹‹å‰æ¸…ç©ºå½“å‰èŠ‚ç‚¹ç§æœ‰å‘½åç©ºé—´ä¸­çš„å…¨éƒ¨å‚æ•°.  --&gt;</span></span><br><span class="line"></span><br><span class="line">cwd="ROS_HOME|node"</span><br><span class="line"><span class="comment">&lt;!-- æŒ‡å®šå·¥ä½œè·¯å¾„. å¦‚æœæ˜¯nodeåˆ™èŠ‚ç‚¹çš„å·¥ä½œç›®å½•ä¸èŠ‚ç‚¹çš„å¯æ‰§è¡Œç¨‹åºç›®å½•ç›¸åŒ.  --&gt;</span></span><br><span class="line"></span><br><span class="line">launch-prefix="prefix arguments"</span><br><span class="line"><span class="comment">&lt;!-- èŠ‚ç‚¹å¯åŠ¨ä¹‹å‰çš„é¢„ç½®å‚æ•°æˆ–å‘½ä»¤.  --&gt;</span></span><br><span class="line"></span><br><span class="line">ns="namespace_name"</span><br><span class="line"><span class="comment">&lt;!-- åœ¨æŒ‡å®šçš„å‘½åç©ºé—´ä¸­å¯åŠ¨èŠ‚ç‚¹.  --&gt;</span></span><br><span class="line"></span><br><span class="line">retry="0"</span><br><span class="line"><span class="comment">&lt;!-- ç”¨äºæœ‰æ—¶å¯èƒ½å¤±æ•ˆçš„éšæœºè¿‡ç¨‹, è®¾ç½®é‡æ–°å°è¯•çš„æ¬¡æ•°.  --&gt;</span></span><br><span class="line"></span><br><span class="line">time-limit="60. 0"</span><br><span class="line"><span class="comment">&lt;!-- è®¤å®šèŠ‚ç‚¹å¯åŠ¨å¤±è´¥ä¹‹å‰è¦ç»å†çš„æ—¶é—´, ç¼ºçœä¸º60s.  --&gt;</span></span><br></pre></td></tr></table></figure><h4 id="ä¾‹å­-4"><a href="#ä¾‹å­-4" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">test</span> <span class="attr">test-name</span>=<span class="string">"test"</span> <span class="attr">pkg</span>=<span class="string">"mypkg"</span> <span class="attr">type</span>=<span class="string">"test. py"</span> <span class="attr">time-limit</span>=<span class="string">"10. 0"</span> <span class="attr">args</span>=<span class="string">"--test1 --test2"</span> /&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- ä¸Šè¡Œä»£ç æŒ‡å®šè¦æµ‹è¯•çš„èŠ‚ç‚¹çš„åç§°, åŒ…åç§°, å¯æ‰§è¡Œç¨‹åºåç§°, æµ‹è¯•æ—¶é—´è·¨åº¦å’Œè¦ä¼ é€’çš„å‚æ•° --&gt;</span></span><br></pre></td></tr></table></figure><h4 id="å…ƒç´ -1"><a href="#å…ƒç´ -1" class="headerlink" title="å…ƒç´ "></a>å…ƒç´ </h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">test</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">env</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">remap</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">rosparam</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">param</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">test</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="lt-arg-gt"><a href="#lt-arg-gt" class="headerlink" title="&lt;arg&gt;"></a><code>&lt;arg&gt;</code></h3><p><code>&lt;arg&gt;</code>æ ‡ç­¾å…è®¸é€šè¿‡å‘½ä»¤è¡Œã€<code>&lt;include&gt;</code>æ ‡ç­¾æˆ–è€…æ›´ä¸Šå±‚çš„æ–‡ä»¶ä¼ é€’æŒ‡å®šçš„å€¼ï¼Œç”¨æ¥åˆ›å»ºå¯ä»¥é‡ç”¨æˆ–è€…å¯é…ç½®çš„çš„<code>launch</code>æ–‡ä»¶. ä½†<code>&lt;arg&gt;</code>æ ‡ç­¾æ˜¯éå…¨å±€çš„, ä¸€ä¸ªå£°æ˜åªé’ˆå¯¹ä¸€ä¸ª<code>launch</code>æ–‡ä»¶, å¦‚åŒå±€éƒ¨å˜é‡ä¸€æ ·ã€‚å¦‚æœè¦åœ¨ä¸€ä¸ªåŒ…å«æ–‡ä»¶<code>include file</code>ä¸­ä½¿ç”¨, åˆ™å¿…é¡»è¦æ˜¾å¼çš„å€¼ä¼ é€’. </p><p><code>&lt;arg&gt;</code>å¯ä»¥é€šè¿‡ä»¥ä¸‹ä¸‰ç§æ–¹å¼ä½¿ç”¨:</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">arg</span> <span class="attr">name</span>=<span class="string">"foo"</span> /&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- å£°æ˜äº†ä¸€ä¸ªfooå˜é‡ã€‚fooå¿…é¡»é€šè¿‡å‘½ä»¤è¡Œä¼ é€’æˆ–é€šè¿‡&lt;include&gt;æ ‡ç­¾è¿›è¡Œä¼ é€’.  --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">arg</span> <span class="attr">name</span>=<span class="string">"foo"</span> <span class="attr">default</span>=<span class="string">"1"</span> /&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- å£°æ˜å˜é‡foo, å¹¶èµ‹äºˆä¸€ä¸ªç¼ºçœå€¼1. fooå¯ä»¥é€šè¿‡å‘½ä»¤è¡Œè¦†å†™æˆ–&lt;include&gt;æ ‡ç­¾è¿›è¡Œå€¼ä¼ é€’ä½¿ç”¨.  --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">arg</span> <span class="attr">name</span>=<span class="string">"foo"</span> <span class="attr">value</span>=<span class="string">"bar"</span> /&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- å£°æ˜äº†ä¸€ä¸ªå€¼ä¸ºbarçš„å¸¸é‡fooã€‚fooçš„å€¼ä¸èƒ½è¢«è¦†å†™ã€‚æ­¤ç”¨æ³•æ”¯æŒå¯åŠ¨æ–‡ä»¶çš„å†…éƒ¨å‚æ•°åŒ–ï¼Œè€Œæ— éœ€åœ¨æ›´é«˜çº§åˆ«æš´éœ²è¯¥å‚æ•°ã€‚ --&gt;</span></span><br></pre></td></tr></table></figure><h4 id="å±æ€§-7"><a href="#å±æ€§-7" class="headerlink" title="å±æ€§"></a>å±æ€§</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">name="arg_name"</span><br><span class="line"><span class="comment">&lt;!-- æŒ‡å®šå˜é‡å.  --&gt;</span></span><br><span class="line"></span><br><span class="line">default="default value" (optional)</span><br><span class="line"><span class="comment">&lt;!-- æŒ‡å®šå˜é‡ç¼ºçœå€¼, ä¸èƒ½ä¸valueå±æ€§ä¸€èµ·ä½¿ç”¨.  --&gt;</span></span><br><span class="line"></span><br><span class="line">value="value" (optional)</span><br><span class="line"><span class="comment">&lt;!-- æŒ‡å®šå˜é‡å€¼, ä¸èƒ½ä¸defaultå±æ€§ä¸€èµ·ä½¿ç”¨.  --&gt;</span></span><br><span class="line"></span><br><span class="line">doc="description for this arg" (optional) New in Indigo</span><br><span class="line"><span class="comment">&lt;!-- å˜é‡æè¿°.  --&gt;</span></span><br></pre></td></tr></table></figure><h4 id="ä¾‹å­-5"><a href="#ä¾‹å­-5" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h4><ul><li>ä¼ é€’ä¸€ä¸ªå‚æ•°åˆ°åŒ…å«æ–‡ä»¶ä¸­  </li></ul><p><code>my_file.launch</code>:<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">include</span> <span class="attr">file</span>=<span class="string">"included.launch"</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- all vars that included.launch requires must be set --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">arg</span> <span class="attr">name</span>=<span class="string">"hoge"</span> <span class="attr">value</span>=<span class="string">"fuga"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p><code>included.launch</code>:<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">launch</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- declare arg to be passed in --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">arg</span> <span class="attr">name</span>=<span class="string">"hoge"</span> /&gt;</span> </span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- read value of arg --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">param</span> <span class="attr">name</span>=<span class="string">"param"</span> <span class="attr">value</span>=<span class="string">"$(arg hoge)"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">launch</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>åˆ™å½“è¿è¡Œ<code>my_file.launch</code>æ–‡ä»¶æ—¶, <code>hoge</code>å‚æ•°ä¼šä»<code>my_file.launch</code>çš„<code>&lt;include&gt;</code>æ ‡ç­¾ä¸­ä¼ é€’è¿›å…¥<code>included.launch</code>æ–‡ä»¶ä¸­, äº§ç”Ÿä¸€ä¸ªå˜é‡åä¸º<code>param</code>, å€¼ä¸º<code>fuga</code>çš„å˜é‡. ä½†æ˜¯ç”±äº<code>&lt;arg&gt;</code>å®šä¹‰çš„ä¸ºä¸€ä¸ªæ–‡ä»¶å†…éƒ¨çš„å±€éƒ¨å˜é‡(ç±»ä¼¼äºç±»å†…çš„ç§æœ‰å˜é‡), æ— æ³•ä»æ›´é«˜ä¸€çº§æˆ–å¤–éƒ¨è¿›è¡Œè®¿é—®, å³ä¸èƒ½é€šè¿‡å‘½ä»¤è¡Œè¿›è¡Œèµ‹å€¼, æ‰€ä»¥, å½“è¿è¡Œï¼š  </p><blockquote><p><code>roslaunch %YOUR_ROS_PKG% my_file.launch hoge:=my_value</code>  </p></blockquote><p>æ—¶, <code>hoge</code>çš„å€¼è¿˜æ˜¯åŸæ¥è®¾å®šçš„<code>fuga</code>å€¼, è€Œä¸ç®¡ä½ åœ¨å±€éƒ¨çš„<code>&lt;arg&gt;</code>å±æ€§ä¸­æ˜¯ç”¨<code>value</code>å±æ€§è¿˜æ˜¯<code>default</code>å±æ€§. å¦‚æœæƒ³ç”¨è‡ªå·±çš„å®šä¹‰å€¼åœ¨å‘½ä»¤è¡Œä¸­è¿›è¡Œè¦†ç›–, åˆ™<code>&lt;arg&gt;</code>æ ‡ç­¾è¦ä½¿ç”¨æ›´é«˜ä¸€å±‚çº§çš„<code>default</code>å±æ€§æŒ‡å®š<code>my_file.launch</code>å¦‚ä¸‹æ‰€ç¤ºï¼š<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- å³å®šä¹‰ä¸€ä¸ªæ›´é«˜ä¸€å±‚æ¬¡çš„&lt;arg&gt;æ ‡ç­¾æ¥æ‰§è¡Œå€¼ä¼ é€’, ä»æ›´é«˜ä¸€å±‚çº§ä¼ é€’åˆ°å±€éƒ¨å†ä¼ é€’åˆ°included.launchæ–‡ä»¶ä¸­.  --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">launch</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">arg</span> <span class="attr">name</span>=<span class="string">"temp"</span>  <span class="attr">default</span>=<span class="string">"fuga"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">include</span> <span class="attr">file</span>=<span class="string">"$(find your_pkg)/launch/included.launch"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">arg</span> <span class="attr">name</span>=<span class="string">"param"</span> <span class="attr">value</span>=<span class="string">"$(arg temp)"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">launch</span>&gt;</span></span><br></pre></td></tr></table></figure></p><ul><li>é€šè¿‡å‘½ä»¤è¡Œä¼ é€’å˜é‡<br><code>roslaunch</code>ä½¿ç”¨ä¸<code>ROS</code>æ˜ å°„å‚æ•°ç›¸åŒçš„è¯­æ³•æ¥æŒ‡å®š<code>arg</code>å€¼</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ roslaunch my_file.launch hoge:=my_value  (.launch file is available at the current dir)</span><br><span class="line"></span><br><span class="line">$ roslaunch %YOUR_ROS_PKG% my_file.launch hoge:=my_value</span><br></pre></td></tr></table></figure><h3 id="lt-group-gt"><a href="#lt-group-gt" class="headerlink" title="&lt;group&gt;"></a><code>&lt;group&gt;</code></h3><p>å¯ä»¥å¯¹ä¸€ç»„èŠ‚ç‚¹è¿›è¡Œè®¾ç½®, å¹¶ä¸”å¯ä»¥é€šè¿‡nså±æ€§å°†ä¸€ç»„èŠ‚ç‚¹æ”¾åˆ°ä¸€ä¸ªéš”ç¦»å¼€çš„å‘½åç©ºé—´ä¸­. </p><h4 id="å±æ€§-8"><a href="#å±æ€§-8" class="headerlink" title="å±æ€§"></a>å±æ€§</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ns="namespace" (optional)</span><br><span class="line"><span class="comment">&lt;!-- å°†ä¸€ç»„èŠ‚ç‚¹æŒ‡å®šåˆ°ä¸€ä¸ªç‰¹å®šçš„å‘½åç©ºé—´ä¸­, å‘½åç©ºé—´å¯ä»¥æ˜¯å…¨å±€çš„æˆ–æ˜¯å±€éƒ¨çš„, ä½†å¹¶æœ‰æ¨èä½¿ç”¨å…¨å±€çš„å‘½åç©ºé—´.  --&gt;</span></span><br><span class="line"></span><br><span class="line">clear_params="true|false" (optional)</span><br><span class="line">åœ¨èŠ‚ç‚¹å¯åŠ¨ä¹‹å‰æ¸…ç©º<span class="tag">&lt;<span class="name">group</span>&gt;</span>å‘½åç©ºé—´ä¸­çš„æ‰€æœ‰å‚æ•°, è°¨æ…ä½¿ç”¨. </span><br><span class="line"><span class="comment">&lt;!-- å†…éƒ¨å¯ä½¿ç”¨çš„æ ‡ç­¾å¦‚ä¸‹æ‰€ç¤ºï¼š --&gt;</span></span><br></pre></td></tr></table></figure><h4 id="å…ƒç´ -2"><a href="#å…ƒç´ -2" class="headerlink" title="å…ƒç´ "></a>å…ƒç´ </h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">group</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">node</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">param</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">remap</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">machine</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">rosparam</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">include</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">env</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">test</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">arg</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">group</span>/&gt;</span></span><br></pre></td></tr></table></figure><h2 id="launchæ–‡ä»¶çš„ä¾‹å­"><a href="#launchæ–‡ä»¶çš„ä¾‹å­" class="headerlink" title="launchæ–‡ä»¶çš„ä¾‹å­"></a>launchæ–‡ä»¶çš„ä¾‹å­</h2><h3 id="ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š"><a href="#ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š" class="headerlink" title="ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š"></a>ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">launch</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">node</span> <span class="attr">name</span>=<span class="string">"talker"</span> <span class="attr">pkg</span>=<span class="string">"rospy_tutorials"</span> <span class="attr">type</span>=<span class="string">"talker"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">launch</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- åœ¨æœ¬åœ°ä½¿ç”¨å½“å‰rosç¯å¢ƒå¯åŠ¨rospy_tutorialsåŒ…ä¸­çš„å¯æ‰§è¡Œç¨‹åºä¸ºtalkerçš„èŠ‚ç‚¹, èŠ‚ç‚¹åç§°å®šä¹‰ä¸ºtalker.  --&gt;</span></span><br></pre></td></tr></table></figure><h3 id="ä¸€ä¸ªå¤æ‚ä¸€ç‚¹çš„ä¾‹å­ï¼š"><a href="#ä¸€ä¸ªå¤æ‚ä¸€ç‚¹çš„ä¾‹å­ï¼š" class="headerlink" title="ä¸€ä¸ªå¤æ‚ä¸€ç‚¹çš„ä¾‹å­ï¼š"></a>ä¸€ä¸ªå¤æ‚ä¸€ç‚¹çš„ä¾‹å­ï¼š</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">launch</span>&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="tag">&lt;<span class="name">machine</span> <span class="attr">name</span>=<span class="string">"local_alt"</span> <span class="attr">address</span>=<span class="string">"localhost"</span> <span class="attr">default</span>=<span class="string">"true"</span> <span class="attr">ros-root</span>=<span class="string">"/u/user/ros/ros/"</span> <span class="attr">ros-package-path</span>=<span class="string">"/u/user/ros/ros-pkg"</span> /&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- æœ¬åœ°çš„æœºå™¨å·²ç»è¿›è¡Œäº†ç¼ºçœå®šä¹‰, è¿™ä¸ªæ ‡ç­¾çš„ä½œç”¨æ˜¯ç”¨æŒ‡å®šçš„ROS_ROOTå’ŒROS_PACKAGE_PATHå€¼å¯¹å…¶é‡æ–°èµ‹å€¼--&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">node</span> <span class="attr">name</span>=<span class="string">"listener-1"</span> <span class="attr">pkg</span>=<span class="string">"rospy_tutorials"</span> <span class="attr">type</span>=<span class="string">"listener"</span> /&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- å¯åŠ¨ä¸€ä¸ªæ”¶å¬èŠ‚ç‚¹ --&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">node</span> <span class="attr">name</span>=<span class="string">"listener-2"</span> <span class="attr">pkg</span>=<span class="string">"rospy_tutorials"</span> <span class="attr">type</span>=<span class="string">"listener"</span> <span class="attr">args</span>=<span class="string">"-foo arg2"</span> /&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- å‘ç›‘å¬èŠ‚ç‚¹ä¸­ä¼ é€’å‚æ•° --&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">node</span> <span class="attr">name</span>=<span class="string">"listener-3"</span> <span class="attr">pkg</span>=<span class="string">"rospy_tutorials"</span> <span class="attr">type</span>=<span class="string">"listener"</span> <span class="attr">respawn</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- ä¸€ä¸ªå¯ä»¥é‡æ–°å¯åŠ¨çš„èŠ‚ç‚¹ --&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">node</span> <span class="attr">ns</span>=<span class="string">"wg1"</span> <span class="attr">name</span>=<span class="string">"listener-wg1"</span> <span class="attr">pkg</span>=<span class="string">"rospy_tutorials"</span> <span class="attr">type</span>=<span class="string">"listener"</span> <span class="attr">respawn</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- åœ¨ 'wg1' å‘½åç©ºé—´ä¸­å¯åŠ¨ä¸€ä¸ªèŠ‚ç‚¹ --&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">group</span> <span class="attr">ns</span>=<span class="string">"wg2"</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- åœ¨ 'wg2' å‘½åç©ºé—´ä¸­å¯åŠ¨ä¸€ç»„èŠ‚ç‚¹ --&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">remap</span> <span class="attr">from</span>=<span class="string">"chatter"</span> <span class="attr">to</span>=<span class="string">"hello"</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- remapåœ¨groupèŒƒå›´å†…ä½œç”¨äºåœ¨å…¶åå£°æ˜çš„æ‰€æœ‰èŠ‚ç‚¹ --&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">node</span> <span class="attr">pkg</span>=<span class="string">"rospy_tutorials"</span> <span class="attr">type</span>=<span class="string">"listener"</span> <span class="attr">name</span>=<span class="string">"listener"</span> <span class="attr">args</span>=<span class="string">"--test"</span> <span class="attr">respawn</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">node</span> <span class="attr">pkg</span>=<span class="string">"rospy_tutorials"</span> <span class="attr">type</span>=<span class="string">"talker"</span> <span class="attr">name</span>=<span class="string">"talker"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">param</span> <span class="attr">name</span>=<span class="string">"talker_1_param"</span> <span class="attr">value</span>=<span class="string">"a value"</span> /&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- è®¾ç½®å±€éƒ¨å˜é‡ --&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">remap</span> <span class="attr">from</span>=<span class="string">"chatter"</span> <span class="attr">to</span>=<span class="string">"hello-1"</span>/&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- èŠ‚ç‚¹å¯ä»¥æœ‰å…¶è‡ªå·±ç§æœ‰çš„remapæŒ‡ä»¤ --&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">env</span> <span class="attr">name</span>=<span class="string">"ENV_EXAMPLE"</span> <span class="attr">value</span>=<span class="string">"some value"</span> /&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- ä¸ºèŠ‚ç‚¹è®¾ç½®ç¯å¢ƒå˜é‡ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">node</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;/<span class="name">group</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">launch</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="è®¾ç½®å‚æ•°"><a href="#è®¾ç½®å‚æ•°" class="headerlink" title="è®¾ç½®å‚æ•°"></a>è®¾ç½®å‚æ•°</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">launch</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">param</span> <span class="attr">name</span>=<span class="string">"somestring1"</span> <span class="attr">value</span>=<span class="string">"bar"</span> /&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- å€¼ç±»å‹ä¸ºstringç±»å‹ --&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">param</span> <span class="attr">name</span>=<span class="string">"somestring2"</span> <span class="attr">value</span>=<span class="string">"10"</span> <span class="attr">type</span>=<span class="string">"str"</span> /&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- å¼ºåˆ¶ä½¿ç”¨stringç±»å‹è€Œä¸æ˜¯æ•´å‹å®šä¹‰å‚æ•° --&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">param</span> <span class="attr">name</span>=<span class="string">"someinteger1"</span> <span class="attr">value</span>=<span class="string">"1"</span> <span class="attr">type</span>=<span class="string">"int"</span> /&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- æŒ‡å®šä¸ºæ•´å‹ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">param</span> <span class="attr">name</span>=<span class="string">"someinteger2"</span> <span class="attr">value</span>=<span class="string">"2"</span> /&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- è‡ªåŠ¨è¯†åˆ«ä¸ºæ•´å‹ --&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">param</span> <span class="attr">name</span>=<span class="string">"somefloat1"</span> <span class="attr">value</span>=<span class="string">"3. 14159"</span> <span class="attr">type</span>=<span class="string">"double"</span> /&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- æŒ‡å®šä¸ºæµ®ç‚¹å‹æ•°æ® --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">param</span> <span class="attr">name</span>=<span class="string">"somefloat2"</span> <span class="attr">value</span>=<span class="string">"3. 0"</span> /&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- è‡ªåŠ¨è¯†åˆ«ä¸ºæµ®ç‚¹å‹æ•°æ® --&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">param</span> <span class="attr">name</span>=<span class="string">"wg/childparam"</span> <span class="attr">value</span>=<span class="string">"a child namespace parameter"</span> /&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- åœ¨å­å‘½åç©ºé—´ä¸­è®¾ç½®å‚æ•° --&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">param</span> <span class="attr">name</span>=<span class="string">"configfile"</span> <span class="attr">textfile</span>=<span class="string">"$(find roslaunch)/example. xml"</span> /&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- å‘å‚æ•°æœåŠ¡å™¨ä¸­åŠ è½½æ–‡æœ¬æ–‡ä»¶å†…å®¹ --&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">param</span> <span class="attr">name</span>=<span class="string">"binaryfile"</span> <span class="attr">binfile</span>=<span class="string">"$(find roslaunch)/example. xml"</span> /&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- å‘å‚æ•°æœåŠ¡å™¨ä¸­åŠ è½½äºŒè¿›åˆ¶æ–‡ä»¶å†…å®¹ --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">launch</span>&gt;</span></span><br></pre></td></tr></table></figure><hr><p>å‚è€ƒé“¾æ¥ï¼š</p><ul><li><a href="http://wiki.ros.org/roslaunch/XML" target="_blank" rel="noopener">http://wiki.ros.org/roslaunch/XML</a></li><li><a href="https://blog.csdn.net/u012424737/article/details/78854536" target="_blank" rel="noopener">https://blog.csdn.net/u012424737/article/details/78854536</a></li><li><a href="https://blog.csdn.net/weixin_41995979/article/details/81784987" target="_blank" rel="noopener">https://blog.csdn.net/weixin_41995979/article/details/81784987</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> ROSå­¦ä¹  </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ROS </tag>
            
            <tag> roslaunch </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¾®ä¿¡å°ç¨‹åºå¼€å‘-inputæ­£åˆ™</title>
      <link href="/posts/1318413979/"/>
      <url>/posts/1318413979/</url>
      
        <content type="html"><![CDATA[<p>æ£€æŸ¥ <code>input</code>è¾“å…¥æ¡†æ˜¯å¦è¾“å…¥é™åˆ¶å­—ç¬¦ã€‚å¦‚æœæ˜¯ï¼Œåˆ™ä¸¢å¼ƒï¼›å¦åˆ™ï¼Œæ­£å¸¸è¾“å…¥ã€‚</p><a id="more"></a><p><code>input</code> æ ‡ç­¾å…·æœ‰ <code>bindinput</code> å±æ€§ï¼Œæ”¯æŒè¾“å…¥æ•°æ®çš„åŒå‘ç»‘å®šï¼Œç±»ä¼¼ <code>Vue</code> ä¸­çš„ <code>v-model</code>ã€‚</p><blockquote><p>é”®ç›˜è¾“å…¥æ—¶è§¦å‘ï¼Œ<code>event.detail = {value, cursor, keyCode}ï¼ŒkeyCode</code> ä¸ºé”®å€¼ï¼Œ2.1.0 èµ·æ”¯æŒï¼Œå¤„ç†å‡½æ•°å¯ä»¥ç›´æ¥ return ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå°†æ›¿æ¢è¾“å…¥æ¡†çš„å†…å®¹ã€‚</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"digit"</span> <span class="attr">bindinput</span>=<span class="string">"regInput"</span> <span class="attr">maxlength</span>=<span class="string">"15"</span>/&gt;</span></span><br></pre></td></tr></table></figure><p>åŒ¹é…æ­£åˆ™é€šè¿‡åˆ™è¿”å›æ‰€æœ‰å­—ç¬¦ï¼Œä¸é€šè¿‡åˆ™å»æ‰æœ€åä¸€ä¸ªä¸åŒ¹é…çš„å­—ç¬¦è¿”å›ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*æ­£åˆ™åŒ¹é…*/</span></span><br><span class="line">regInput(e)&#123;</span><br><span class="line">  <span class="keyword">if</span>(<span class="regexp">/^(\d?)+(\.\d&#123;0,2&#125;)?$/</span>.test(e.detail.value))&#123;</span><br><span class="line">    <span class="keyword">return</span> e.detail.value;</span><br><span class="line">  &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> e.detail.value.substring(<span class="number">0</span>,e.detail.value.length<span class="number">-1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h2><p><a href="https://www.jb51.net/article/145878.htm" target="_blank" rel="noopener">https://www.jb51.net/article/145878.htm</a></p>]]></content>
      
      
      <categories>
          
          <category> å¾®ä¿¡å°ç¨‹åºå¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> wechat-dev </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¾®ä¿¡å°ç¨‹åºå¼€å‘-å¸ƒå±€flex</title>
      <link href="/posts/208261819/"/>
      <url>/posts/208261819/</url>
      
        <content type="html"><![CDATA[<p>å¾®ä¿¡å°ç¨‹åºå¼€å‘-å¸ƒå±€flex</p><a id="more"></a><h2 id="flexå¸ƒå±€"><a href="#flexå¸ƒå±€" class="headerlink" title="flexå¸ƒå±€"></a><strong><code>flex</code>å¸ƒå±€</strong></h2><p>å¾®ä¿¡å°ç¨‹åº <code>View</code> æ”¯æŒä¸¤ç§å¸ƒå±€æ–¹å¼ï¼š<code>Block</code> å’Œ <code>Flex</code><br>æ‰€æœ‰ <code>View</code> é»˜è®¤éƒ½æ˜¯ <code>block</code>ã€‚è¦ä½¿ç”¨ flex å¸ƒå±€çš„è¯éœ€è¦æ˜¾å¼çš„å£°æ˜ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"main"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"item item1"</span>&gt;</span>1<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"item item2"</span>&gt;</span>2<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"item item3"</span>&gt;</span>3<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>1) æœªè®¾ç½® <code>flex</code>ï¼Œç«–å‘å¸ƒå±€</strong></p><pre><code>123</code></pre><p><strong>2) <code>flex</code> å¸ƒå±€ï¼Œåœ¨æ ·å¼ä¸­åŠ å…¥ <code>display: flex;</code></strong></p><pre><code>123</code></pre><h2 id="flex-direction"><a href="#flex-direction" class="headerlink" title="flex-direction"></a><strong><code>flex-direction</code></strong></h2><h3 id="æ¨ªå‘å¸ƒå±€"><a href="#æ¨ªå‘å¸ƒå±€" class="headerlink" title="æ¨ªå‘å¸ƒå±€"></a>æ¨ªå‘å¸ƒå±€</h3><ul><li><p><code>flex-direction: row</code>ï¼šä»å·¦åˆ°å³çš„æ°´å¹³æ–¹å‘ä¸ºä¸»è½´  </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">123</span><br></pre></td></tr></table></figure></li><li><p><code>flex-direction: row-reverse</code>ï¼šä»å³åˆ°å·¦çš„æ°´å¹³æ–¹å‘ä¸ºä¸»è½´</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">321</span><br></pre></td></tr></table></figure></li></ul><h2 id="justify-content"><a href="#justify-content" class="headerlink" title="justify-content"></a><strong><code>justify-content</code></strong></h2><p>æ¨ªå‘çš„å¸ƒå±€å±æ€§</p><ul><li><p><code>lex-start</code>ï¼šä¸»è½´èµ·ç‚¹å¯¹é½(é»˜è®¤å€¼)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">123</span><br></pre></td></tr></table></figure></li><li><p><code>flex-end</code>ï¼šä¸»è½´ç»“æŸç‚¹å¯¹é½</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">123</span><br></pre></td></tr></table></figure></li><li><p><code>center</code>ï¼šåœ¨ä¸»è½´ä¸­å±…ä¸­å¯¹é½</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">123</span><br></pre></td></tr></table></figure></li><li><p><code>space-between</code>ï¼šä¸¤ç«¯å¯¹é½ï¼Œé™¤äº†ä¸¤ç«¯çš„å­å…ƒç´ åˆ†åˆ«é å‘ä¸¤ç«¯çš„å®¹å™¨ä¹‹å¤–ï¼Œå…¶ä»–å­å…ƒç´ ä¹‹é—´çš„é—´éš”éƒ½ç›¸ç­‰</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1        2        3</span><br></pre></td></tr></table></figure></li><li><p><code>space-around</code>ï¼šæ¯ä¸ªå­å…ƒç´ ä¹‹é—´çš„è·ç¦»ç›¸ç­‰ï¼Œä¸¤ç«¯çš„å­å…ƒç´ è·ç¦»å®¹å™¨çš„è·ç¦»ä¹Ÿå’Œå…¶å®ƒå­å…ƒç´ ä¹‹é—´çš„è·ç¦»ç›¸åŒ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1      2      3</span><br></pre></td></tr></table></figure></li></ul><h3 id="çºµå‘å¸ƒå±€"><a href="#çºµå‘å¸ƒå±€" class="headerlink" title="çºµå‘å¸ƒå±€"></a>çºµå‘å¸ƒå±€</h3><ul><li><code>flex-direction: column</code>ï¼šä»ä¸Šåˆ°ä¸‹çš„å‚ç›´æ–¹å‘ä¸ºä¸»è½´  </li><li><code>flex-direction: column-reverse</code>ï¼šä»ä¸‹åˆ°ä¸Šçš„å‚ç›´æ–¹å‘ä¸ºä¸»è½´</li></ul><h2 id="align-items"><a href="#align-items" class="headerlink" title="align-items"></a><strong><code>align-items</code></strong></h2><p>çºµå‘å¸ƒå±€å±æ€§ï¼š</p><ul><li><code>stretch</code> å¡«å……æ•´ä¸ªå®¹å™¨(é»˜è®¤å€¼)</li><li><code>flex-start</code> ä¾§è½´çš„èµ·ç‚¹å¯¹é½ ï¼ˆè¿™é‡Œæˆ‘ä»¬æ‰‹åŠ¨è®¾ç½®ä¸‹å­ view çš„é«˜åº¦ï¼Œæ¥çœ‹çš„æ˜æ˜¾ä¸€äº›ï¼‰</li><li><code>flex-end</code> ä¾§è½´çš„ç»ˆç‚¹å¯¹é½</li><li><code>center</code> åœ¨ä¾§è½´ä¸­å±…ä¸­å¯¹é½</li><li><code>baseline</code> ä»¥å­å…ƒç´ çš„ç¬¬ä¸€è¡Œæ–‡å­—å¯¹é½</li></ul><h2 id="align-self"><a href="#align-self" class="headerlink" title="align-self"></a><strong><code>align-self</code></strong></h2><p>å­ <code>View</code> çš„å±æ€§ <code>align-self</code>ï¼Œå¯ä»¥è¦†ç›–çˆ¶å…ƒç´ çš„ <code>align-items</code> å±æ€§ï¼Œå®ƒæœ‰6ä¸ªå€¼å¯é€‰ï¼š<code>auto | flex-start | flex-end | center | baseline | stretch</code> ï¼ˆ <code>auto</code> ä¸ºç»§æ‰¿çˆ¶å…ƒç´  <code>align-items</code> å±æ€§ï¼Œå…¶ä»–å’Œ <code>align-items</code> ä¸€è‡´ï¼‰</p><h2 id="flex-wrap"><a href="#flex-wrap" class="headerlink" title="flex-wrap"></a><strong><code>flex-wrap</code></strong></h2><p>ç”¨äºæ§åˆ¶å­ <code>View</code> æ˜¯å¦æ¢è¡Œ</p><ul><li><code>nowrap</code> ï¼šä¸æ¢è¡Œï¼ˆé»˜è®¤ï¼‰</li><li><code>wrap</code> ï¼šæ¢è¡Œ</li><li><code>wrap-reverse</code> ï¼šæ¢è¡Œï¼Œç¬¬ä¸€è¡Œåœ¨æœ€ä¸‹é¢</li></ul><h2 id="order"><a href="#order" class="headerlink" title="order"></a><strong><code>order</code></strong></h2><p>æ§åˆ¶å­å…ƒç´ çš„æ’åˆ—é¡ºåºï¼Œé»˜è®¤ä¸º<code>0</code>ã€‚<br>æŠŠ <code>item3</code> è®¾ç½® <code>order:-1;</code> å¯ä»¥æŠŠ <code>item3</code> æ’åœ¨å‰é¢<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">312</span><br></pre></td></tr></table></figure></p><h2 id="flex-grow"><a href="#flex-grow" class="headerlink" title="flex-grow"></a><strong><code>flex-grow</code></strong></h2><p><code>.wxss</code>ä¸­ä¿®æ”¹ä»£ç å¦‚ä¸‹ï¼šåœ¨ <code>item1</code> ä¸­å¢åŠ ï¼š <code>flex-grow: 1</code>ï¼Œåœ¨ <code>item3</code> ä¸­å¢åŠ ï¼š <code>flex-grow: 2``ï¼Œè¡¨ç¤ºåœ¨ä¸€è¡Œä¸­å¦‚æœæœ‰å‰©ä½™ç©ºé—´çš„è¯ï¼Œitem3</code> ä¹‹å¤–çš„å­ <code>view</code> å 1ä»½ç©ºé—´ï¼Œè€Œ <code>item3</code> å­ <code>view</code> å 2ä»½ç©ºé—´(å¯ä»¥ç†è§£ä¸ºå‰©ä½™ç©ºé—´ <code>item3</code> æœ€å¤šå¯ä»¥å 2ä»½ç©ºé—´)ã€‚</p><h2 id="flex-shrink"><a href="#flex-shrink" class="headerlink" title="flex-shrink"></a><strong><code>flex-shrink</code></strong></h2><p><code>.wxss</code>ä¸­å†å¢åŠ 4ä¸ªå­ <code>view</code> å¹¶ä¿®æ”¹ä»£ç å¦‚ä¸‹ï¼š<code>i3</code> çš„<code>flex-shrink: 0</code>ï¼Œå…¶ä½™å­ <code>view</code> ä¸º <code>flex-shrink: 1</code>ï¼Œè¿™è¡¨ç¤ºå½“ç©ºé—´ä¸è¶³æ—¶æ‰€æœ‰å­ <code>view</code> éƒ½ç­‰æ¯”ç¼©å°ï¼Œä½†æ˜¯ <code>i3</code> çš„ <code>view</code> ä¿æŒå¤§å°ä¸å˜.</p><h2 id="flex-basis"><a href="#flex-basis" class="headerlink" title="flex-basis"></a><strong><code>flex-basis</code></strong></h2><h2 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a><strong>æ³¨æ„</strong></h2><p><code>flex</code> æ˜¯ <code>grow</code> ï¼Œ<code>shrink</code> ï¼Œ<code>basis</code> å‡ ä¸ªå±æ€§çš„åˆå¹¶<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attribute">flex</span>: grow shrink basis</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><code>flex-flow</code> æ˜¯ <code>flex-direction</code> å’Œ <code>flex-wrap</code> ä¸¤ä¸ªå±æ€§çš„ç»„åˆ<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attribute">flex-flow</span>: wrap row</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
      <categories>
          
          <category> å¾®ä¿¡å°ç¨‹åºå¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> wechat-dev </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Markdownè¯­æ³•å­¦ä¹ ç¬”è®°</title>
      <link href="/posts/4176222009/"/>
      <url>/posts/4176222009/</url>
      
        <content type="html"><![CDATA[<p><strong>Markdown</strong>æ˜¯ä¸€ç§è½»é‡çº§æ ‡è®°è¯­è¨€ï¼Œåˆ›å§‹äººä¸ºçº¦ç¿°Â·æ ¼é²ä¼¯ï¼ˆè‹±è¯­ï¼šJohn Gruberï¼‰ã€‚å®ƒå…è®¸äººä»¬â€œä½¿ç”¨æ˜“è¯»æ˜“å†™çš„çº¯æ–‡æœ¬æ ¼å¼ç¼–å†™æ–‡æ¡£ï¼Œç„¶åè½¬æ¢æˆæœ‰æ•ˆçš„XHTMLï¼ˆæˆ–è€…HTMLï¼‰æ–‡æ¡£â€ã€‚è¿™ç§è¯­è¨€å¸æ”¶äº†å¾ˆå¤šåœ¨ç”µå­é‚®ä»¶ä¸­å·²æœ‰çš„çº¯æ–‡æœ¬æ ‡è®°çš„ç‰¹æ€§ã€‚</p><a id="more"></a><p>ç”±äº<strong>Markdown</strong>çš„è½»é‡åŒ–ã€æ˜“è¯»æ˜“å†™ç‰¹æ€§ï¼Œå¹¶ä¸”å¯¹äºå›¾ç‰‡ï¼Œå›¾è¡¨ã€æ•°å­¦å¼éƒ½æœ‰æ”¯æŒï¼Œå½“å‰è®¸å¤šç½‘ç«™éƒ½å¹¿æ³›ä½¿ç”¨<strong>Markdown</strong>æ¥æ’°å†™å¸®åŠ©æ–‡æ¡£æˆ–æ˜¯ç”¨äºè®ºå›ä¸Šå‘è¡¨æ¶ˆæ¯ã€‚ä¾‹å¦‚ï¼šGitHubã€redditã€Diasporaã€Stack Exchangeã€OpenStreetMap ã€SourceForgeç­‰ã€‚ç”šè‡³Markdownèƒ½è¢«ä½¿ç”¨æ¥æ’°å†™ç”µå­ä¹¦ã€‚</p><h2 id="ä¸»è¦å†…å®¹"><a href="#ä¸»è¦å†…å®¹" class="headerlink" title="ä¸»è¦å†…å®¹"></a>ä¸»è¦å†…å®¹</h2><blockquote><h4 id="1-Markdownå†å²"><a href="#1-Markdownå†å²" class="headerlink" title="1. Markdownå†å²"></a><a href="#Markdownå†å²">1. <strong>Markdown</strong>å†å²</a></h4><h4 id="2-Markdownä¸»è¦è¯­æ³•"><a href="#2-Markdownä¸»è¦è¯­æ³•" class="headerlink" title="2. Markdownä¸»è¦è¯­æ³•"></a><a href="#Markdownä¸»è¦è¯­æ³•">2. <strong>Markdown</strong>ä¸»è¦è¯­æ³•</a></h4><h4 id="3-å…¶ä»–è¯­æ³•"><a href="#3-å…¶ä»–è¯­æ³•" class="headerlink" title="3. å…¶ä»–è¯­æ³•"></a><a href="#å…¶ä»–è¯­æ³•">3. å…¶ä»–è¯­æ³•</a></h4><h4 id="4-å‚è€ƒé“¾æ¥"><a href="#4-å‚è€ƒé“¾æ¥" class="headerlink" title="4. å‚è€ƒé“¾æ¥"></a><a href="#å‚è€ƒé“¾æ¥">4. å‚è€ƒé“¾æ¥</a></h4></blockquote><div STYLE="page-break-after: always;"></div><h2 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h2><hr><h2 id="Markdownå†å²"><a href="#Markdownå†å²" class="headerlink" title="Markdownå†å²"></a><strong>Markdown</strong>å†å²</h2><hr><h3 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h3><p><strong>John Gruber</strong>åœ¨2004å¹´åˆ›é€ äº†<strong>Markdown</strong>è¯­è¨€ï¼Œåœ¨è¯­æ³•ä¸Šæœ‰å¾ˆå¤§ä¸€éƒ¨åˆ†æ˜¯è·Ÿ<a href="https://zh.wikipedia.org/wiki/%E4%BA%9A%E4%BC%A6%C2%B7%E6%96%AF%E6%B2%83%E8%8C%A8" target="_blank" rel="noopener"><strong>Aaron Swartz</strong></a>å…±åŒåˆä½œçš„ã€‚<strong>Markdown</strong>çš„ç›®æ ‡æ˜¯å®ç°ã€Œæ˜“è¯»æ˜“å†™ã€ã€‚å¯è¯»æ€§ï¼Œæ— è®ºå¦‚ä½•ï¼Œéƒ½æ˜¯æœ€é‡è¦çš„ã€‚ä¸€ä»½ä½¿ç”¨<strong>Markdown</strong>æ ¼å¼æ’°å†™çš„æ–‡ä»¶åº”è¯¥å¯ä»¥ç›´æ¥ä»¥çº¯æ–‡æœ¬å‘å¸ƒï¼Œå¹¶ä¸”çœ‹èµ·æ¥ä¸ä¼šåƒæ˜¯ç”±è®¸å¤šæ ‡ç­¾æˆ–æ˜¯æ ¼å¼æŒ‡ä»¤æ‰€æ„æˆã€‚<strong>Markdown</strong>è¯­æ³•å—åˆ°ä¸€äº›æ—¢æœ‰ text-to-HTML æ ¼å¼çš„å½±å“ï¼ŒåŒ…æ‹¬ Setextã€atxã€Textileã€reStructuredTextã€Grutatext å’Œ EtTextï¼Œè€Œæœ€å¤§çµæ„Ÿæ¥æºå…¶å®æ˜¯çº¯æ–‡æœ¬ç”µå­é‚®ä»¶çš„æ ¼å¼ã€‚</p><h3 id="Aaron-Swartz-å¤§ç¥"><a href="#Aaron-Swartz-å¤§ç¥" class="headerlink" title="Aaron Swartz å¤§ç¥"></a>Aaron Swartz å¤§ç¥</h3><p><a href="https://zh.wikipedia.org/wiki/%E4%BA%9A%E4%BC%A6%C2%B7%E6%96%AF%E6%B2%83%E8%8C%A8" target="_blank" rel="noopener"><strong>Aaron Swartz</strong></a>ï¼ˆ1986å¹´11æœˆ8æ—¥ï¼2013å¹´1æœˆ11æ—¥ï¼‰æ˜¯ç¾å›½è®¡ç®—æœºç¨‹åºå‘˜ã€ä¼ä¸šå®¶ã€ä½œå®¶ã€æ”¿æ²»æ´»åŠ¨è€…å’Œäº’è”ç½‘é»‘å®¢ä¸»ä¹‰è€…ã€‚ä»–å‚ä¸å¼€å‘äº†RSSç½‘ä¸Šä¿¡æ¯æºå‘å¸ƒæ ¼å¼ã€Markdownæ–‡æœ¬å‘å¸ƒæ ¼å¼ã€çŸ¥è¯†å…±äº«ç»„ç»‡ã€web.pyç½‘ç«™å¼€å‘æ¡†æ¶ï¼ŒåŒæ—¶æ˜¯ç¤¾äº¤åª’ä½“Redditçš„è”åˆåˆ›å§‹äººã€‚</p><blockquote><ul><li><p><strong><em>2009å¹´</em></strong>ï¼Œä»–ååŠ©æˆç«‹äº†æ¸è¿›ç¤¾ä¼šå˜é©æ´»åŠ¨å§”å‘˜ä¼šï¼ŒæœŸä»¥äº†è§£æœ‰æ•ˆçš„äº’è”ç½‘è¿åŠ¨ã€‚  </p></li><li><p><strong><em>2010å¹´</em></strong>ï¼Œä»–æˆä¸ºå“ˆä½›å¤§å­¦åŸƒå¾·è’™Â·è¨å¤«æ‹‰ä¼¦ç†ç ”ç©¶ä¸­å¿ƒçš„å­¦è€…ï¼Œåœ¨åŠ³ä¼¦æ–¯Â·è±æ–¯æ ¼çš„é¢†å¯¼ä¸‹è¿›è¡Œç ”ç©¶ã€‚ä»–æ›¾æˆç«‹åœ¨çº¿ç¾¤ç»„æ±‚è¿›ä¼šâ€”â€”å› åå¯¹ç¦æ­¢ç½‘ç»œç›—ç‰ˆæ³•æ¡ˆçš„è¿åŠ¨è€Œé—»åã€‚</p></li><li><p><strong><em>2011å¹´</em></strong>ï¼Œä»–è¢«éº»çœç†å·¥å­¦é™¢è­¦ç½²ä»¥å…¶éæ³•é—¯å…¥çš„ç½ªåé€®æ•ï¼šé€šè¿‡éº»çœç†å·¥å­¦é™¢æ ¡å›­ç½‘ç»œï¼Œé€è¿‡å­¦é™¢ç»™äºˆçš„è®¿å®¢è´¦æˆ·ï¼Œå¤§è§„æ¨¡ç³»ç»Ÿæ€§åœ°ä¸‹è½½JSTORä¸Šçš„å­¦æœ¯æœŸåˆŠã€‚è”é‚¦æ£€å¯Ÿå®˜å¯¹ä»–æèµ·ä¸¤é¡¹ç½‘ç»œè¯ˆéª—å’Œåä¸€é¡¹è¿åã€Šè®¡ç®—æœºæ¬ºè¯ˆå’Œæ»¥ç”¨æ³•ã€‹è¡Œä¸ºçš„è¯‰è®¼â€”â€”äºšä¼¦Â·æ–¯æ²ƒèŒ¨å°†é¢ä¸´åˆè®¡æœ€é«˜35å¹´çš„åˆ‘æœŸå¹¶å¤„100ä¸‡ç¾å…ƒç½šé‡‘ã€æ²¡æ”¶è´¢äº§ã€å½’è¿˜å¤±çªƒç‰©å“å’Œç›‘è§†å±…ä½çš„å¤„ç½šã€‚<br>ä»–æ‹’ç»äº†è”é‚¦æ£€å¯Ÿå®˜æè®®å…¶åœ¨è”é‚¦ç›‘ç‹±æœåˆ‘6ä¸ªæœˆçš„è®¤ç½ªåå•†ã€‚éšåä»–è¢«å‘ç°æ­»åœ¨å…¶äºçº½çº¦å¸ƒé²å…‹æ—åŒºçš„å…¬å¯“å†…ï¼Œè‡ªç¼¢è€Œæ­»ã€‚  </p></li><li><p><strong><em>2013å¹´</em></strong>ï¼Œäºšä¼¦Â·æ–¯æ²ƒèŒ¨è¢«è¿½æˆå…¥äº’è”ç½‘åäººå ‚ã€‚</p></li></ul></blockquote><p><img src="https://github.com/younghz/Markdown/raw/master/resource/Aaron_Swartz.jpg" alt="Aaron Swartz"></p><hr><h2 id="Markdownä¸»è¦è¯­æ³•"><a href="#Markdownä¸»è¦è¯­æ³•" class="headerlink" title="Markdownä¸»è¦è¯­æ³•"></a><strong>Markdown</strong>ä¸»è¦è¯­æ³•</h2><hr><p><strong>Markdown</strong>è¯­æ³•ä¸»è¦åˆ†ä¸ºå¦‚ä¸‹å‡ å¤§éƒ¨åˆ†ï¼š<br><a href="#æ ‡é¢˜"><strong>æ ‡é¢˜</strong></a><br><a href="#æ®µè½"><strong>æ®µè½</strong></a><br><a href="#å­—ä½“"><strong>å­—ä½“</strong></a><br><a href="#æ¨ªçº¿"><strong>æ¨ªçº¿</strong></a><br><a href="#å¼•ç”¨åŒºå—"><strong>å¼•ç”¨åŒºå—</strong></a><br><a href="#ä»£ç åŒºå—"><strong>ä»£ç åŒºå—</strong></a><br><a href="#åˆ—è¡¨"><strong>åˆ—è¡¨</strong></a><br><a href="#é“¾æ¥"><strong>é“¾æ¥</strong></a><br><a href="#å›¾ç‰‡"><strong>å›¾ç‰‡</strong></a><br><a href="#è¡¨æ ¼"><strong>è¡¨æ ¼</strong></a><br><a href="#åæ–œæ "><strong>åæ–œæ </strong></a><br><a href="#ç¬¦å·\`"><strong>ç¬¦å·`</strong></a>  </p><hr><h3 id="æ ‡é¢˜"><a href="#æ ‡é¢˜" class="headerlink" title="æ ‡é¢˜"></a>æ ‡é¢˜</h3><hr><h4 id="ç”¨-å’Œ-æ ‡è®°ä¸€çº§å’ŒäºŒçº§æ ‡é¢˜ã€‚"><a href="#ç”¨-å’Œ-æ ‡è®°ä¸€çº§å’ŒäºŒçº§æ ‡é¢˜ã€‚" class="headerlink" title="ç”¨=å’Œ-æ ‡è®°ä¸€çº§å’ŒäºŒçº§æ ‡é¢˜ã€‚"></a>ç”¨<code>=</code>å’Œ<code>-</code>æ ‡è®°ä¸€çº§å’ŒäºŒçº§æ ‡é¢˜ã€‚</h4><blockquote><p>ä¸€çº§æ ‡é¢˜<br><code>=========</code><br>äºŒçº§æ ‡é¢˜<br><code>---------</code></p></blockquote><p>æ•ˆæœï¼š</p><blockquote><h1 id="ä¸€çº§æ ‡é¢˜"><a href="#ä¸€çº§æ ‡é¢˜" class="headerlink" title="ä¸€çº§æ ‡é¢˜   "></a>ä¸€çº§æ ‡é¢˜   </h1><h2 id="äºŒçº§æ ‡é¢˜"><a href="#äºŒçº§æ ‡é¢˜" class="headerlink" title="äºŒçº§æ ‡é¢˜"></a>äºŒçº§æ ‡é¢˜</h2></blockquote><h4 id="ä½¿ç”¨-ï¼Œå¯è¡¨ç¤º1-6çº§æ ‡é¢˜"><a href="#ä½¿ç”¨-ï¼Œå¯è¡¨ç¤º1-6çº§æ ‡é¢˜" class="headerlink" title="ä½¿ç”¨#ï¼Œå¯è¡¨ç¤º1-6çº§æ ‡é¢˜"></a>ä½¿ç”¨<code>#</code>ï¼Œå¯è¡¨ç¤º1-6çº§æ ‡é¢˜</h4><blockquote><p><code># ä¸€çº§æ ‡é¢˜</code><br><code>## äºŒçº§æ ‡é¢˜</code><br><code>### ä¸‰çº§æ ‡é¢˜</code><br><code>#### å››çº§æ ‡é¢˜</code><br><code>##### äº”çº§æ ‡é¢˜</code><br><code>###### å…­çº§æ ‡é¢˜</code>    </p></blockquote><p>æ•ˆæœï¼š</p><blockquote><h1 id="ä¸€çº§æ ‡é¢˜-1"><a href="#ä¸€çº§æ ‡é¢˜-1" class="headerlink" title="ä¸€çº§æ ‡é¢˜"></a>ä¸€çº§æ ‡é¢˜</h1><h2 id="äºŒçº§æ ‡é¢˜-1"><a href="#äºŒçº§æ ‡é¢˜-1" class="headerlink" title="äºŒçº§æ ‡é¢˜"></a>äºŒçº§æ ‡é¢˜</h2><h3 id="ä¸‰çº§æ ‡é¢˜"><a href="#ä¸‰çº§æ ‡é¢˜" class="headerlink" title="ä¸‰çº§æ ‡é¢˜"></a>ä¸‰çº§æ ‡é¢˜</h3><h4 id="å››çº§æ ‡é¢˜"><a href="#å››çº§æ ‡é¢˜" class="headerlink" title="å››çº§æ ‡é¢˜"></a>å››çº§æ ‡é¢˜</h4><h5 id="äº”çº§æ ‡é¢˜"><a href="#äº”çº§æ ‡é¢˜" class="headerlink" title="äº”çº§æ ‡é¢˜"></a>äº”çº§æ ‡é¢˜</h5><h6 id="å…­çº§æ ‡é¢˜"><a href="#å…­çº§æ ‡é¢˜" class="headerlink" title="å…­çº§æ ‡é¢˜"></a>å…­çº§æ ‡é¢˜</h6></blockquote><hr><h3 id="æ®µè½"><a href="#æ®µè½" class="headerlink" title="æ®µè½"></a>æ®µè½</h3><p>æ®µè½çš„å‰åè¦æœ‰ç©ºè¡Œï¼Œæ‰€è°“çš„ç©ºè¡Œæ˜¯æŒ‡æ²¡æœ‰æ–‡å­—å†…å®¹ã€‚è‹¥æƒ³åœ¨æ®µå†…å¼ºåˆ¶æ¢è¡Œçš„æ–¹å¼æ˜¯ä½¿ç”¨<strong>ä¸¤ä¸ªä»¥ä¸Šç©ºæ ¼åŠ ä¸Šå›è½¦</strong>ã€‚</p><hr><h3 id="å­—ä½“"><a href="#å­—ä½“" class="headerlink" title="å­—ä½“"></a>å­—ä½“</h3><h4 id="ç²—ä½“å’Œæ–œä½“"><a href="#ç²—ä½“å’Œæ–œä½“" class="headerlink" title="ç²—ä½“å’Œæ–œä½“"></a>ç²—ä½“å’Œæ–œä½“</h4><p>ä½¿ç”¨<code>*</code>æˆ–<code>_</code>åŒ…å«éœ€è¦æ ‡è®°ä¸ºæ–œä½“æˆ–åŠ ç²—çš„æ–‡å­—ï¼š  </p><blockquote><p><code>*æ–œä½“æ–‡æœ¬*</code><br><code>_æ–œä½“æ–‡æœ¬_</code><br><code>**ç²—ä½“æ–‡æœ¬**</code><br><code>__ç²—ä½“æ–‡æœ¬__</code><br><code>***ç²—æ–œä½“æ–‡æœ¬***</code><br><code>___ç²—æ–œä½“æ–‡æœ¬___</code>  </p></blockquote><p>æ•ˆæœï¼š  </p><blockquote><p><em>æ–œä½“æ–‡æœ¬</em><br>_æ–œä½“æ–‡æœ¬_<br><strong>ç²—ä½“æ–‡æœ¬</strong><br><strong>ç²—ä½“æ–‡æœ¬</strong><br><strong><em>ç²—æ–œä½“æ–‡æœ¬</em></strong><br><strong>_ç²—æ–œä½“æ–‡æœ¬_</strong>  </p></blockquote><h4 id="ä¸Šä¸‹æ ‡"><a href="#ä¸Šä¸‹æ ‡" class="headerlink" title="ä¸Šä¸‹æ ‡"></a>ä¸Šä¸‹æ ‡</h4><p>ä½¿ç”¨<code>&lt;sub&gt;</code>æ ‡ç­¾ï¼š  </p><blockquote><p>ä¸Šæ ‡ï¼š<code>X&lt;sub&gt;2&lt;/sub&gt;</code><br>ä¸‹æ ‡ï¼š<code>O&lt;sup&gt;2&lt;/sup&gt;</code></p></blockquote><p>æ•ˆæœï¼š    </p><blockquote><p>ä¸Šæ ‡ï¼šX<sub>2</sub><br>ä¸‹æ ‡ï¼šO<sup>2</sup></p></blockquote><hr><h3 id="æ¨ªçº¿"><a href="#æ¨ªçº¿" class="headerlink" title="æ¨ªçº¿"></a>æ¨ªçº¿</h3><hr><h4 id="åˆ†å‰²çº¿"><a href="#åˆ†å‰²çº¿" class="headerlink" title="åˆ†å‰²çº¿"></a>åˆ†å‰²çº¿</h4><p>åœ¨ä¸€è¡Œä¸­ç”¨ä¸‰ä¸ªä»¥ä¸Šçš„<code>*</code>ã€<code>-</code>ã€åº•çº¿æ¥å»ºç«‹ä¸€ä¸ªåˆ†éš”çº¿ï¼Œè¡Œå†…ä¸èƒ½æœ‰å…¶ä»–ä¸œè¥¿ã€‚ä½ ä¹Ÿå¯ä»¥åœ¨æ˜Ÿå·æˆ–æ˜¯å‡å·ä¸­é—´æ’å…¥ç©ºæ ¼ï¼ˆä¸å»ºè®®åŠ ç©ºæ ¼ï¼‰ï¼š  </p><blockquote><p><code>* * *</code><br><code>***</code><br><code>*****</code><br><code>- - -</code><br><code>----------</code>  </p></blockquote><p>æ•ˆæœï¼š</p><blockquote><hr><hr><hr><h2 id=""><a href="#" class="headerlink" title="- - -"></a>- - -</h2></blockquote><h4 id="åˆ é™¤çº¿"><a href="#åˆ é™¤çº¿" class="headerlink" title="åˆ é™¤çº¿"></a>åˆ é™¤çº¿</h4><p>åœ¨æ–‡å­—çš„ä¸¤ç«¯åŠ ä¸Šä¸¤ä¸ªæ³¢æµªçº¿<code>~~</code>å³å¯:  </p><blockquote><p><code>~~Markdownåˆ é™¤çº¿~~</code>  </p></blockquote><p>æ•ˆæœï¼š  </p><blockquote><p><del>Markdownåˆ é™¤çº¿</del></p></blockquote><h4 id="ä¸‹åˆ’çº¿"><a href="#ä¸‹åˆ’çº¿" class="headerlink" title="ä¸‹åˆ’çº¿"></a>ä¸‹åˆ’çº¿</h4><p>ä½¿ç”¨<code>&lt;u&gt;</code>æ ‡ç­¾ï¼š</p><blockquote><p><code>&lt;u&gt;Markdownä¸‹åˆ’çº¿&lt;/u&gt;</code></p></blockquote><p>æ•ˆæœï¼š  </p><blockquote><p><u>Markdownä¸‹åˆ’çº¿</u></p></blockquote><hr><h3 id="2-5-å¼•ç”¨åŒºå—"><a href="#2-5-å¼•ç”¨åŒºå—" class="headerlink" title="2.5 å¼•ç”¨åŒºå—"></a>2.5 å¼•ç”¨åŒºå—</h3><hr><h4 id="è¡Œå†…å¼•ç”¨"><a href="#è¡Œå†…å¼•ç”¨" class="headerlink" title="è¡Œå†…å¼•ç”¨"></a>è¡Œå†…å¼•ç”¨</h4><p>ä½¿ç”¨ç¬¦å·`ï¼ˆEscä¸‹é¢é‚£ä¸ªç¬¦å·ï¼‰:</p><blockquote><p>è¿™æ˜¯`è¡Œå†…`å¼•ç”¨</p></blockquote><p>æ•ˆæœï¼š  </p><blockquote><p>è¿™æ˜¯<code>è¡Œå†…</code>å¼•ç”¨ã€‚</p></blockquote><h4 id="å¼•ç”¨åŒºå—"><a href="#å¼•ç”¨åŒºå—" class="headerlink" title="å¼•ç”¨åŒºå—"></a>å¼•ç”¨åŒºå—</h4><p>åœ¨æ®µé¦–ä½¿ç”¨ç¬¦å·<code>&gt;</code>ï¼š<br><code>&gt; **Markdown** å¼•ç”¨å•è¡Œæ–‡æœ¬</code><br><code>&gt; **Markdown** å¼•ç”¨å•è¡Œæ–‡æœ¬</code></p><p>æ•ˆæœï¼š  </p><blockquote><p><strong>Markdown</strong> å¼•ç”¨å•è¡Œæ–‡æœ¬<br><strong>Markdown</strong> å¼•ç”¨å•è¡Œæ–‡æœ¬</p></blockquote><h4 id="åµŒå¥—å¼•ç”¨åŒºå—"><a href="#åµŒå¥—å¼•ç”¨åŒºå—" class="headerlink" title="åµŒå¥—å¼•ç”¨åŒºå—"></a>åµŒå¥—å¼•ç”¨åŒºå—</h4><p>ä½¿ç”¨å¤šä¸ª<code>&gt;</code>å®ŒæˆåµŒå¥—å¼•ç”¨ï¼š<br><code>&gt; å•è¡Œå¼•ç”¨</code><br><code>&gt;&gt; åµŒå¥—å¼•ç”¨</code><br><code>&gt;&gt;&gt; ä¸‰æ¬¡åµŒå¥—å¼•ç”¨</code><br><code>&gt;&gt;&gt; ä¸‰æ¬¡åµŒå¥—å¼•ç”¨</code> </p><p>æ•ˆæœ</p><blockquote><p>å•è¡Œå¼•ç”¨</p><blockquote><p>äºŒå±‚å¼•ç”¨<br>äºŒå±‚åµŒå¥—</p><blockquote><p>ä¸‰å±‚åµŒå¥—å¼•ç”¨<br>ä¸‰å±‚åµŒå¥—å¼•ç”¨</p></blockquote></blockquote></blockquote><hr><h3 id="ä»£ç åŒºå—"><a href="#ä»£ç åŒºå—" class="headerlink" title="ä»£ç åŒºå—"></a>ä»£ç åŒºå—</h3><hr><p>å¯¹ä»£ç åŒºå—è¿›ç¼©è¿›å¤„ç†ï¼Œé€šè¿‡<strong>æ¯è¡Œ</strong>ç¼©è¿›å››ä¸ªç©ºæ ¼æˆ–ä¸€ä¸ªåˆ¶è¡¨ç¬¦å³å¯ï¼Œä½†æ˜¯æ²¡æœ‰è¯­æ³•é«˜äº®å’Œè¡Œå·æ˜¾ç¤ºã€‚ä»£ç æ–‡æœ¬ï¼š<br><code>void main()</code><br><code>{</code><br>&emsp;&emsp;<code>printf(&quot;Hello, Markdown.&quot;);</code><br><code>}</code> </p><h4 id="ä½¿ç”¨ç©ºæ ¼æˆ–åˆ¶è¡¨ç¬¦"><a href="#ä½¿ç”¨ç©ºæ ¼æˆ–åˆ¶è¡¨ç¬¦" class="headerlink" title="ä½¿ç”¨ç©ºæ ¼æˆ–åˆ¶è¡¨ç¬¦"></a>ä½¿ç”¨ç©ºæ ¼æˆ–åˆ¶è¡¨ç¬¦</h4><pre><code>void main(){    printf(&quot;Hello, Markdown.&quot;);}</code></pre><h4 id="é€šè¿‡æ ‡ç­¾"><a href="#é€šè¿‡æ ‡ç­¾" class="headerlink" title="é€šè¿‡æ ‡ç­¾"></a>é€šè¿‡æ ‡ç­¾</h4><p>ä½¿ç”¨æ ‡ç­¾<code>&lt;pre&gt;&lt;/pre&gt;</code>ä¹Ÿå¯ä»¥å®ç°ç¼©è¿›ï¼š<br><code>&lt;pre&gt;</code><br><code>int main(int argc, int *argv[])</code><br><code>{</code><br>&emsp;&emsp;<code>printf(&quot;Hello, Markdown.&quot;);</code><br><code>}</code><br><code>&lt;/pre&gt;</code></p><p>æ•ˆæœï¼š  </p><pre>int main(int argc, int *argv[])    {        printf("Hello, Markdown.");    }   </pre><h4 id="å¢åŠ é«˜äº®å’Œè¡Œå·"><a href="#å¢åŠ é«˜äº®å’Œè¡Œå·" class="headerlink" title="å¢åŠ é«˜äº®å’Œè¡Œå·"></a>å¢åŠ é«˜äº®å’Œè¡Œå·</h4><p>ç±»ä¼¼å¤šè¡Œæ³¨é‡Šï¼Œåœ¨ä»£ç å—é¦–ä½å„ç”¨ä¸‰ä¸ªç¬¦å·`æ¥å¤„ç†ï¼Œå¹¶æŒ‡å®šä»£ç è¯­è¨€ï¼ˆCè¯­è¨€ä¸ºä¾‹ï¼‰ï¼š</p><p>```C<br><code>int main(int argc, int *argv[])</code><br><code>{</code><br>&emsp;&emsp;<code>printf(&quot;Hello, Markdown.&quot;);</code><br><code>}</code><br>```</p><p>æ•ˆæœï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">int</span> *argv[])</span>    </span></span><br><span class="line"><span class="function"></span>&#123;    </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"Hello, Markdown."</span>);    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="åˆ—è¡¨"><a href="#åˆ—è¡¨" class="headerlink" title="åˆ—è¡¨"></a>åˆ—è¡¨</h3><h4 id="æ— åºåˆ—è¡¨"><a href="#æ— åºåˆ—è¡¨" class="headerlink" title="æ— åºåˆ—è¡¨"></a>æ— åºåˆ—è¡¨</h4><p>ä½¿ç”¨<code>Â·</code>ã€<code>+</code>ã€æˆ–<code>-</code>ä»»æ„ä¸€ç§æ ‡è®°æ— åºåˆ—è¡¨ï¼Œå¦‚ï¼š</p><blockquote><p>- ç¬¬ä¸€é¡¹<br>- ç¬¬äºŒé¡¹<br>- ç¬¬ä¸‰é¡¹  </p><p>+ ç¬¬ä¸€é¡¹<br>+ ç¬¬äºŒé¡¹<br>+ ç¬¬ä¸‰é¡¹  </p><p>* ç¬¬ä¸€é¡¹<br>* ç¬¬äºŒé¡¹<br>* ç¬¬ä¸‰é¡¹  </p></blockquote><p><strong>æ³¨æ„</strong>ï¼šæ ‡è®°åé¢æœ€å°‘æœ‰ä¸€ä¸ª_ç©ºæ ¼_æˆ–_åˆ¶è¡¨ç¬¦_ã€‚è‹¥ä¸åœ¨å¼•ç”¨åŒºå—ä¸­ï¼Œå¿…é¡»å’Œå‰æ–¹æ®µè½ä¹‹é—´å­˜åœ¨ç©ºè¡Œã€‚</p><p>æ•ˆæœï¼š</p><blockquote><ul><li>ç¬¬ä¸€é¡¹</li><li>ç¬¬äºŒé¡¹</li><li>ç¬¬ä¸‰é¡¹</li></ul></blockquote><h4 id="æœ‰åºåˆ—è¡¨"><a href="#æœ‰åºåˆ—è¡¨" class="headerlink" title="æœ‰åºåˆ—è¡¨"></a>æœ‰åºåˆ—è¡¨</h4><p>æœ‰åºåˆ—è¡¨çš„æ ‡è®°æ–¹å¼æ˜¯å°†ä¸Šè¿°çš„ç¬¦å·æ¢æˆæ•°å­—,å¹¶è¾…ä»¥<code>.</code>ï¼Œå¦‚ï¼š</p><blockquote><p>&emsp;&emsp;<code>1. ç¬¬ä¸€é¡¹</code><br>&emsp;&emsp;<code>2. ç¬¬äºŒé¡¹</code><br>&emsp;&emsp;<code>3. ç¬¬ä¸‰é¡¹</code>    </p></blockquote><p>æ•ˆæœï¼š</p><blockquote><ol><li>ç¬¬ä¸€é¡¹</li><li>ç¬¬äºŒé¡¹</li><li>ç¬¬ä¸‰é¡¹</li></ol></blockquote><h4 id="åˆ—è¡¨åµŒå¥—"><a href="#åˆ—è¡¨åµŒå¥—" class="headerlink" title="åˆ—è¡¨åµŒå¥—"></a>åˆ—è¡¨åµŒå¥—</h4><p>åˆ—è¡¨åµŒå¥—åªéœ€åœ¨å­åˆ—è¡¨ä¸­çš„é€‰é¡¹æ·»åŠ å››ä¸ªç©ºæ ¼æˆ–ç¼©è¿›TABå³å¯ï¼Œä¹Ÿå¯åœ¨åˆ—è¡¨å†…è¿›è¡ŒåŒºå—å¼•ç”¨ï¼š  </p><blockquote><p>&emsp;&emsp;<code>1. ç¬¬ä¸€é¡¹</code><br>&emsp;&emsp;&emsp;&emsp;<code>- ç¬¬ä¸€é¡¹åµŒå¥—çš„ç¬¬ä¸€ä¸ªå…ƒç´ </code><br>&emsp;&emsp;&emsp;&emsp;<code>- ç¬¬ä¸€é¡¹åµŒå¥—çš„ç¬¬äºŒä¸ªå…ƒç´ </code><br>&emsp;&emsp;<code>2. ç¬¬äºŒé¡¹</code><br>&emsp;&emsp;&emsp;&emsp;<code>&gt; ç¬¬äºŒé¡¹åµŒå¥—çš„ç¬¬ä¸€ä¸ªå…ƒç´ </code><br>&emsp;&emsp;&emsp;&emsp;<code>&gt; ç¬¬äºŒé¡¹åµŒå¥—çš„ç¬¬äºŒä¸ªå…ƒç´ </code>  </p></blockquote><p>æ•ˆæœï¼š  </p><blockquote><ol><li>ç¬¬ä¸€é¡¹<ul><li>ç¬¬ä¸€é¡¹åµŒå¥—çš„ç¬¬ä¸€ä¸ªå…ƒç´ </li><li>ç¬¬ä¸€é¡¹åµŒå¥—çš„ç¬¬äºŒä¸ªå…ƒç´ </li></ul></li><li>ç¬¬äºŒé¡¹<blockquote><p>ç¬¬äºŒé¡¹ç¬¬ä¸€ä¸ªå…ƒç´ åŒºå—å¼•ç”¨<br>ç¬¬äºŒé¡¹ç¬¬äºŒä¸ªå…ƒç´ åŒºå—å¼•ç”¨</p></blockquote></li></ol></blockquote><h4 id="GFM-task-list"><a href="#GFM-task-list" class="headerlink" title="GFM task list"></a>GFM task list</h4><p>å¸¦é€‰æ‹©æ¡†çš„é€‰é¡¹åˆ—è¡¨ï¼š  </p><pre>- [x] GFM task list 1- [x] GFM task list 2- [ ] GFM task list 3    - [ ] GFM task list 3-1    - [ ] GFM task list 3-2    - [ ] GFM task list 3-3- [ ] GFM task list 4    - [ ] GFM task list 4-1    - [ ] GFM task list 4-2</pre><p>æ•ˆæœï¼š  </p><ul><li>[x] GFM task list 1</li><li>[x] GFM task list 2</li><li>[ ] GFM task list 3<ul><li>[ ] GFM task list 3-1</li><li>[ ] GFM task list 3-2</li><li>[ ] GFM task list 3-3</li></ul></li><li>[ ] GFM task list 4<ul><li>[ ] GFM task list 4-1</li><li>[ ] GFM task list 4-2</li></ul></li></ul><hr><h3 id="é“¾æ¥"><a href="#é“¾æ¥" class="headerlink" title="é“¾æ¥"></a>é“¾æ¥</h3><p>é“¾æ¥å¯ä»¥ç”±ä¸¤ç§å½¢å¼ç”Ÿæˆï¼š<strong>è¡Œå†…å¼</strong>å’Œ<strong>å‚è€ƒå¼</strong>ã€‚ </p><h4 id="è¡Œå†…å¼"><a href="#è¡Œå†…å¼" class="headerlink" title="è¡Œå†…å¼"></a>è¡Œå†…å¼</h4><p>æ–¹å¼ä¸º<code>[é“¾æ¥åç§°](é“¾æ¥åœ°å€)</code>æˆ–<code>&lt;é“¾æ¥åœ°å€&gt;</code></p><blockquote><p><code>è¿™æ˜¯ä¸€ä¸ªé“¾æ¥ [github treading](https://github.com/trending)</code><br><code>è¿™æ˜¯å¦ä¸€ä¸ªé“¾æ¥ &lt;https://github.com/explore&gt;</code></p></blockquote><p>æ•ˆæœï¼š</p><blockquote><p>è¿™æ˜¯ä¸€ä¸ªé“¾æ¥ <a href="https://github.com/trending" target="_blank" rel="noopener">github treading</a><br>è¿™æ˜¯å¦ä¸€ä¸ªé“¾æ¥ <a href="https://github.com/explore" target="_blank" rel="noopener">https://github.com/explore</a></p></blockquote><h4 id="å‚è€ƒå¼"><a href="#å‚è€ƒå¼" class="headerlink" title="å‚è€ƒå¼"></a>å‚è€ƒå¼</h4><p>é“¾æ¥ä¹Ÿå¯ä»¥ç”¨å˜é‡ï¼ˆæ•°å­—æˆ–å­—ç¬¦ä¸²ï¼‰æ¥ä»£æ›¿ï¼š</p><blockquote><p><code>è¿™æ˜¯ä¸€ä¸ªé“¾æ¥ [github treading][1]</code><br><code>è¿™æ˜¯å¦ä¸€ä¸ªé“¾æ¥ [github explore][explore]</code><br><del><strong>(ä¸Šä¸‹ä¹‹é—´å¿…é¡»æœ‰ç©ºè¡Œ)</strong></del><br><code>[1]:https://github.com/trending</code><br><code>[explore]:https://github.com/explore</code>  </p></blockquote><p>æ•ˆæœï¼š</p><blockquote><p>è¿™æ˜¯ä¸€ä¸ªé“¾æ¥ [github treading][1]<br>è¿™æ˜¯å¦ä¸€ä¸ªé“¾æ¥ [github explore][explore]  </p><p>[1]:<a href="https://github.com/trending" target="_blank" rel="noopener">https://github.com/trending</a>   </p><p>[explore]:<a href="https://github.com/explore" target="_blank" rel="noopener">https://github.com/explore</a></p></blockquote><p><strong>æ³¨æ„</strong>ï¼šä¸Šè¿°çš„<code>[1]:https://github.com/trending</code>ä¸å‡ºç°åœ¨åŒºå—ä¸­ã€‚</p><hr><h3 id="å›¾ç‰‡"><a href="#å›¾ç‰‡" class="headerlink" title="å›¾ç‰‡"></a>å›¾ç‰‡</h3><hr><p>æ·»åŠ å›¾ç‰‡çš„å½¢å¼å’Œé“¾æ¥ç›¸ä¼¼ï¼Œåªéœ€åœ¨é“¾æ¥çš„åŸºç¡€ä¸Šå‰æ–¹åŠ ä¸€ä¸ª<code>ï¼</code>ï¼Œæ”¯æŒè¡Œå†…å¼å’Œå‚è€ƒå¼ã€‚å¦‚ä¸Šæ–‡<strong>Aaron Swartz</strong>çš„å›¾ç‰‡é“¾æ¥:    </p><blockquote><p><code>![Aaron Swartz](https://github.com/younghz/Markdown/raw/master/resource/Aaron_Swartz.jpg)</code>  </p></blockquote><hr><h3 id="è¡¨æ ¼"><a href="#è¡¨æ ¼" class="headerlink" title="è¡¨æ ¼"></a>è¡¨æ ¼</h3><p>ä½¿ç”¨<code>|</code>æ¥åˆ†éš”ä¸åŒçš„å•å…ƒæ ¼ï¼Œä½¿ç”¨<code>-</code>æ¥åˆ†éš”è¡¨å¤´å’Œå…¶ä»–è¡Œã€‚ä½¿ç”¨<code>-:</code>ï¼Œ<code>:-</code>ï¼Œ<code>:-:</code>è®¾ç½®è¡¨æ ¼çš„å¯¹é½æ–¹å¼ï¼š</p><blockquote><p><code>| è¿™æ˜¯å·¦å¯¹é½ | è¿™æ˜¯å³å¯¹é½ | è¿™æ˜¯å±…ä¸­å¯¹é½ |</code><br><code>| :--------- | ---------: | :----------: |</code><br><code>| å•å…ƒæ ¼     |     å•å…ƒæ ¼ |    å•å…ƒæ ¼    |</code><br><code>| å•å…ƒæ ¼     |     å•å…ƒæ ¼ |    å•å…ƒæ ¼    |</code>  </p></blockquote><p>æ•ˆæœï¼š  </p><blockquote><div class="table-container"><table><thead><tr><th style="text-align:left">è¿™æ˜¯å·¦å¯¹é½</th><th style="text-align:right">è¿™æ˜¯å³å¯¹é½</th><th style="text-align:center">è¿™æ˜¯å±…ä¸­å¯¹é½</th></tr></thead><tbody><tr><td style="text-align:left">å•å…ƒæ ¼</td><td style="text-align:right">å•å…ƒæ ¼</td><td style="text-align:center">å•å…ƒæ ¼</td></tr><tr><td style="text-align:left">å•å…ƒæ ¼</td><td style="text-align:right">å•å…ƒæ ¼</td><td style="text-align:center">å•å…ƒæ ¼</td></tr></tbody></table></div></blockquote><hr><h3 id="åæ–œæ "><a href="#åæ–œæ " class="headerlink" title="åæ–œæ "></a>åæ–œæ </h3><hr><p><strong>åè½¬ä¹‰</strong>ï¼Œä½¿ç¬¦å·æˆä¸ºæ™®é€šç¬¦å·ã€‚</p><pre>\\    åæ–œçº¿ \`    åå¼•å·\*    æ˜Ÿå· \_    ä¸‹åˆ’çº¿\{\}  èŠ±æ‹¬å·\[\]  æ–¹æ‹¬å·\(\)  å°æ‹¬å·\#    äº•å­—å·\+    åŠ å·\-    å‡å·\.    è‹±æ–‡å¥ç‚¹\!    æ„Ÿå¹å·\!    æ„Ÿå¹å·</pre><p>æ•ˆæœ</p><blockquote><p>\\ åæ–œçº¿<br>` åå¼•å·<br>* æ˜Ÿå·<br>_ ä¸‹åˆ’çº¿<br>\{\} èŠ±æ‹¬å·<br>[] æ–¹æ‹¬å·<br>() å°æ‹¬å·<br># äº•å­—å·<br>+ åŠ å·<br>- å‡å·<br>. è‹±æ–‡å¥ç‚¹<br>! æ„Ÿå¹å·  </p></blockquote><hr><h3 id="ç¬¦å·"><a href="#ç¬¦å·" class="headerlink" title="ç¬¦å·`"></a>ç¬¦å·`</h3><hr><p>èµ·åˆ°æ ‡è®°ä½œç”¨ã€‚å¦‚ï¼š</p><blockquote><p>`ctrl+a`</p></blockquote><p>æ•ˆæœï¼š</p><blockquote><p><code>ctrl+a</code>    </p></blockquote><hr><h2 id="å…¶ä»–è¯­æ³•"><a href="#å…¶ä»–è¯­æ³•" class="headerlink" title="å…¶ä»–è¯­æ³•"></a>å…¶ä»–è¯­æ³•</h2><hr><p>ä½¿ç”¨ä¸¤ä¸ªç¾å…ƒç¬¦$$$$åŒ…è£¹<strong>TeX</strong>æˆ–<strong>LaTeX</strong>æ ¼å¼çš„æ•°å­¦å…¬å¼æ¥å®ç°ã€‚</p><h2 id="â€”"><a href="#â€”" class="headerlink" title="â€”-"></a>â€”-</h2><p><strong>å…¶ä»–</strong>ï¼šå…³äºå…¶å®ƒæ‰©å±•è¯­æ³•å¯å‚è§å…·ä½“å·¥å…·çš„ä½¿ç”¨è¯´æ˜ã€‚</p><hr><h2 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h2><hr><p><a href="https://www.runoob.com/markdown/md-tutorial.html" target="_blank" rel="noopener">https://www.runoob.com/markdown/md-tutorial.html</a><br><a href="https://markdown.tw" target="_blank" rel="noopener">https://markdown.tw</a><br><a href="https://github.com/younghz/Markdown" target="_blank" rel="noopener">https://github.com/younghz/Markdown</a>    </p><h2 id="â€”-1"><a href="#â€”-1" class="headerlink" title="â€”-"></a>â€”-</h2><p><strong><em>ç¬”ä¸‹æ˜¯è¯­æ³•ï¼Œå¿ƒä¸­æ ¼å¼åŒ–</em></strong></p><hr>]]></content>
      
      
      <categories>
          
          <category> Tutorial </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tutorial </tag>
            
            <tag> Markdown </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
